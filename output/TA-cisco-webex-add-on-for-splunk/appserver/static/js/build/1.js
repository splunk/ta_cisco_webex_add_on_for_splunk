(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{229:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(57),a=n.n(r),o=n(0),i=n.n(o),l=n(2),s=n.n(l),c=Object(o.createContext)({rowData:{},setRowData:function(){}}),u=function(e){var t=e.children,n=Object(o.useState)({}),r=a()(n,2),l=r[0],s=r[1],u=Object(o.useState)(""),d=a()(u,2),p=d[0],f=d[1],h=Object(o.useState)("all"),m=a()(h,2),v=m[0],g=m[1],b=Object(o.useState)(10),y=a()(b,2),O=y[0],E=y[1],j=Object(o.useState)(0),k=a()(j,2),w=k[0],C=k[1];return i.a.createElement(c.Provider,{value:{rowData:l,setRowData:s,searchText:p,setSearchText:f,searchType:v,setSearchType:g,pageSize:O,setPageSize:E,currentPage:w,setCurrentPage:C}},t)};u.propTypes={children:s.a.oneOfType([s.a.arrayOf(s.a.node),s.a.node]).isRequired},t.b=c},230:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i}));var r="clone",a="create",o="edit",i="config"},231:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(226),a=n.n(r),o=n(68),i=n.n(o),l=n(117),s=n(116),c=n(36);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t=e.serviceName,n=e.endpointUrl,r=e.params,a=e.body,o=e.cancelToken,u=e.customHeaders,p=void 0===u?{}:u,f=e.method,h=void 0===f?"get":f,m=e.handleError,v=void 0!==m&&m,g=e.callbackOnError,b=void 0===g?function(){}:g,y=t?Object(c.b)(t):n,O={app:l.app,owner:"nobody"},E={"X-Splunk-Form-Key":l.CSRFToken,"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},j=Object.assign(E,p),k=Object(s.createRESTURL)(y,O),w={output_mode:"json"};r&&(w=d(d({},w),r));var C={params:w,method:h,url:k,credentials:"include",headers:j,cancelToken:o};return"post"===h&&(C.data=a),v?i()(C).catch((function(e){var t="";return i.a.isCancel(e)||(t=e.response?"Error response received from server: ".concat(e.response.data.messages[0].text):e.request?"No response received while making request to ".concat(y):"Error making ".concat(h," request to ").concat(y),Object(c.c)(t,"error"),b(e)),Promise.reject(e)})):i()(C)}},251:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r,a,o,i=n(13),l=n.n(i),s=n(1),c=n(4),u=s.default.div.attrs({className:"pageTitle"})(r||(r=l()(["\n    &.pageTitle {\n        font-size: ",";\n        margin-bottom: 20px;\n    }\n"])),c.variables.fontSizeXXLarge),d=s.default.div.attrs({className:"pageSubtitle"})(a||(a=l()(["\n    &.pageSubtitle {\n        font-size: ",";\n        margin-bottom: 10px;\n    }\n"])),c.variables.fontSize);s.default.div(o||(o=l()(["\n    .table-caption-inner {\n        text-align: left;\n    }\n"])))},255:function(e,t,n){"use strict";var r=n(5);t.a=function(){return new URLSearchParams(Object(r.e)().search)}},256:function(e,t,n){"use strict";var r,a=n(25),o=n.n(a),i=n(26),l=n.n(i),s=n(106),c=n.n(s),u=n(28),d=n.n(u),p=n(29),f=n.n(p),h=n(18),m=n.n(h),v=n(226),g=n.n(v),b=n(13),y=n.n(b),O=n(0),E=n.n(O),j=n(2),k=n.n(j),w=n(27),C=n.n(w),R=n(22),S=n.n(R),x=n(1),N=n(61),P=n.n(N),M=n(7),_=n(230),T=n(259);function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var D=Object(x.default)(S.a)(r||(r=y()(["\n    width: 800px;\n"]))),V=function(e){d()(n,e);var t=F(n);function n(e){var r;return o()(this,n),r=t.call(this,e),g()(c()(r),"handleRequestClose",(function(){r.props.handleRequestClose()})),g()(c()(r),"handleSubmit",(function(){r.form.current.handleSubmit()&&r.handleRequestClose()})),g()(c()(r),"handleFormSubmit",(function(e,t){r.setState({isSubmititng:e}),t&&r.handleRequestClose()})),r.form=E.a.createRef(),r.state={isSubmititng:!1},e.mode===_.c?r.buttonText=Object(M._)("Add"):e.mode===_.a?r.buttonText=Object(M._)("Save"):e.mode===_.d?r.buttonText=Object(M._)("Update"):r.buttonText=Object(M._)("Submit"),r}return l()(n,[{key:"render",value:function(){return E.a.createElement(D,{open:this.props.open},E.a.createElement(S.a.Header,{title:this.props.formLabel,onRequestClose:this.handleRequestClose}),E.a.createElement(S.a.Body,null,E.a.createElement(T.a,{ref:this.form,page:this.props.page,serviceName:this.props.serviceName,mode:this.props.mode,stanzaName:this.props.stanzaName,handleFormSubmit:this.handleFormSubmit})),E.a.createElement(S.a.Footer,null,E.a.createElement(C.a,{appearance:"secondary",onClick:this.handleRequestClose,label:Object(M._)("Cancel"),disabled:this.state.isSubmititng}),E.a.createElement(C.a,{className:"saveBtn",appearance:"primary",label:this.state.isSubmititng?E.a.createElement(P.a,null):this.buttonText,onClick:this.handleSubmit,disabled:this.state.isSubmititng})))}}]),n}(O.Component);V.propTypes={page:k.a.string,open:k.a.bool,handleRequestClose:k.a.func,serviceName:k.a.string,mode:k.a.string,stanzaName:k.a.string,formLabel:k.a.string},t.a=V},259:function(e,t,n){"use strict";var r,a=n(367),o=n.n(a),i=n(368),l=n.n(i),s=n(25),c=n.n(s),u=n(26),d=n.n(u),p=n(106),f=n.n(p),h=n(28),m=n.n(h),v=n(29),g=n.n(v),b=n(18),y=n.n(b),O=n(226),E=n.n(O),j=n(13),k=n.n(j),w=n(372),C=n.n(w),R=n(0),S=n.n(R),x=n(2),N=n.n(x),P=n(252),M=n.n(P),_=n(412),T=n(374),F=n.n(T),D=n(76),V=n.n(D),q=n(1),A=n(376),z=n.n(A),I=n(107),L=n.n(I),B=q.default.span(r||(r=k()(["\n    color: ",";\n"])),(function(e){return e.color}));function H(e){return S.a.createElement("div",{"data-test":"msg-markdown"},(t=e.text,"link"===e.markdownType?t=S.a.createElement(L.a,{to:e.link},e.text):"hybrid"===e.markdownType?(t=function(e,t){for(var n=[],r=0;r<e.length;r+=1){var a=t(e[r]);n=n.concat(a)}return n}(t.split(e.token),(function(t){return[t,S.a.createElement(L.a,{key:t,to:e.link},e.linkText)]}))).pop():"text"===e.markdownType&&(t=S.a.createElement(B,{color:e.color},e.text)),t));var t}H.propTypes={text:N.a.string,link:N.a.string,color:N.a.string,markdownType:N.a.string,token:N.a.string,linkText:N.a.string};var U=S.a.memo(H);function $(e){var t=e.controlOptions,n=t.text,r=t.link;return S.a.createElement(L.a,{to:r,openInNewContext:!0},n)}$.propTypes={controlOptions:N.a.object};var W,K=$,Z=n(234),G=n.n(Z);function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var J=Object(q.default)(G.a)(W||(W=k()(["\n    width: 320px !important;\n"]))),Q=function(e){m()(n,e);var t=X(n);function n(){var e;c()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),E()(f()(e),"handleChange",(function(t,n){var r=n.value;e.props.handleChange(e.props.field,r)})),e}return d()(n,[{key:"render",value:function(){var e,t;return S.a.createElement(J,{inline:!0,error:this.props.error,placeholder:null===(e=this.props)||void 0===e||null===(t=e.controlOptions)||void 0===t?void 0:t.placeholder,className:this.props.field,disabled:this.props.disabled,value:null===this.props.value||void 0===this.props.value?"":this.props.value.toString(),onChange:this.handleChange,type:this.props.encrypted?"password":"text"})}}]),n}(R.Component);Q.propTypes={value:N.a.oneOfType([N.a.string,N.a.number]),handleChange:N.a.func.isRequired,field:N.a.string,error:N.a.bool,controlOptions:N.a.object,encrypted:N.a.bool,disabled:N.a.bool};var Y,ee,te=Q,ne=n(57),re=n.n(ne),ae=n(285),oe=n.n(ae),ie=n(286),le=n.n(ie),se=n(396),ce=n.n(se),ue=n(27),de=n.n(ue),pe=n(126),fe=n.n(pe),he=n(7),me=n(68),ve=n.n(me),ge=n(231),be=n(36),ye=Object(q.default)(le.a)(Y||(Y=k()(["\n    width: 320px !important;\n"]))),Oe=q.default.div(ee||(ee=k()(["\n    div:first-child {\n        width: 320px !important;\n    }\n"])));function Ee(e){var t=e.field,n=e.disabled,r=void 0!==n&&n,a=e.error,o=void 0!==a&&a,i=e.controlOptions,l=e.dependencyValues,s=oe()(e,["field","disabled","error","controlOptions","dependencyValues"]),c=i.endpointUrl,u=i.denyList,d=i.allowList,p=i.placeholder,f=void 0===p?Object(he._)("Select a value"):p,h=i.dependencies,m=i.createSearchChoice,v=i.referenceName,g=i.disableSearch,b=i.labelField,y=i.autoCompleteFields,O=i.isClearable;function E(e,n){s.handleChange(t,n.value)}var j=m?ce.a.Option:le.a.Option,k=m?ce.a.Heading:le.a.Heading;function w(e){var t=[];return e.forEach((function(e){e.value&&e.label&&t.push(S.a.createElement(j,{label:e.label,value:e.value,key:e.value})),e.children&&e.label&&(t.push(S.a.createElement(k,{key:e.label},e.label)),e.children.forEach((function(e){t.push(S.a.createElement(j,{label:e.label,value:e.value,key:e.value}))})))})),t}var C=Object(R.useState)(!1),x=re()(C,2),N=x[0],P=x[1],M=Object(R.useState)(null),_=re()(M,2),T=_[0],F=_[1];Object(R.useEffect)((function(){if(c||v||!y){var e=!0,t=ve.a.CancelToken.source(),n={CancelToken:t.token,handleError:!0};return v?n.serviceName=v:c&&(n.endpointUrl=c),l&&(n.params=l),h&&!l||(P(!0),Object(ge.a)(n).then((function(t){e&&(F(w(Object(be.a)(t.data.entry,b,d,u))),P(!1))})).catch((function(){e&&P(!1)}))),function(){t.cancel("Operation canceled."),e=!1}}F(w(y))}),[l]);var D=!!N||r,V=N?Object(he._)("Loading"):f;return S.a.createElement(S.a.Fragment,null,m?S.a.createElement(Oe,{className:"dropdownBox"},S.a.createElement(ce.a,{value:null===e.value?"":e.value,name:t,error:o,placeholder:V,disabled:D,onChange:E,inline:!0},T&&T.length>0&&T)):S.a.createElement(S.a.Fragment,null,S.a.createElement(ye,{className:"dropdownBox","data-test-loading":N,value:e.value,name:t,error:o,placeholder:V,disabled:D,onChange:E,filter:!g,inline:!0},T&&T.length>0&&T),!0!==O?S.a.createElement(de.a,{"data-test":"clear",appearance:"secondary",icon:S.a.createElement(fe.a,null),onClick:function(){return s.handleChange(t,"")}}):null))}Ee.propTypes={disabled:N.a.bool,value:N.a.string,error:N.a.bool,handleChange:N.a.func.isRequired,field:N.a.string,dependencyValues:N.a.object,controlOptions:N.a.shape({autoCompleteFields:N.a.array,endpointUrl:N.a.string,denyList:N.a.string,allowList:N.a.string,placeholder:N.a.string,dependencies:N.a.array,createSearchChoice:N.a.bool,referenceName:N.a.string,disableSearch:N.a.bool,labelField:N.a.string,isClearable:N.a.bool})};var je,ke=Ee,we=n(397),Ce=n.n(we),Re=n(8),Se=Object(q.default)(Ce.a)(je||(je=k()(["\n    width: 320px !important;\n"])));function xe(e){var t=e.field,n=e.disabled,r=void 0!==n&&n,a=e.error,o=void 0!==a&&a,i=e.value,l=e.controlOptions,s=e.dependencyValues,c=oe()(e,["field","disabled","error","value","controlOptions","dependencyValues"]),u=l.endpointUrl,d=l.denyList,p=l.allowList,f=l.items,h=l.dependencies,m=l.referenceName,v=l.placeholder,g=l.createSearchChoice,b=l.labelField,y=l.delimiter,O=void 0===y?",":y;function E(e){return e.map((function(e){return S.a.createElement(Ce.a.Option,{label:e.label,value:e.value,key:e.value})}))}var j=Object(R.useState)(!1),k=re()(j,2),w=k[0],C=k[1],x=Object(R.useState)(null),N=re()(x,2),P=N[0],M=N[1];Object(R.useEffect)((function(){if(u||!f){var e=!0,t=ve.a.CancelToken.source(),n={CancelToken:t.token,handleError:!0};return m?n.serviceName=m:u&&(n.endpointUrl=u),s&&(n.params=s),h&&!s||(C(!0),Object(ge.a)(n).then((function(t){e&&(M(E(Object(be.a)(t.data.entry,b,p,d))),C(!1))})).catch((function(){e&&C(!1)}))),function(){t.cancel("Operation canceled."),e=!1}}M(E(f))}),[s]);var _=!!w||r,T=w?Object(Re.a)(115):v,F=i?i.split(O):[];return S.a.createElement(Se,{values:F,error:o,name:t,placeholder:T,disabled:_,allowNewValues:g,onChange:function(e,n){var r=n.values;c.handleChange(t,r.join(O))},inline:!0},P&&P.length>0&&P)}xe.propTypes={disabled:N.a.bool,value:N.a.string,error:N.a.bool,handleChange:N.a.func.isRequired,field:N.a.string,dependencyValues:N.a.object,controlOptions:N.a.shape({delimiter:N.a.string,placeholder:N.a.string,createSearchChoice:N.a.bool,referenceName:N.a.string,dependencies:N.a.array,endpointUrl:N.a.string,denyList:N.a.string,allowList:N.a.string,labelField:N.a.string,items:N.a.arrayOf(N.a.shape({label:N.a.string.isRequired,value:N.a.string.isRequired}))})};var Ne=xe,Pe=n(237),Me=n.n(Pe);function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Te=function(e){m()(n,e);var t=_e(n);function n(){var e;c()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),E()(f()(e),"handleChange",(function(){e.props.value&&!Object(be.e)(e.props.value)?e.props.handleChange(e.props.field,0):e.props.handleChange(e.props.field,1)})),e}return d()(n,[{key:"render",value:function(){return S.a.createElement(Me.a,{key:this.props.field,value:this.props.field,onClick:this.handleChange,disabled:this.props.disabled,selected:!(!this.props.value||Object(be.e)(this.props.value)),appearance:"checkbox"})}}]),n}(R.Component);Te.propTypes={value:N.a.oneOfType([N.a.bool,N.a.number,N.a.string]),handleChange:N.a.func.isRequired,field:N.a.string,disabled:N.a.bool};var Fe,De=Te,Ve=n(399),qe=n.n(Ve);function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var ze=Object(q.default)(qe.a)(Fe||(Fe=k()(["\n    width: 320px;\n"]))),Ie=function(e){m()(n,e);var t=Ae(n);function n(){var e;c()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),E()(f()(e),"handleChange",(function(t,n){var r=n.value;e.props.handleChange(e.props.field,r)})),e}return d()(n,[{key:"render",value:function(){return S.a.createElement(ze,{inline:!0,onChange:this.handleChange,value:this.props.value,key:this.props.field},this.props.controlOptions.items.map((function(e){return S.a.createElement(qe.a.Option,{key:e.value,value:e.value,label:e.label})})))}}]),n}(R.Component);Ie.propTypes={value:N.a.string,handleChange:N.a.func.isRequired,field:N.a.string,controlOptions:N.a.object};var Le=Ie,Be=n(400),He=n.n(Be);function Ue(e){var t=e.controlOptions.defaultValue;return S.a.createElement(He.a,null,t)}Ue.propTypes={controlOptions:N.a.object};var $e=Ue,We=n(30);function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Ze=function(e){m()(n,e);var t=Ke(n);function n(e){var r;return c()(this,n),r=t.call(this,e),E()(f()(r),"loadCustomControl",(function(e,t,n){return new Promise((function(r){"external"===t?import("".concat(Object(We.a)(),"/custom/").concat(e,".js")).then((function(e){var t=e.default;r(t)})):require(["app/".concat(n,"/js/build/custom/").concat(e)],(function(e){r(e)}))}))})),E()(f()(r),"setValue",(function(e){r.props.handleChange(r.props.field,e)})),r.state={loading:!0},r.shouldRender=!0,r}return d()(n,[{key:"componentDidMount",value:function(){var e=this,t=Object(be.d)(),n=t.meta.name;this.loadCustomControl(this.props.controlOptions.src,this.props.controlOptions.type,n).then((function(n){var r=new n(t,e.el,e.props.data,e.setValue,e.props.utilCustomFunctions);r.render(),"function"==typeof r.validation&&e.props.addCustomValidator(e.props.field,r.validation),e.setState({loading:!1})}))}},{key:"shouldComponentUpdate",value:function(e,t){return!(t.loading||!this.shouldRender)&&(this.shouldRender=!1,!0)}},{key:"render",value:function(){var e=this;return S.a.createElement(S.a.Fragment,null,this.state.loading&&Object(he._)("Loading..."),S.a.createElement("span",{ref:function(t){e.el=t},style:{visibility:this.state.loading?"hidden":"visible"}}))}}]),n}(R.Component);Ze.propTypes={data:N.a.object,field:N.a.string,handleChange:N.a.func,controlOptions:N.a.object,addCustomValidator:N.a.func,utilCustomFunctions:N.a.object};var Ge,Xe,Je={text:te,singleSelect:ke,helpLink:K,multipleSelect:Ne,checkbox:De,radio:Le,placeholder:$e,custom:Ze};function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var tt=q.default.div(Ge||(Ge=k()(["\n    margin-left: 30px;\n"]))),nt=Object(q.default)(z.a).attrs((function(e){return{"data-name":e.dataName}}))(Xe||(Xe=k()(["\n    width: 100%;\n    max-width: 100%;\n\n    > * {\n        &:first-child {\n            width: 240px !important;\n        }\n        &:nth-child(3) {\n            margin-left: 270px !important;\n            width: 320px;\n        }\n    }\n"]))),rt=function(e){m()(n,e);var t=et(n);function n(e){var r,a;return c()(this,n),a=t.call(this,e),E()(f()(a),"isString",(function(e){return!!("string"==typeof e||e instanceof String)})),a.controlType=a.isString(e.entity.type)?Je[e.entity.type]:null,a.options=a.props.entity.options,a.props.entity.required||Object.prototype.hasOwnProperty.call(a.props.entity,"oauth_field")||null!==(r=a.options)&&void 0!==r&&r.placeholder||(a.options=Ye(Ye({},a.options),{},{placeholder:"optional"})),a}return d()(n,[{key:"render",value:function(){var e,t=this.props.entity,n=t.field,r=t.type,a=t.label,o=t.tooltip,i=t.help,l=t.encrypted,s=void 0!==l&&l,c=this.props.utilityFuncts,u=c.handleChange,d=c.addCustomValidator,p=c.utilCustomFunctions,f=this.props.markdownMessage||{},h=f.text,m=f.link,v=f.color,g=f.markdownType,b=f.token,y=f.linkText;if("custom"===this.props.entity.type){var O={value:this.props.value,mode:this.props.mode,serviceName:this.props.serviceName};e=this.controlType?S.a.createElement(this.controlType,{data:O,field:n,handleChange:u,addCustomValidator:d,utilCustomFunctions:p,controlOptions:this.options}):"No View Found for ".concat(r," type")}else e=this.controlType?S.a.createElement(this.controlType,{handleChange:u,value:this.props.value,field:n,controlOptions:this.options,error:this.props.error,disabled:this.props.disabled,encrypted:s,dependencyValues:this.props.dependencyValues}):"No View Found for ".concat(r," type");var E=S.a.createElement(S.a.Fragment,null,S.a.createElement(U,{text:h||"",link:m||"",color:v||"",markdownType:g||"",token:b||"",linkText:y||""}),i);return this.props.display&&S.a.createElement(nt,{label:a,help:E,tooltip:o,error:this.props.error,dataName:n},S.a.createElement(tt,null,e))}}]),n}(S.a.PureComponent);rt.propTypes={mode:N.a.string,utilityFuncts:N.a.object,value:N.a.any,display:N.a.bool,error:N.a.bool,entity:N.a.object,disabled:N.a.bool,markdownMessage:N.a.object,serviceName:N.a.string,dependencyValues:N.a.object};var at=rt,ot={url:{regex:/^(?:(?:https?|ftp|opc\.tcp):\/\/)?(?:\S+(?::\S*)?@)?(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?_?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))?)(?::\d{2,5})?(?:\/[^\s]*)?$/,inputValueType:Object(Re.a)(111)},email:{regex:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,inputValueType:Object(Re.a)(112)},ipv4:{regex:/^(?:(?:[0-1]?\d{1,2}|2[0-4]\d|25[0-5])(?:\.|$)){4}$/,inputValueType:Object(Re.a)(113)},date:{regex:/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,inputValueType:Object(Re.a)(114)}},it=n(88);var lt,st,ct=function(){function e(t){c()(this,e),E()(this,"checkIsFieldHasInput",(function(e){return void 0!==e&&""!==e&&null!==e})),this.entities=t,this.isName=t.find((function(e){return"name"===e.field}))}return d()(e,[{key:"RequiredValidator",value:function(e,t,n){return!this.checkIsFieldHasInput(n)&&{errorField:e,errorMsg:Object(Re.a)(6,[t])}}},{key:"StringValidator",value:function(e,t,n,r){var a=Object(it.d)(n.minLength,n.maxLength).error;return a?{errorField:e,errorMsg:a}:this.checkIsFieldHasInput(r)&&r.length>n.maxLength?{errorField:e,errorMsg:n.errorMsg?n.errorMsg:Object(Re.a)(18,[t,n.maxLength])}:!!(this.checkIsFieldHasInput(r)&&r.length<n.minLength)&&{errorField:e,errorMsg:n.errorMsg?n.errorMsg:Object(Re.a)(17,[t,n.minLength])}}},{key:"RegexValidator",value:function(e,t,n,r){var a=Object(it.c)(n.pattern),o=a.error,i=a.result;return o?{errorField:e,errorMsg:o}:!(!this.checkIsFieldHasInput(r)||i.test(r))&&{errorField:e,errorMsg:n.errorMsg?n.errorMsg:Object(Re.a)(15,[t,n.pattern])}}},{key:"PreDefinedRegexValidator",value:function(e,t,n,r,a,o){var i=Object(it.c)(a),l=i.error,s=i.result;return l?{errorField:e,errorMsg:l}:!(!this.checkIsFieldHasInput(r)||s.test(r))&&{errorField:e,errorMsg:n.errorMsg?n.errorMsg:Object(Re.a)(19,[t,o])}}},{key:"NumberValidator",value:function(e,t,n,r){var a=Object(it.b)(n.range).error;if(a)return{errorField:e,errorMsg:a};var o=Number(r);return Number.isNaN(o)?{errorField:e,errorMsg:n.errorMsg?n.errorMsg:Object(Re.a)(16,[t])}:!!(this.checkIsFieldHasInput(r)&&o>n.range[1]||o<n.range[0])&&{errorField:e,errorMsg:n.errorMsg?n.errorMsg:Object(Re.a)(8,[t,n.range[0],n.range[1]])}}},{key:"doValidation",value:function(t){if(this.isName){var n=t.name,r=this.isName.label;if(void 0===n||""===n||null==n)return{errorField:"name",errorMsg:Object(Re.a)(0,[r])};if(!("string"==typeof n||n instanceof String))return{errorField:"name",errorMsg:Object(Re.a)(1,[r])};if(n.startsWith("_")||"."===n||".."===n||"default"===n.toLowerCase())return{errorField:"name",errorMsg:Object(Re.a)(3,[r])};if(["*","\\","[","]","(",")","?",":"].some((function(e){return n.indexOf(e)>-1})))return{errorField:"name",errorMsg:Object(Re.a)(3,[r])};if(n.length>=1024)return{errorField:"name",errorMsg:Object(Re.a)(22,[r])}}var a,o,i;for(o=0;o<this.entities.length;o+=1){if(!0===this.entities[o].required&&(a=this.RequiredValidator(this.entities[o].field,this.entities[o].label,t[this.entities[o].field])))return a;if(""!==t[this.entities[o].field]&&null!==t[this.entities[o].field]&&this.entities[o].validators)for(i=0;i<this.entities[o].validators.length;i+=1)switch(this.entities[o].validators[i].type){case"string":if(a=this.StringValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field]))return a;break;case"regex":if(a=this.RegexValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field]))return a;break;case"number":if(a=this.NumberValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field]))return a;break;case"url":if(a=this.PreDefinedRegexValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field],ot.url.regex,ot.url.inputValueType))return a;break;case"date":if(a=this.PreDefinedRegexValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field],ot.date.regex,ot.date.inputValueType))return a;break;case"email":if(a=this.PreDefinedRegexValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field],ot.email.regex,ot.email.inputValueType))return a;break;case"ipv4":if(a=this.PreDefinedRegexValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field],ot.ipv4.regex,ot.ipv4.inputValueType))return a;break;case"custom":if(a=e.CustomValidator(this.entities[o].validators[i].validatorFunc,this.entities[o].field,t[this.entities[o].field]))return a}}return!1}}],[{key:"CustomValidator",value:function(e,t,n){var r=e(t,n);return"string"==typeof r&&{errorField:t,errorMsg:r}}}]),e}(),ut=n(230),dt=n(39),pt=n(229);function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var vt=Object(q.default)(F.a)(lt||(lt=k()(["\n    span {\n        button {\n            background-color: transparent;\n            font-size: 16px;\n            margin: 10px 0;\n\n            &:hover:not([disabled]),\n            &:focus:not([disabled]),\n            &:active:not([disabled]) {\n                background-color: transparent;\n                box-shadow: none;\n            }\n        }\n    }\n\n    .collapsible-element {\n        padding-top: 15px;\n    }\n"]))),gt=q.default.div(st||(st=k()(["\n    padding: 6px 10px;\n    background-color: #f2f4f5;\n"]))),bt=function(e){m()(n,e);var t=mt(n);function n(e,r){var a;c()(this,n),a=t.call(this,e),E()(f()(a),"updateEntitiesForGroup",(function(e){a.groups&&a.groups.length&&a.groups.forEach((function(t){var n;t&&null!==(n=t.fields)&&void 0!==n&&n.length&&t.fields.forEach((function(t){var n=e.entity.findIndex((function(e){return e.field===t}));if(-1!==n){var r=JSON.parse(JSON.stringify(e.entity[n]));r.isGrouping=!0,a.entities.splice(n,1,r)}}))}))})),E()(f()(a),"handleSubmit",(function(){if((a.clearErrorMsg(),a.props.handleFormSubmit(!0,!1),a.datadict={},Object.keys(a.state.data).forEach((function(e){a.datadict[e]=a.state.data[e].value})),a.hook&&"function"==typeof a.hook.onSave)&&!a.hook.onSave(a.datadict))return void a.props.handleFormSubmit(!1,!1);var e=function(){var e;if((Object.keys(a.state.data).forEach((function(e){a.datadict[e]=a.state.data[e].value})),[ut.c,ut.a].includes(a.props.mode))&&Boolean(Object.values(a.context.rowData).find((function(e){return Object.keys(e).find((function(e){return e===a.datadict.name}))})))){var t=a.entities.findIndex((function(e){return"name"===e.field}));return a.setErrorFieldMsg("name",Object(Re.a)(2,[a.entities[t].label,a.datadict.name])),void a.props.handleFormSubmit(!1,!1)}if(a.isAuthVal){var n=[];Object.keys(a.authMap).forEach((function(e){e===a.datadict.auth_type&&(n=[].concat(l()(n),l()(a.authMap[e])))})),e=a.entities.map((function(e){return n.includes(e.field)?ht(ht({},e),{},{required:!0}):e}))}else e=a.entities;var r=new ct(e).doValidation(a.datadict);if(r?a.setErrorFieldMsg(r.errorField,r.errorMsg):a.options&&a.options.saveValidator&&(r=function(e,t){var n=Object(it.a)(e),r=n.error,a=n.result;if(r)return{errorMsg:r};var o=a(t);return"string"==typeof o?{errorMsg:o}:void 0}(a.options.saveValidator,a.datadict))&&a.setErrorMsg(r.errorMsg),r)a.props.handleFormSubmit(!1,!1);else if(a.isOAuth&&(a.isSingleOauth||a.isAuthVal&&"oauth"===a.datadict.auth_type)){var i="?response_type=code&client_id=".concat(a.datadict.client_id,"&redirect_uri=").concat(a.datadict.redirect_url),s=null!=a.isoauthState&&a.isoauthState;"true"!==s&&!0!==s||(a.state_enabled=!0,a.oauth_state=Object(_.a)().replace(/-/g,""),i="".concat(i,"&state=").concat(a.oauth_state));var c="https://".concat(a.datadict.endpoint).concat(a.oauthConf.authCodeEndpoint).concat(i);o()(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.isCalled=!1,a.isError=!1,a.isResponse=!1,a.childWin=window.open(c,"".concat(a.appName," OAuth"),"width=".concat(a.oauthConf.popupWidth,", height=").concat(a.oauthConf.popupHeight)),window.getMessage=function(e){a.isCalled=!0,a.handleOauthToken(e)},e.next=7,a.waitForAuthentication(a.oauthConf.authTimeout);case 7:if(a.isCalled||!a.childWin.closed){e.next=11;break}return a.setErrorMsg("Authentication process interrupted. Please try again."),a.props.handleFormSubmit(!1,!1),e.abrupt("return",!1);case 11:if(a.isCalled){e.next=15;break}return a.setErrorMsg("Request time out while authenticating. Please try again."),a.props.handleFormSubmit(!1,!1),e.abrupt("return",!1);case 15:return e.next=17,a.waitForBackendResponse(30);case 17:if(a.isResponse||a.isError){e.next=22;break}return a.isError=!0,a.setErrorMsg("Request time out while getting accesstoken. Please try again."),a.props.handleFormSubmit(!1,!1),e.abrupt("return",!1);case 22:return e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e)})))().then((function(){a.isError?a.props.handleFormSubmit(!1,!1):a.saveData()}))}else a.saveData()};a.hook&&"function"==typeof a.hook.onSave&&void 0!==a.onSavePromise?a.onSavePromise.then((function(){e()})):e()})),E()(f()(a),"saveData",(function(){var e=new URLSearchParams;Object.keys(a.datadict).forEach((function(t){null!=a.datadict[t]&&e.append(t,a.datadict[t])})),a.isOAuth&&e.delete("redirect_url"),a.props.mode===ut.d&&e.delete("name"),Object(ge.a)({serviceName:a.endpoint,body:e,customHeaders:{"Content-Type":"application/x-www-form-urlencoded"},method:"post",handleError:!1}).then((function(e){var t,n=null==e||null===(t=e.data)||void 0===t?void 0:t.entry[0];if(a.props.mode!==ut.b){var r={};r[n.name]=ht(ht({},n.content),{},{id:n.id,name:n.name,serviceName:a.props.serviceName}),a.context.setRowData(M()(a.context.rowData,E()({},a.props.serviceName,{$merge:r})))}a.hook&&"function"==typeof a.hook.onSaveSuccess&&a.hook.onSaveSuccess(),a.props.mode===ut.d?Object(be.c)('Updated "'.concat(n.name,'"'),"success"):a.props.mode===ut.b?Object(be.c)('Updated "'.concat(a.mode_config_title?a.mode_config_title:n.name,'"'),"success"):Object(be.c)('Created "'.concat(n.name,'"'),"success"),a.props.handleFormSubmit(!1,!0)})).catch((function(e){var t=Object(Re.b)(e);a.setState({errorMsg:t}),a.hook&&"function"==typeof a.hook.onSaveFail&&a.hook.onSaveFail(),a.props.handleFormSubmit(!1,!1)}))})),E()(f()(a),"handleChange",(function(e,t){var n={};if("auth_type"===e&&Object.keys(a.authMap).forEach((function(e){e===t?a.authMap[e].forEach((function(e){n[e]={display:{$set:!0}}})):a.authMap[e].forEach((function(e){n[e]={display:{$set:!1}}}))})),a.dependencyMap.has(e)){var r=a.dependencyMap.get(e);Object.keys(r).forEach((function(o){var i={},l=!0;r[o].forEach((function(n){var r=!!a.entities.find((function(e){return e.field===n})).required,o=n===e?t:a.state.data[n].value;r&&!o?(l=!1,i[n]=null):i[n]=o})),l&&(n[o]={dependencyValues:{$set:i},value:{$set:null}})}))}n[e]={value:{$set:t}};var o=M()(a.state,{data:n}),i=a.clearAllErrorMsg(o);a.setState(i),a.hookDeferred&&a.hookDeferred.then((function(){"function"==typeof a.hook.onChange&&a.hook.onChange(e,t,i)}))})),E()(f()(a),"addCustomValidator",(function(e,t){var n=a.entities.findIndex((function(t){return t.field===e})),r=[{type:"custom",validatorFunc:t}];a.entities[n].validators=r})),E()(f()(a),"setErrorFieldMsg",(function(e,t){a.setState((function(n){var r=M()(n,{data:E()({},e,{error:{$set:!0}})});return r.errorMsg=t,r}))})),E()(f()(a),"setErrorField",(function(e){a.setState((function(t){return M()(t,{data:E()({},e,{error:{$set:!0}})})}))})),E()(f()(a),"clearErrorMsg",(function(){a.state.errorMsg&&a.setState((function(e){return ht(ht({},e),{},{errorMsg:""})}))})),E()(f()(a),"setErrorMsg",(function(e){a.setState((function(t){return ht(ht({},t),{},{errorMsg:e})}))})),E()(f()(a),"clearAllErrorMsg",(function(e){var t=ht({},e||a.state);t.errorMsg="",t.warningMsg="";var n=ht({},e?e.data:a.state.data),r={};return Object.keys(n).forEach((function(e){n[e].error?r[e]=ht(ht({},n[e]),{},{error:!1}):r[e]=n[e]})),t.data=r,e?t:null})),E()(f()(a),"generateErrorMessage",(function(){return a.state.errorMsg?S.a.createElement(V.a,{appearance:"fill",type:"error"},a.state.errorMsg):null})),E()(f()(a),"generateWarningMessage",(function(){return a.state.warningMsg?S.a.createElement(V.a,{appearance:"fill",type:"warning"},a.state.warningMsg):null})),E()(f()(a),"loadHook",(function(e,t,n){return new Promise((function(r){"external"===t?import("".concat(Object(We.a)(),"/custom/").concat(e,".js")).then((function(e){var t=e.default;a.hook=new t(n,a.props.serviceName,a.state,a.props.mode,a.util),r(t)})):require(["app/".concat(a.appName,"/js/build/custom/").concat(e)],(function(e){a.hook=new e(n,a.props.serviceName,a.state,a.props.mode,a.util),r(e)}))}))})),E()(f()(a),"handleOauthToken",(function(e){if(!e||e&&e.error||void 0===e.code)return a.setErrorMsg("Error occurred while trying to authenticate. Please try Again."),a.isError=!0,a.isResponse=!0,!1;var t=e.state;if(!0===a.state_enabled&&a.oauth_state!==t)return a.setErrorMsg("Response not received from the expected sender. Please try again."),a.isError=!0,a.isResponse=!0,!1;var n=decodeURIComponent(e.code),r={method:"POST",url:"https://".concat(a.datadict.endpoint).concat(a.oauthConf.accessTokenEndpoint),grant_type:"authorization_code",client_id:a.datadict.client_id,client_secret:a.datadict.client_secret,code:n,redirect_uri:a.datadict.redirect_url},o=new URLSearchParams;Object.keys(r).forEach((function(e){o.append(e,r[e])}));var i="".concat(a.appName,"_oauth/oauth");Object(ge.a)({endpointUrl:i,body:o,customHeaders:{"Content-Type":"application/x-www-form-urlencoded"},method:"post",handleError:!1}).then((function(e){if(void 0===e.data.entry[0].content.error){var t=e.data.entry[0].content.access_token,n=e.data.entry[0].content.instance_url,r=e.data.entry[0].content.refresh_token;return a.datadict.instance_url=n,a.datadict.refresh_token=r,a.datadict.access_token=t,a.isResponse=!0,!0}return a.setErrorMsg(e.data.entry[0].content.error),a.isError=!0,a.isResponse=!0,!1})).catch((function(){return a.setErrorMsg("Error occurred while trying to authenticate. Please try Again."),a.isError=!0,a.isResponse=!0,!1}))})),E()(f()(a),"waitForAuthentication",function(){var e=o()(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t-=1,!0!==a.isCalled){e.next=3;break}return e.abrupt("return",!0);case 3:if(0!==t&&!a.childWin.closed){e.next=6;break}return a.isError=!0,e.abrupt("return",!1);case 6:return e.next=8,a.sleep(a.waitForAuthentication,t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E()(f()(a),"waitForBackendResponse",function(){var e=o()(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t+=1,!0!==a.isResponse){e.next=3;break}return e.abrupt("return",!0);case 3:if(60!==t){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,a.sleep(a.waitForBackendResponse,t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E()(f()(a),"sleep",function(){var e=o()(C.a.mark((function e(t){var n,r,o,i=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.timeout(1e3);case 2:for(n=i.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=i[o];return e.abrupt("return",t.apply(void 0,r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E()(f()(a),"timeout",(function(e){return new Promise((function(t){return setTimeout(t,e)}))})),E()(f()(a),"renderGroupElements",(function(){var e=null;return a.groups&&a.groups.length&&(e=a.groups.map((function(e){var t,n=(null===(t=e.fields)||void 0===t?void 0:t.length)&&e.fields.map((function(e){return a.entities.map((function(t){if(t.field===e){var n=a.state.data[t.field];return S.a.createElement(at,{key:t.field,utilityFuncts:a.utilControlWrapper,value:n.value,display:n.display,error:n.error,entity:t,serviceName:a.props.serviceName,mode:a.props.mode,disabled:n.disabled,markdownMessage:n.markdownMessage,dependencyValues:n.dependencyValues||null})}return null}))}));return e.options.isExpandable?S.a.createElement(vt,{title:e.label},S.a.createElement("div",{className:"collapsible-element"},n)):S.a.createElement(S.a.Fragment,null,S.a.createElement(gt,null,e.label),S.a.createElement("div",null,n))}))),e})),a.flag=!0,a.state={},a.currentInput={};var i=Object(be.d)();a.appName=i.meta.name,a.endpoint=e.mode===ut.d||e.mode===ut.b?"".concat(a.props.serviceName,"/").concat(encodeURIComponent(a.props.stanzaName)):"".concat(a.props.serviceName),a.util={setState:function(e){a.onSavePromise=new Promise((function(t){a.setState((function(t){return e(t)}),t)}))},setErrorFieldMsg:a.setErrorFieldMsg,clearAllErrorMsg:a.clearAllErrorMsg,setErrorMsg:a.setErrorMsg},a.utilControlWrapper={handleChange:a.handleChange,addCustomValidator:a.addCustomValidator,utilCustomFunctions:a.util},e.page===dt.b?i.pages.inputs.services.forEach((function(t){t.name===e.serviceName&&(a.groups=t.groups,a.entities=t.entity,a.updateEntitiesForGroup(t),a.options=t.options,t.hook&&(a.hookDeferred=a.loadHook(t.hook.src,t.hook.type,i)),e.mode!==ut.d&&e.mode!==ut.a||(a.currentInput=r.rowData[e.serviceName][e.stanzaName]))})):i.pages.configuration.tabs.forEach((function(t){(t.table?t.name===e.serviceName:t.name===e.stanzaName)&&(a.entities=t.entity,a.options=t.options,t.hook&&(a.hookDeferred=a.loadHook(t.hook.src,t.hook.type,i)),!t.table||e.mode!==ut.d&&e.mode!==ut.a?e.mode===ut.b?(a.currentInput=e.currentServiceState,a.mode_config_title=t.title):a.currentInput=r.rowData[e.serviceName]:a.currentInput=r.rowData[e.serviceName][e.stanzaName])})),a.dependencyMap=new Map,a.isOAuth=!1,a.isAuthVal=!1,a.authMap={};var s={},u=[];return a.entities.forEach((function(t){if("oauth"===t.type){if(a.isOAuth=!0,e.page===dt.a&&"account"===e.serviceName){var n,r,o,i=null==t||null===(n=t.options)||void 0===n?void 0:n.auth_type;if(a.isoauthState=void 0!==(null==t||null===(r=t.options)||void 0===r?void 0:r.oauth_state_enabled)?null==t||null===(o=t.options)||void 0===o?void 0:o.oauth_state_enabled:null,i.length>1){a.isAuthVal=!0;var l={};l.value=e.mode===ut.c?i[0]:a.currentInput.auth_type,l.display=!0,l.error=!1,l.disabled=!1,s.auth_type=l;var c={field:"auth_type",type:"singleSelect",label:"Auth Type"},d={basic:"Basic Authentication",oauth:"OAuth 2.0 Authentication"};c.options={},c.options.isClearable=!0,c.options.autoCompleteFields=i.map((function(e){return{label:d[e],value:e}})),u.push(c)}else a.isSingleOauth=i.includes("oauth");if(i.forEach((function(n){var r=[],o=null==t?void 0:t.options[n];o&&(o.forEach((function(t){var o={};if(e.mode===ut.c)o.value=void 0!==(null==t?void 0:t.defaultValue)?t.defaultValue:null;else{var i=void 0!==(null==t?void 0:t.encrypted)&&(null==t?void 0:t.encrypted);o.value=i?"":a.currentInput[t.field]}o.display=void 0===s.auth_type||n===s.auth_type.value,o.error=!1,o.disabled=!1,s[t.field]=o,t.required=!a.isAuthVal,t.type=void 0!==(null==t?void 0:t.type)?t.type:"text","redirect_url"===t.field&&(o.value=window.location.href.split("?")[0].replace("configuration","".concat(a.appName.toLowerCase(),"_redirect")),o.disabled=!0),u.push(t),r.push(t.field)})),a.authMap[n]=r)})),i.includes("oauth")){var p={};p.popupWidth=t.options.oauth_popup_width?t.options.oauth_popup_width:600,p.popupHeight=t.options.oauth_popup_height?t.options.oauth_popup_height:600,p.authTimeout=t.options.oauth_timeout?t.options.oauth_timeout:180,p.authCodeEndpoint=t.options.auth_code_endpoint?t.options.auth_code_endpoint:null,p.accessTokenEndpoint=t.options.access_token_endpoint?t.options.access_token_endpoint:null,a.oauthConf=p}}}else{var f,h,m={};if(t.encrypted=void 0!==t.encrypted&&t.encrypted,e.mode===ut.c)m.value=void 0!==t.defaultValue?t.defaultValue:null,m.display=void 0===(null==t||null===(h=t.options)||void 0===h?void 0:h.display)||t.options.display,m.error=!1,m.disabled=!1,s[t.field]=m;else if(e.mode===ut.d){var v,g;m.value=void 0!==a.currentInput[t.field]?a.currentInput[t.field]:null,m.value=t.encrypted?"":m.value,m.display=void 0===(null==t||null===(v=t.options)||void 0===v?void 0:v.display)||t.options.display,m.error=!1,m.disabled=!1,"name"===t.field?m.disabled=!0:void 0!==(null==t||null===(g=t.options)||void 0===g?void 0:g.disableonEdit)&&(m.disabled=t.options.disableonEdit),s[t.field]=m}else if(e.mode===ut.a){var b;m.value="name"===t.field||t.encrypted?"":a.currentInput[t.field],m.display=void 0===(null==t||null===(b=t.options)||void 0===b?void 0:b.display)||t.options.display,m.error=!1,m.disabled=!1,s[t.field]=m}else{if(e.mode!==ut.b)throw new Error("Invalid mode :",e.mode);var y,O;t.defaultValue=void 0!==t.defaultValue?t.defaultValue:null,m.value=void 0!==a.currentInput[t.field]?a.currentInput[t.field]:t.defaultValue,m.value=t.encrypted?"":m.value,m.display=void 0===(null==t||null===(y=t.options)||void 0===y?void 0:y.display)||t.options.display,m.error=!1,m.disabled=!1,"name"===t.field?m.disabled=!0:void 0!==(null==t||null===(O=t.options)||void 0===O?void 0:O.disableonEdit)&&(m.disabled=t.options.disableonEdit),s[t.field]=m}var j=null===(f=t.options)||void 0===f?void 0:f.dependencies;j&&j.forEach((function(e){var n=a.dependencyMap.get(e);n?n[t.field]=j:a.dependencyMap.set(e,E()({},t.field,j))})),u.push(t)}})),a.entities=u,a.state={data:s,errorMsg:"",warningMsg:""},a.hookDeferred&&a.hookDeferred.then((function(){if("function"==typeof a.hook.onCreate)try{a.hook.onCreate()}catch(e){console.error(e)}})),a}return d()(n,[{key:"render",value:function(){var e=this;return this.flag&&(this.hookDeferred&&this.hookDeferred.then((function(){if("function"==typeof e.hook.onRender)try{e.hook.onRender()}catch(e){console.error(e)}})),this.props.mode===ut.d&&this.hookDeferred&&this.hookDeferred.then((function(){if("function"==typeof e.hook.onEditLoad)try{e.hook.onEditLoad()}catch(e){console.error(e)}})),this.flag=!1),S.a.createElement("div",null,S.a.createElement("form",{style:this.props.mode===ut.b?{marginTop:"25px"}:{}},this.generateWarningMessage(),this.generateErrorMessage(),this.renderGroupElements(),this.entities.map((function(t){if(t.isGrouping)return null;var n=e.state.data[t.field];return n.placeholder&&(t=ht(ht({},t),{},{options:ht(ht({},t.options),{},{placeholder:n.placeholder})})),S.a.createElement(at,{key:t.field,utilityFuncts:e.utilControlWrapper,value:n.value,display:n.display,error:n.error,entity:t,serviceName:e.props.serviceName,mode:e.props.mode,disabled:n.disabled,markdownMessage:n.markdownMessage,dependencyValues:n.dependencyValues||null})}))))}}]),n}(R.PureComponent);E()(bt,"contextType",pt.b),bt.propTypes={page:N.a.string,serviceName:N.a.string,stanzaName:N.a.string,currentServiceState:N.a.object,mode:N.a.string,handleFormSubmit:N.a.func};t.a=bt},280:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r="page",a="modal"},287:function(e,t,n){"use strict";var r=n(226),a=n.n(r),o=n(57),i=n.n(o),l=n(0),s=n.n(l),c=n(252),u=n.n(c),d=n(68),p=n.n(d),f=n(2),h=n.n(f),m=n(62),v=n(231),g=n(36),b=n(281),y=n.n(b),O=n(253),E=n.n(O),j=n(7),k=n(255),w=n(230),C=n(39),R=n(13),S=n.n(R),x=n(363),N=n.n(x),P=n(1),M=n(25),_=n.n(M),T=n(26),F=n.n(T),D=n(106),V=n.n(D),q=n(28),A=n.n(q),z=n(29),I=n.n(z),L=n(18),B=n.n(L),H=n(30);function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B()(e);if(t){var a=B()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}var $=function(e){A()(n,e);var t=U(n);function n(e){var r;return _()(this,n),r=t.call(this,e),a()(V()(r),"loadCustomControl",(function(){return new Promise((function(e){if("external"===r.props.type)import("".concat(Object(H.a)(),"/custom/").concat(r.props.fileName,".js")).then((function(t){var n=t.default;e(n)}));else{var t=Object(g.d)().meta.name;require(["app/".concat(t,"/js/build/custom/").concat(r.props.fileName)],(function(t){return e(t)}))}}))})),r.state={loading:!0},r.shouldRender=!0,r}return F()(n,[{key:"componentDidMount",value:function(){var e=this,t=Object(g.d)();this.setState({loading:!0}),this.loadCustomControl().then((function(n){e.customControl=new n(t,e.props.serviceName,e.el,e.props.row,e.props.field),e.setState({loading:!1})}))}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.row!==e.row||!(t.loading||!this.shouldRender)&&(this.shouldRender=!1,!0)}},{key:"render",value:function(){var e=this;if(!this.state.loading)try{this.customControl.render(this.props.row,this.props.field)}catch(e){console.error(e)}return s.a.createElement(s.a.Fragment,null,this.state.loading&&Object(j._)("Loading..."),s.a.createElement("span",{ref:function(t){e.el=t},style:{visibility:this.state.loading?"hidden":"visible"}}))}}]),n}(l.Component);$.propTypes={serviceName:h.a.string.isRequired,row:h.a.object.isRequired,field:h.a.string,fileName:h.a.string.isRequired,type:h.a.string};var W,K=$,Z=Object(P.default)(E.a.Cell)(W||(W=S()(["\n    border-top: none;\n"])));function G(e,t,n){var r=Object(g.d)().pages.inputs.table.customRow;return s.a.createElement(E.a.Row,{key:"".concat(t.id,"-expansion")},s.a.createElement(Z,{colSpan:e},r&&r.src?s.a.createElement(s.a.Fragment,null,s.a.createElement(K,{serviceName:t.serviceName,row:t,fileName:r.src})):s.a.createElement(N.a,{termWidth:250},function(e,t){var n=[];return null!=t&&t.length&&t.forEach((function(t){var r=Object(j._)(t.label);t.field in e&&""!==e[t.field]&&(n.push(s.a.createElement(N.a.Term,{key:t.field},r)),n.push(s.a.createElement(N.a.Description,{key:"".concat(t.field,"_decr")},t.mapping&&t.mapping[e[t.field]]?t.mapping[e[t.field]]:String(e[t.field]))))})),n}(t,n))))}var X,J,Q=n(280),Y=n(61),ee=n.n(Y),te=n(237),ne=n.n(te),re=n(283),ae=n.n(re),oe=n(254),ie=n.n(oe),le=n(364),se=n.n(le),ce=n(365),ue=n.n(ce),de=n(366),pe=n.n(de),fe=Object(P.default)(E.a.Cell)(X||(X=S()(["\n    padding: 2px;\n"]))),he=P.default.div(J||(J=S()(["\n    display: flex;\n\n    .toggle_switch {\n        padding: 0;\n        margin-right: 10px;\n    }\n"])));function me(e){var t=e.row,n=e.columns,r=e.headerMapping,a=e.handleToggleActionClick,o=e.handleEditActionClick,i=e.handleCloneActionClick,c=e.handleDeleteActionClick,u=Object(l.useCallback)((function(e){return s.a.createElement(fe,{"data-column":"actions",key:e.id},s.a.createElement(ae.a,null,s.a.createElement(ie.a,{content:Object(j._)("Edit")},s.a.createElement(m.a,{appearance:"flat",icon:s.a.createElement(se.a,{screenReaderText:null,size:1}),onClick:function(){return o(e)},className:"editBtn"})),s.a.createElement(ie.a,{content:Object(j._)("Clone")},s.a.createElement(m.a,{appearance:"flat",icon:s.a.createElement(ue.a,{screenReaderText:null,size:1}),onClick:function(){return i(e)},className:"cloneBtn"})),s.a.createElement(ie.a,{content:Object(j._)("Delete")},s.a.createElement(m.a,{appearance:"destructive",icon:s.a.createElement(pe.a,{screenReaderText:null,size:1}),onClick:function(){return c(e)},className:"deleteBtn"}))))}),[o,i,c]),d="Enabled";return t.__toggleShowSpinner?d=s.a.createElement(ee.a,null):t.disabled&&(d=null!=r&&r.disabled&&r.disabled[t.disabled]?r.disabled[t.disabled]:"Disabled"),s.a.createElement(s.a.Fragment,null,s.a.createElement(E.a.Row,y()({key:t.id},e),n&&n.length&&n.map((function(e){var n="";if(e.customCell&&e.customCell.src)n=s.a.createElement(E.a.Cell,{"data-column":e.field,key:e.field},function(e,n){return s.a.createElement(K,{serviceName:t.serviceName,field:n.field,row:e,fileName:n.customCell.src,type:n.customCell.type})}(t,e));else if("disabled"===e.field){var o,i;n=s.a.createElement(E.a.Cell,{"data-column":e.field,key:e.field},s.a.createElement(he,null,s.a.createElement(ne.a,{key:t.name,value:t.disabled,onClick:function(){return a(t)},selected:!t.disabled,disabled:t.__toggleShowSpinner,appearance:"toggle",className:"toggle_switch",selectedLabel:Object(j._)(null!=r&&null!==(o=r.disabled)&&void 0!==o&&o.false?r.disabled.false:"Enabled"),unselectedLabel:Object(j._)(null!=r&&null!==(i=r.disabled)&&void 0!==i&&i.true?r.disabled.true:"Disabled")}),s.a.createElement("span",{"data-test":"status"},d)))}else n="actions"===e.field?u(t):s.a.createElement(E.a.Cell,{"data-column":e.field,key:e.field},r[e.field]&&Object.prototype.hasOwnProperty.call(r[e.field],t[e.field])?r[e.field][t[e.field]]:t[e.field]);return n}))))}me.propTypes={row:h.a.any,columns:h.a.array,headerMapping:h.a.object,handleToggleActionClick:h.a.func,handleEditActionClick:h.a.func,handleCloneActionClick:h.a.func,handleDeleteActionClick:h.a.func};var ve,ge=s.a.memo(me),be=n(256),ye=n(27),Oe=n.n(ye),Ee=n(22),je=n.n(Ee),ke=n(76),we=n.n(ke),Ce=n(229),Re=n(8);function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B()(e);if(t){var a=B()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}var Pe=Object(P.default)(je.a)(ve||(ve=S()(["\n    width: 800px;\n"]))),Me=function(e){A()(n,e);var t=Ne(n);function n(e){var r;return _()(this,n),r=t.call(this,e),a()(V()(r),"handleRequestClose",(function(){r.state.ErrorMsg="",r.props.handleRequestClose()})),a()(V()(r),"handleDelete",(function(){r.setState((function(e){return xe(xe({},e),{},{isDeleting:!0,ErrorMsg:""})}),(function(){Object(v.a)({serviceName:"".concat(r.props.serviceName,"/").concat(encodeURIComponent(r.props.stanzaName)),customHeaders:{"Content-Type":"application/x-www-form-urlencoded"},method:"delete",handleError:!1}).catch((function(e){var t=Object(Re.b)(e);return r.setState({ErrorMsg:t,isDeleting:!1}),Promise.reject(e)})).then((function(){r.context.setRowData(u()(r.context.rowData,a()({},r.props.serviceName,{$unset:[r.props.stanzaName]}))),r.setState({isDeleting:!1}),r.handleRequestClose(),Object(g.c)('Deleted "'.concat(r.props.stanzaName,'"'),"success")}))}))})),a()(V()(r),"generateErrorMessage",(function(){return r.state.ErrorMsg?s.a.createElement("div",null,s.a.createElement(we.a,{appearance:"fill",type:"error"},r.state.ErrorMsg)):null})),r.state={isDeleting:!1,ErrorMsg:""},r}return F()(n,[{key:"render",value:function(){var e;return e=this.props.page===C.b?Object(Re.a)(103,[this.props.stanzaName]):Object(Re.a)(102,[this.props.stanzaName]),s.a.createElement(Pe,{open:this.props.open},s.a.createElement(je.a.Header,{title:Object(Re.a)(101),onRequestClose:this.handleRequestClose}),s.a.createElement(je.a.Body,{className:"deletePrompt"},this.generateErrorMessage(),s.a.createElement("p",null,e)),s.a.createElement(je.a.Footer,null,s.a.createElement(Oe.a,{appearance:"secondary",onClick:this.handleRequestClose,label:Object(j._)("Cancel"),disabled:this.state.isDeleting}),s.a.createElement(Oe.a,{appearance:"primary",label:this.state.isDeleting?s.a.createElement(ee.a,null):Object(j._)("Delete"),onClick:this.handleDelete,disabled:this.state.isDeleting})))}}]),n}(l.Component);a()(Me,"contextType",Ce.b),Me.propTypes={page:h.a.string.isRequired,open:h.a.bool,handleRequestClose:h.a.func,serviceName:h.a.string,stanzaName:h.a.string};var _e=Me;function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e){var t=e.page,n=e.serviceName,r=e.data,a=e.handleToggleActionClick,o=e.handleOpenPageStyleDialog,c=e.handleSort,u=e.sortDir,d=e.sortKey,p=Object(g.d)(),f=Object(l.useState)({open:!1}),h=i()(f,2),v=h[0],b=h[1],O=Object(l.useState)({open:!1}),R=i()(O,2),S=R[0],x=R[1],N=Object(l.useContext)(Ce.b).rowData,P=t===C.b?p.pages.inputs.table:p.pages.configuration.tabs.filter((function(e){return e.name===n}))[0].table,M=P.moreInfo,_=P.header,T=P.header,F={};_.forEach((function(e){F[e.field]=e.mapping}));var D={};t===C.b&&p.pages.inputs.services.forEach((function(e){D[e.name]=e.style===Q.b?Q.b:Q.a}));var V=Object(k.a)();Object(l.useEffect)((function(){if(V&&(V.get("tab")===n||void 0===n))if(V.get("record")&&!v.open){var e=Object.keys(N).find((function(e){return void 0!==N[e][V.get("record")]}));if(e){var t=N[e][V.get("record")];b(Fe(Fe({},v),{},{open:!0,serviceName:t.serviceName,stanzaName:t.name,mode:w.d}))}}else!V.get("record")&&v.open&&b(Fe(Fe({},v),{},{open:!1}))}),[]);var q,A=function(){b(Fe(Fe({},v),{},{open:!1}))},z=Object(l.useCallback)((function(e){"page"===D[e.serviceName]?o(e,w.d):b(Fe(Fe({},v),{},{open:!0,serviceName:e.serviceName,stanzaName:e.name,mode:w.d}))}),[v]),I=function(){x(Fe(Fe({},S),{},{open:!1}))},L=Object(l.useCallback)((function(e){"page"===D[e.serviceName]?o(e,w.a):b(Fe(Fe({},v),{},{open:!0,serviceName:e.serviceName,stanzaName:e.name,mode:w.a}))}),[v]),B=Object(l.useCallback)((function(e){x(Fe(Fe({},S),{},{open:!0,stanzaName:e.name,serviceName:e.serviceName}))}),[S]),H=(q=[],T&&T.length&&T.forEach((function(e){q.push(Fe(Fe({},e),{},{sortKey:e.field||null}))})),q.push({label:"Actions",field:"actions",sortKey:""}),q),U=Object(l.useCallback)((function(){return s.a.createElement(E.a.Head,null,H&&H.length&&H.map((function(e){return s.a.createElement(E.a.HeadCell,{key:e.field,onSort:e.sortKey?c:null,sortKey:e.sortKey?e.sortKey:null,sortDir:e.sortKey&&e.sortKey===d?u:"none"},e.label)})))}),[H,c,u,d]);return s.a.createElement(s.a.Fragment,null,H&&H.length&&s.a.createElement(E.a,y()({stripeRows:!0},M?{rowExpansion:"single"}:{}),U(),s.a.createElement(E.a.Body,null,r&&r.length&&r.map((function(e){return s.a.createElement(ge,y()({key:e.id,row:e,columns:H,headerMapping:F,handleEditActionClick:z,handleCloneActionClick:L,handleDeleteActionClick:B,handleToggleActionClick:a},M?{expansionRow:G(H.length,e,M)}:{}))})))),r.length?null:s.a.createElement(m.b,null,"No records found"),function(){if(v.open){var e,n,r,a,o;if("inputs"===t)e=null===(r=(null===(n=p.pages)||void 0===n?void 0:n.inputs).services.find((function(e){return e.name===v.serviceName})))||void 0===r?void 0:r.title;else e=null===(o=(null===(a=p.pages)||void 0===a?void 0:a.configuration).tabs.find((function(e){return e.name===v.serviceName})))||void 0===o?void 0:o.title;return s.a.createElement(be.a,{page:t,open:v.open,handleRequestClose:A,serviceName:v.serviceName,stanzaName:v.stanzaName,mode:v.mode,formLabel:v.mode===w.a?Object(j._)("Clone ")+e:Object(j._)("Update ")+e})}return null}(),s.a.createElement(_e,{page:t,open:S.open,handleRequestClose:I,serviceName:S.serviceName,stanzaName:S.stanzaName}))}De.propTypes={page:h.a.string.isRequired,serviceName:h.a.string,data:h.a.array.isRequired,handleToggleActionClick:h.a.func,handleOpenPageStyleDialog:h.a.func,handleSort:h.a.func,sortDir:h.a.string,sortKey:h.a.string};var Ve=Object(l.memo)(De),qe=n(286),Ae=n.n(qe),ze=n(401),Ie=n.n(ze),Le=n(234),Be=n.n(Le);function He(e){var t,n,r;return s.a.createElement(Be.a,{appearance:"search",placeholder:"filter",onChange:(t=e.handleChange,n=200,function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];var i=function(){r=null,t.apply(void 0,a)};clearTimeout(r),r=setTimeout(i,n)})})}He.propTypes={handleChange:h.a.func};var Ue,$e,We=He,Ke=P.default.div(Ue||(Ue=S()(["\n    display: flex;\n    justify-content: space-between;\n    border-top: 1px solid #ccc;\n    padding-top: 5px;\n    margin-bottom: 5px;\n"]))),Ze=P.default.div($e||($e=S()(["\n    max-width: 300px;\n    width: 100%;\n"])));function Ge(e){var t=e.page,n=e.services,r=e.totalElement,a=e.handleRequestModalOpen,o=Object(l.useContext)(Ce.b),i=o.pageSize,c=o.currentPage,u=o.setCurrentPage,d=o.setPageSize,p=o.searchType,f=o.setSearchType,h=o.setSearchText,v=t===C.b?"Input":"Item";return s.a.createElement(Ke,null,s.a.createElement("div",null,s.a.createElement("span",{className:"inputNumber"},r,r>1?Object(j._)(" ".concat(v,"s")):Object(j._)(" ".concat(v))),t===C.b?s.a.createElement(m.c,null,s.a.createElement(Ae.a,{value:i,className:"dropdownPage",onChange:function(e,t){var n=t.value;u(0),d(n)}},s.a.createElement(Ae.a.Option,{key:"10",label:Object(j._)("10 Per Page"),value:10}),s.a.createElement(Ae.a.Option,{key:"25",label:Object(j._)("25 Per Page"),value:25}),s.a.createElement(Ae.a.Option,{key:"50",label:Object(j._)("50 Per Page"),value:50})),function(){if(n.length<2)return null;var e=[];return(e=n.map((function(e){return s.a.createElement(Ae.a.Option,{key:e.name,label:e.title,value:e.name})}))).unshift(s.a.createElement(Ae.a.Option,{key:"all",label:Object(j._)("All"),value:"all"})),s.a.createElement(Ae.a,{value:p,className:"dropdownInput",onChange:function(e,t){var n=t.value;u(0),f(n)}},e)}()):null),s.a.createElement(Ze,null,s.a.createElement(We,{handleChange:function(e,t){var n=t.value;u(0),h(n)}})),s.a.createElement("div",null,s.a.createElement(Ie.a,{onChange:function(e,t){var n=t.page;return u(n-1)},current:c+1,alwaysShowLastPageLink:!0,totalPages:Math.ceil(r/i)}),t===C.b?null:s.a.createElement(Oe.a,{label:Object(j._)("Add"),appearance:"primary",onClick:a})))}Ge.propTypes={page:h.a.string,services:h.a.array,totalElement:h.a.number,handleRequestModalOpen:h.a.func};var Xe=Ge;function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e){var t=e.page,n=e.serviceName,r=e.handleRequestModalOpen,o=e.handleOpenPageStyleDialog,c=Object(l.useState)("name"),d=i()(c,2),f=d[0],h=d[1],b=Object(l.useState)("asc"),y=i()(b,2),O=y[0],E=y[1],j=Object(l.useState)(!0),k=i()(j,2),w=k[0],R=k[1],S=Object(l.useState)(null),x=i()(S,2),N=x[0],P=x[1],M=Object(l.useContext)(Ce.b),_=M.rowData,T=M.setRowData,F=M.pageSize,D=M.currentPage,V=M.searchText,q=M.searchType,A=Object(g.d)(),z=t===C.b?A.pages.inputs.table:A.pages.configuration.tabs.filter((function(e){return e.name===n}))[0].table,I=z.header,L=z.moreInfo,B=t===C.b?A.pages.inputs.services:A.pages.configuration.tabs.filter((function(e){return e.name===n})),H=function(){var e=[];B.forEach((function(t){e.push(Object(v.a)({serviceName:t.name}))})),p.a.all(e).catch((function(e){var n="",r="";return e.response?(n="Error received from server: ".concat(e.response.data.messages[0].text),r=t===C.b?"ERR0001":"ERR0002"):e.request?(n="No response received while making request to ".concat(t," services"),r="ERR0003"):(n="Error making request to ".concat(t," services"),r="ERR0004"),e.uccErrorCode=r,Object(g.c)(n),R(!1),P(e),Promise.reject(e)})).then((function(e){var t,n;t=e.map((function(e){return e.data.entry})),n={},B.forEach((function(e,r){if(e&&e.name&&t){var a={};t[r].forEach((function(t){a[t.name]=Qe(Qe({},t.content),{},{id:t.id,name:t.name,serviceName:e.name})})),n[e.name]=a}})),T(n),R(!1)}))};Object(l.useEffect)((function(){H()}),[]);var U=function(e){var t=[],n=[];return I.forEach((function(e){n.push(e.field)})),null==L||L.forEach((function(e){n.push(e.field)})),Object.keys(e).forEach((function(r){var a=!1;Object.keys(e[r]).forEach((function(o){n.includes(o)&&"string"==typeof e[r][o]&&e[r][o].toLowerCase().includes(V.toLowerCase().trim())&&!a&&(t.push(e[r]),a=!0)}))})),t};if(null!=N&&N.uccErrorCode)throw N;if(w)return s.a.createElement(m.d,null);var $=function(){var e=[];"all"===q?Object.keys(_).forEach((function(t){var n=[];n=V&&V.length?U(_[t]):Object.keys(_[t]).map((function(e){return _[t][e]})),e=e.concat(n)})):e=U(_[q]);var t=e.sort((function(e,t){return"asc"===O?e[f]>t[f]?1:-1:"desc"===O?t[f]>e[f]?1:-1:0})),n=t.slice(D*F,(D+1)*F);return D>0&&!n.length&&(n=t.slice((D-1)*F,F)),[n,e.length]}(),W=i()($,2),K=W[0],Z=W[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement(Xe,{page:t,services:B,totalElement:Z,handleRequestModalOpen:r}),s.a.createElement(Ve,{page:t,serviceName:n,data:K,handleToggleActionClick:function(e){return function(e){T((function(t){return u()(t,a()({},e.serviceName,a()({},e.name,{__toggleShowSpinner:{$set:!0}})))}));var t=new URLSearchParams;t.append("disabled",!e.disabled),Object(v.a)({serviceName:"".concat(e.serviceName,"/").concat(e.name),body:t,customHeaders:{"Content-Type":"application/x-www-form-urlencoded"},method:"post",handleError:!0,callbackOnError:function(){T((function(t){return u()(t,a()({},e.serviceName,a()({},e.name,{__toggleShowSpinner:{$set:!1}})))}))}}).then((function(t){T((function(n){return u()(n,a()({},e.serviceName,a()({},e.name,{disabled:{$set:t.data.entry[0].content.disabled},__toggleShowSpinner:{$set:!1}})))}))}))}(e)},handleSort:function(e,t){var n=f===t.sortKey?O:"none";E("asc"===n?"desc":"asc"),h(t.sortKey)},sortDir:O,sortKey:f,handleOpenPageStyleDialog:o}))}Ye.propTypes={page:h.a.string,serviceName:h.a.string,handleRequestModalOpen:h.a.func,handleOpenPageStyleDialog:h.a.func};t.a=Object(l.memo)(Ye)},288:function(e,t,n){"use strict";var r=n(25),a=n.n(r),o=n(26),i=n.n(o),l=n(28),s=n.n(l),c=n(29),u=n.n(c),d=n(18),p=n.n(d),f=n(0),h=n.n(f),m=n(2),v=n.n(m),g=n(278),b=n.n(g),y=n(7),O=n(407),E=n.n(O),j=n(115),k=n.n(j),w=n(107),C=n.n(w),R={ERR0001:h.a.createElement(h.a.Fragment,null,"This is normal on Splunk search heads as they do not require an Input page. Check your installation or return to the ",h.a.createElement(C.a,{to:"configuration"},"configuration page"),"."),ERR0002:"Configuration page failed to load, the server reported internal errors which may indicate you do not have access to this page.",ERR0003:"Failed to load content due to no response from server!",ERR0004:"Failed to load content due to failed request processing!",ERR0005:"Failed to load current state for selected entity in form!"};function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var x=function(e){s()(n,e);var t=S(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={errorCode:null,error:null,errorInfo:null},r}return i()(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){var e;return this.state.error?h.a.createElement("div",{align:"center",style:{marginTop:"10%"}},h.a.createElement(E.a,{style:{boxShadow:"10px 10px 5px #aaaaaa"}},h.a.createElement(E.a.Header,null,h.a.createElement(b.a,{style:{textAlign:"center"},level:2},h.a.createElement(k.a,{style:{fontSize:"120px",color:"#ff9900"}}),h.a.createElement("br",null),h.a.createElement("br",null),"ERR0001"===this.state.errorCode?Object(y._)("Failed to load Inputs Page"):Object(y._)("Something went wrong!"))),h.a.createElement(E.a.Body,null,this.state.errorCode?h.a.createElement(h.a.Fragment,null,Object(y._)(R[this.state.errorCode]),h.a.createElement("br",null),h.a.createElement("br",null)):null,h.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},null===(e=this.state.error)||void 0===e?void 0:e.toString())),h.a.createElement(E.a.Footer,{showBorder:!1},this.state.errorCode?this.state.errorCode:null))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{errorCode:e.uccErrorCode}}}]),n}(h.a.Component);x.propTypes={children:v.a.oneOfType([v.a.arrayOf(v.a.node),v.a.node]).isRequired};t.a=x}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29udGV4dC9UYWJsZUNvbnRleHQuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb25zdGFudHMvbW9kZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL3V0aWwvYXhpb3NDYWxsV3JhcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvcGFnZXMvSW5wdXQvSW5wdXRQYWdlU3R5bGUuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9ob29rcy91c2VRdWVyeS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50cy9FbnRpdHlNb2RhbC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudHMvTWFya2Rvd25NZXNzYWdlLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50cy9IZWxwTGlua0NvbXBvbmVudC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudHMvVGV4dENvbXBvbmVudC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudHMvU2luZ2xlSW5wdXRDb21wb25lbnQuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb21wb25lbnRzL011bHRpSW5wdXRDb21wb25lbnQuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb21wb25lbnRzL0NoZWNrQm94Q29tcG9uZW50LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50cy9SYWRpb0NvbXBvbmVudC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudHMvUGxhY2Vob2xkZXJDb21wb25lbnQuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb21wb25lbnRzL0N1c3RvbUNvbnRyb2wuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb25zdGFudHMvQ29udHJvbFR5cGVNYXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudHMvQ29udHJvbFdyYXBwZXIuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb25zdGFudHMvcHJlRGVmaW5lZFJlZ2V4LmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC91dGlsL1ZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50cy9CYXNlRm9ybVZpZXcuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb25zdGFudHMvb0F1dGhFcnJvck1lc3NhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbnN0YW50cy9kaWFsb2dTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudHMvdGFibGUvQ3VzdG9tVGFibGVDb250cm9sLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50cy90YWJsZS9UYWJsZUV4cGFuc2lvblJvdy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudHMvdGFibGUvQ3VzdG9tVGFibGVSb3cuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb21wb25lbnRzL0RlbGV0ZU1vZGFsLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50cy90YWJsZS9DdXN0b21UYWJsZS5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudHMvdGFibGUvVGFibGVGaWx0ZXIuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb21wb25lbnRzL3RhYmxlL1RhYmxlSGVhZGVyLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50cy90YWJsZS9UYWJsZVdyYXBwZXIuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb25zdGFudHMvZXJyb3JDb2Rlcy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudHMvRXJyb3JCb3VuZGFyeS5qc3giXSwibmFtZXMiOlsiVGFibGVDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsInJvd0RhdGEiLCJzZXRSb3dEYXRhIiwiVGFibGVDb250ZXh0UHJvdmlkZXIiLCJjaGlsZHJlbiIsInVzZVN0YXRlIiwic2VhcmNoVGV4dCIsInNldFNlYXJjaFRleHQiLCJzZWFyY2hUeXBlIiwic2V0U2VhcmNoVHlwZSIsInBhZ2VTaXplIiwic2V0UGFnZVNpemUiLCJjdXJyZW50UGFnZSIsInNldEN1cnJlbnRQYWdlIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsIm9uZU9mVHlwZSIsImFycmF5T2YiLCJub2RlIiwiaXNSZXF1aXJlZCIsIk1PREVfQ0xPTkUiLCJNT0RFX0NSRUFURSIsIk1PREVfRURJVCIsIk1PREVfQ09ORklHIiwiYXhpb3NDYWxsV3JhcHBlciIsInNlcnZpY2VOYW1lIiwiZW5kcG9pbnRVcmwiLCJwYXJhbXMiLCJib2R5IiwiY2FuY2VsVG9rZW4iLCJjdXN0b21IZWFkZXJzIiwibWV0aG9kIiwiaGFuZGxlRXJyb3IiLCJjYWxsYmFja09uRXJyb3IiLCJlbmRwb2ludCIsImdlbmVyYXRlRW5kUG9pbnRVcmwiLCJhcHBEYXRhIiwiYXBwIiwib3duZXIiLCJiYXNlSGVhZGVycyIsIkNTUkZUb2tlbiIsImhlYWRlcnMiLCJPYmplY3QiLCJhc3NpZ24iLCJ1cmwiLCJjcmVhdGVSRVNUVVJMIiwibmV3UGFyYW1zIiwib3V0cHV0X21vZGUiLCJvcHRpb25zIiwiY3JlZGVudGlhbHMiLCJkYXRhIiwiYXhpb3MiLCJlcnJvciIsIm1lc3NhZ2UiLCJpc0NhbmNlbCIsInJlc3BvbnNlIiwibWVzc2FnZXMiLCJ0ZXh0IiwicmVxdWVzdCIsImdlbmVyYXRlVG9hc3QiLCJQcm9taXNlIiwicmVqZWN0IiwiVGl0bGVDb21wb25lbnQiLCJzdHlsZWQiLCJkaXYiLCJhdHRycyIsImNsYXNzTmFtZSIsInZhcmlhYmxlcyIsImZvbnRTaXplWFhMYXJnZSIsIlN1YlRpdGxlQ29tcG9uZW50IiwiZm9udFNpemUiLCJ1c2VRdWVyeSIsIlVSTFNlYXJjaFBhcmFtcyIsInVzZUxvY2F0aW9uIiwic2VhcmNoIiwiTW9kYWxXcmFwcGVyIiwiTW9kYWwiLCJFbnRpdHlNb2RhbCIsInByb3BzIiwiaGFuZGxlUmVxdWVzdENsb3NlIiwiZm9ybSIsImN1cnJlbnQiLCJoYW5kbGVTdWJtaXQiLCJzZXQiLCJjbG9zZSIsInNldFN0YXRlIiwiaXNTdWJtaXRpdG5nIiwiUmVhY3QiLCJjcmVhdGVSZWYiLCJzdGF0ZSIsIm1vZGUiLCJidXR0b25UZXh0IiwiXyIsIm9wZW4iLCJ0aGlzIiwiSGVhZGVyIiwidGl0bGUiLCJmb3JtTGFiZWwiLCJvblJlcXVlc3RDbG9zZSIsIkJvZHkiLCJyZWYiLCJwYWdlIiwic3RhbnphTmFtZSIsImhhbmRsZUZvcm1TdWJtaXQiLCJGb290ZXIiLCJhcHBlYXJhbmNlIiwib25DbGljayIsImxhYmVsIiwiZGlzYWJsZWQiLCJDb21wb25lbnQiLCJzdHJpbmciLCJib29sIiwiZnVuYyIsIk1hcmtkb3duV3JhcHBlciIsInNwYW4iLCJjb2xvciIsIk1hcmtkb3duTWVzc2FnZSIsImRhdGEtdGVzdCIsIm1hcmtkb3duVGV4dCIsIm1hcmtkb3duVHlwZSIsInRvIiwibGluayIsImFycmF5IiwiZm4iLCJpIiwibGVuZ3RoIiwibWFwcGluZyIsImNvbmNhdCIsImZsYXRNYXAiLCJzcGxpdCIsInRva2VuIiwicGFydCIsImtleSIsImxpbmtUZXh0IiwicG9wIiwibWVtbyIsIkhlbHBMaW5rQ29tcG9uZW50IiwiY29udHJvbE9wdGlvbnMiLCJvcGVuSW5OZXdDb250ZXh0Iiwib2JqZWN0IiwiVGV4dFdyYXBwZXIiLCJUZXh0IiwiVGV4dENvbXBvbmVudCIsImUiLCJoYW5kbGVDaGFuZ2UiLCJmaWVsZCIsImlubGluZSIsInBsYWNlaG9sZGVyIiwidG9TdHJpbmciLCJvbkNoYW5nZSIsInR5cGUiLCJlbmNyeXB0ZWQiLCJudW1iZXIiLCJTZWxlY3RXcmFwcGVyIiwiU2VsZWN0IiwiU3R5bGVkRGl2IiwiU2luZ2xlSW5wdXRDb21wb25lbnQiLCJkZXBlbmRlbmN5VmFsdWVzIiwicmVzdFByb3BzIiwiZGVueUxpc3QiLCJhbGxvd0xpc3QiLCJkZXBlbmRlbmNpZXMiLCJjcmVhdGVTZWFyY2hDaG9pY2UiLCJyZWZlcmVuY2VOYW1lIiwiZGlzYWJsZVNlYXJjaCIsImxhYmVsRmllbGQiLCJhdXRvQ29tcGxldGVGaWVsZHMiLCJpc0NsZWFyYWJsZSIsIm9iaiIsIk9wdGlvbiIsIkNvbWJvQm94IiwiSGVhZGluZyIsImdlbmVyYXRlT3B0aW9ucyIsIml0ZW1zIiwiZm9yRWFjaCIsIml0ZW0iLCJwdXNoIiwiY2hpbGQiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInNldE9wdGlvbnMiLCJ1c2VFZmZlY3QiLCJzb3VyY2UiLCJDYW5jZWxUb2tlbiIsInRoZW4iLCJmaWx0ZXJSZXNwb25zZSIsImVudHJ5IiwiY2FuY2VsIiwiZWZmZWN0aXZlRGlzYWJsZWQiLCJlZmZlY3RpdmVQbGFjZWhvbGRlciIsIm5hbWUiLCJkYXRhLXRlc3QtbG9hZGluZyIsImZpbHRlciIsImljb24iLCJzaGFwZSIsIk11bHRpU2VsZWN0V3JhcHBlciIsIk11bHRpc2VsZWN0IiwiTXVsdGlJbnB1dENvbXBvbmVudCIsImRlbGltaXRlciIsIml0ZW1MaXN0IiwibWFwIiwiZ2V0Rm9ybWF0dGVkTWVzc2FnZSIsInZhbHVlTGlzdCIsInZhbHVlcyIsImFsbG93TmV3VmFsdWVzIiwiam9pbiIsIkNoZWNrQm94Q29tcG9uZW50IiwiaXNGYWxzZSIsInNlbGVjdGVkIiwiUmFkaW9CYXJXcmFwcGVyIiwiUmFkaW9CYXIiLCJSYWRpb0NvbXBvbmVudCIsIlBsYWNlaG9sZGVyQ29tcG9uZW50IiwiZGVmYXVsdFZhbHVlIiwiQ3VzdG9tQ29udHJvbCIsIm1vZHVsZSIsImFwcE5hbWUiLCJyZXNvbHZlIiwiaW1wb3J0IiwiZ2V0QnVpbGREaXJQYXRoIiwiZXh0ZXJuYWwiLCJDb250cm9sIiwiX19ub25fd2VicGFja19yZXF1aXJlX18iLCJuZXdWYWx1ZSIsInNob3VsZFJlbmRlciIsImdsb2JhbENvbmZpZyIsImdldFVuaWZpZWRDb25maWdzIiwibWV0YSIsImxvYWRDdXN0b21Db250cm9sIiwic3JjIiwiY3VzdG9tQ29udHJvbCIsImVsIiwic2V0VmFsdWUiLCJ1dGlsQ3VzdG9tRnVuY3Rpb25zIiwicmVuZGVyIiwidmFsaWRhdGlvbiIsImFkZEN1c3RvbVZhbGlkYXRvciIsIm5leHRQcm9wcyIsIm5leHRTdGF0ZSIsInN0eWxlIiwidmlzaWJpbGl0eSIsInNpbmdsZVNlbGVjdCIsImhlbHBMaW5rIiwibXVsdGlwbGVTZWxlY3QiLCJjaGVja2JveCIsInJhZGlvIiwiY3VzdG9tIiwiQ3VzdG9tRWxlbWVudCIsIkNvbnRyb2xHcm91cFdyYXBwZXIiLCJDb250cm9sR3JvdXAiLCJkYXRhTmFtZSIsIkNvbnRyb2xXcmFwcGVyIiwic3RyIiwiU3RyaW5nIiwiY29udHJvbFR5cGUiLCJpc1N0cmluZyIsImVudGl0eSIsIkNPTlRST0xfVFlQRV9NQVAiLCJyZXF1aXJlZCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInJvd1ZpZXciLCJ0b29sdGlwIiwiaGVscCIsInV0aWxpdHlGdW5jdHMiLCJtYXJrZG93bk1lc3NhZ2UiLCJjcmVhdGVFbGVtZW50IiwiaGVscFRleHQiLCJkaXNwbGF5IiwiUHVyZUNvbXBvbmVudCIsImFueSIsIlBSRURFRklORURfVkFMSURBVE9SU19ESUNUIiwicmVnZXgiLCJpbnB1dFZhbHVlVHlwZSIsImVtYWlsIiwiaXB2NCIsImRhdGUiLCJWYWxpZGF0b3IiLCJlbnRpdGllcyIsImF0dHJWYWx1ZSIsInVuZGVmaW5lZCIsImlzTmFtZSIsImZpbmQiLCJjaGVja0lzRmllbGRIYXNJbnB1dCIsImVycm9yRmllbGQiLCJlcnJvck1zZyIsInZhbGlkYXRvciIsInBhcnNlU3RyaW5nVmFsaWRhdG9yIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwicGFyc2VSZWdleFJhd1N0ciIsInBhdHRlcm4iLCJyZXN1bHQiLCJ0ZXN0IiwicGFyc2VOdW1iZXJWYWxpZGF0b3IiLCJyYW5nZSIsInZhbCIsIk51bWJlciIsImlzTmFOIiwidGFyZ2V0VmFsdWUiLCJuYW1lRmllbGRMYWJlbCIsInN0YXJ0c1dpdGgiLCJ0b0xvd2VyQ2FzZSIsInNvbWUiLCJkIiwiaW5kZXhPZiIsInJldCIsImoiLCJSZXF1aXJlZFZhbGlkYXRvciIsInZhbGlkYXRvcnMiLCJTdHJpbmdWYWxpZGF0b3IiLCJSZWdleFZhbGlkYXRvciIsIk51bWJlclZhbGlkYXRvciIsIlByZURlZmluZWRSZWdleFZhbGlkYXRvciIsIkN1c3RvbVZhbGlkYXRvciIsInZhbGlkYXRvckZ1bmMiLCJDb2xsYXBzaWJsZVBhbmVsV3JhcHBlciIsIkNvbGxhcHNpYmxlUGFuZWwiLCJDdXN0b21Hcm91cExhYmVsIiwiQmFzZUZvcm1WaWV3IiwiY29udGV4dCIsInNlcnZpY2UiLCJncm91cHMiLCJncm91cCIsImZpZWxkcyIsImZpZWxkTmFtZSIsImluZGV4IiwiZmluZEluZGV4IiwidXBkYXRlZE9iaiIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImlzR3JvdXBpbmciLCJzcGxpY2UiLCJjbGVhckVycm9yTXNnIiwiZGF0YWRpY3QiLCJrZXlzIiwiaG9vayIsIm9uU2F2ZSIsImV4ZWN1dGVWYWxpZGF0aW9uU3VibWl0IiwidGVtRW50aXRpZXMiLCJpbmNsdWRlcyIsIkJvb2xlYW4iLCJzZXRFcnJvckZpZWxkTXNnIiwiaXNBdXRoVmFsIiwicmVxRmllbGRzIiwiYXV0aE1hcCIsImF1dGhfdHlwZSIsImRvVmFsaWRhdGlvbiIsInNhdmVWYWxpZGF0b3IiLCJmb3JtRGF0YSIsInBhcnNlRnVuY3Rpb25SYXdTdHIiLCJTYXZlVmFsaWRhdG9yIiwic2V0RXJyb3JNc2ciLCJpc09BdXRoIiwiaXNTaW5nbGVPYXV0aCIsInBhcmFtZXRlcnMiLCJjbGllbnRfaWQiLCJyZWRpcmVjdF91cmwiLCJzdGF0ZUVuYWJsZWQiLCJpc29hdXRoU3RhdGUiLCJzdGF0ZV9lbmFibGVkIiwib2F1dGhfc3RhdGUiLCJ1dWlkdjQiLCJyZXBsYWNlIiwiaG9zdCIsIm9hdXRoQ29uZiIsImF1dGhDb2RlRW5kcG9pbnQiLCJhIiwiaXNDYWxsZWQiLCJpc0Vycm9yIiwiaXNSZXNwb25zZSIsImNoaWxkV2luIiwid2luZG93IiwicG9wdXBXaWR0aCIsInBvcHVwSGVpZ2h0IiwiZ2V0TWVzc2FnZSIsImhhbmRsZU9hdXRoVG9rZW4iLCJ3YWl0Rm9yQXV0aGVudGljYXRpb24iLCJhdXRoVGltZW91dCIsImNsb3NlZCIsIndhaXRGb3JCYWNrZW5kUmVzcG9uc2UiLCJzYXZlRGF0YSIsIm9uU2F2ZVByb21pc2UiLCJhcHBlbmQiLCJ0bXBPYmoiLCJjb250ZW50IiwiaWQiLCJ1cGRhdGUiLCIkbWVyZ2UiLCJvblNhdmVTdWNjZXNzIiwibW9kZV9jb25maWdfdGl0bGUiLCJlcnIiLCJlcnJvclN1Ym1pdE1zZyIsInBhcnNlRXJyb3JNc2ciLCJvblNhdmVGYWlsIiwiY2hhbmdlcyIsIiRzZXQiLCJkZXBlbmRlbmN5TWFwIiwiaGFzIiwiZ2V0IiwibG9hZEZpZWxkIiwibG9hZCIsImRlcGVuZGVuY3kiLCJjdXJyZW50VmFsdWUiLCJuZXdGaWVsZHMiLCJ0ZW1wU3RhdGUiLCJjbGVhckFsbEVycm9yTXNnIiwiaG9va0RlZmVycmVkIiwieCIsIm1zZyIsInByZXZpb3VzU3RhdGUiLCJTdGF0ZSIsIndhcm5pbmdNc2ciLCJuZXdEYXRhIiwidGVtRGF0YSIsIkhvb2siLCJ1dGlsIiwiY29kZSIsInN0YXRlUmVzcG9uc2UiLCJkZWNvZGVVUklDb21wb25lbnQiLCJhY2Nlc3NUb2tlbkVuZHBvaW50IiwiZ3JhbnRfdHlwZSIsImNsaWVudF9zZWNyZXQiLCJyZWRpcmVjdF91cmkiLCJPQXV0aEVuZHBvaW50IiwiYWNjZXNzVG9rZW4iLCJhY2Nlc3NfdG9rZW4iLCJpbnN0YW5jZVVybCIsImluc3RhbmNlX3VybCIsInJlZnJlc2hUb2tlbiIsInJlZnJlc2hfdG9rZW4iLCJjb3VudCIsInNsZWVwIiwidGltZW91dCIsImFyZ3MiLCJtcyIsInNldFRpbWVvdXQiLCJjb2xscHNpYmxlRWxlbWVudCIsInRlbVN0YXRlIiwidXRpbENvbnRyb2xXcmFwcGVyIiwiaXNFeHBhbmRhYmxlIiwiZmxhZyIsImN1cnJlbnRJbnB1dCIsImVuY29kZVVSSUNvbXBvbmVudCIsImNhbGxiYWNrIiwiUEFHRV9JTlBVVCIsInBhZ2VzIiwiaW5wdXRzIiwic2VydmljZXMiLCJ1cGRhdGVFbnRpdGllc0Zvckdyb3VwIiwibG9hZEhvb2siLCJjb25maWd1cmF0aW9uIiwidGFicyIsInRhYiIsInRhYmxlIiwiY3VycmVudFNlcnZpY2VTdGF0ZSIsIk1hcCIsIlBBR0VfQ09ORiIsImF1dGhUeXBlIiwib2F1dGhfc3RhdGVfZW5hYmxlZCIsInRlbXBFbnRpdHkiLCJiYXNpYyIsIm9hdXRoIiwiYXV0aGZpZWxkcyIsImlzRW5jcnlwdGVkIiwibG9jYXRpb24iLCJocmVmIiwib2F1dGhDb25mRGF0YSIsIm9hdXRoX3BvcHVwX3dpZHRoIiwib2F1dGhfcG9wdXBfaGVpZ2h0Iiwib2F1dGhfdGltZW91dCIsImF1dGhfY29kZV9lbmRwb2ludCIsImFjY2Vzc190b2tlbl9lbmRwb2ludCIsImRpc2FibGVvbkVkaXQiLCJFcnJvciIsImNoYW5nZUZpZWxkcyIsIm9uQ3JlYXRlIiwiY29uc29sZSIsIm9uUmVuZGVyIiwib25FZGl0TG9hZCIsIm1hcmdpblRvcCIsImdlbmVyYXRlV2FybmluZ01lc3NhZ2UiLCJnZW5lcmF0ZUVycm9yTWVzc2FnZSIsInJlbmRlckdyb3VwRWxlbWVudHMiLCJTVFlMRV9QQUdFIiwiU1RZTEVfTU9EQUwiLCJDdXN0b21UYWJsZUNvbnRyb2wiLCJmaWxlTmFtZSIsInJvdyIsIlRhYmxlQ2VsbFdyYXBwZXIiLCJUYWJsZSIsIkNlbGwiLCJnZXRFeHBhbnNpb25Sb3ciLCJjb2xTcGFuIiwibW9yZUluZm8iLCJjdXN0b21Sb3ciLCJSb3ciLCJ0ZXJtV2lkdGgiLCJEZWZpbml0aW9uTGlzdHMiLCJUZXJtIiwiRGVzY3JpcHRpb24iLCJnZXRFeHBhbnNpb25Sb3dEYXRhIiwiU3dpdGNoV3JhcHBlciIsIkN1c3RvbVRhYmxlUm93IiwiY29sdW1ucyIsImhlYWRlck1hcHBpbmciLCJoYW5kbGVUb2dnbGVBY3Rpb25DbGljayIsImhhbmRsZUVkaXRBY3Rpb25DbGljayIsImhhbmRsZUNsb25lQWN0aW9uQ2xpY2siLCJoYW5kbGVEZWxldGVBY3Rpb25DbGljayIsInJvd0FjdGlvbnNQcmltYXJ5QnV0dG9uIiwidXNlQ2FsbGJhY2siLCJzZWxlY3RlZFJvdyIsImRhdGEtY29sdW1uIiwic2NyZWVuUmVhZGVyVGV4dCIsInNpemUiLCJzdGF0dXNDb250ZW50IiwiX190b2dnbGVTaG93U3Bpbm5lciIsImhlYWRlciIsImNlbGxIVE1MIiwiY3VzdG9tQ2VsbCIsImdldEN1c3RvbUNlbGwiLCJzZWxlY3RlZExhYmVsIiwidW5zZWxlY3RlZExhYmVsIiwiRGVsZXRlTW9kYWwiLCJFcnJvck1zZyIsInByZXZTdGF0ZSIsImlzRGVsZXRpbmciLCIkdW5zZXQiLCJkZWxldGVNc2ciLCJoYW5kbGVEZWxldGUiLCJDdXN0b21UYWJsZSIsImhhbmRsZU9wZW5QYWdlU3R5bGVEaWFsb2ciLCJoYW5kbGVTb3J0Iiwic29ydERpciIsInNvcnRLZXkiLCJ1bmlmaWVkQ29uZmlncyIsImVudGl0eU1vZGFsIiwic2V0RW50aXR5TW9kYWwiLCJkZWxldGVNb2RhbCIsInNldERlbGV0ZU1vZGFsIiwidXNlQ29udGV4dCIsInRhYmxlQ29uZmlnIiwic2VydmljZVRvU3R5bGVNYXAiLCJxdWVyeSIsInNlcnZpY2VLZXkiLCJjb2x1bW4iLCJoYW5kbGVFbnRpdHlDbG9zZSIsImhhbmRsZURlbGV0ZUNsb3NlIiwiZ2V0VGFibGVIZWFkZXJDZWxsIiwiSGVhZCIsImhlYWREYXRhIiwiSGVhZENlbGwiLCJvblNvcnQiLCJzdHJpcGVSb3dzIiwicm93RXhwYW5zaW9uIiwiZXhwYW5zaW9uUm93IiwiZ2VuZXJhdGVNb2RhbERpYWxvZyIsIlRhYmxlRmlsdGVyIiwid2FpdCIsImxhdGVyIiwiY2xlYXJUaW1lb3V0IiwiVGFibGVIZWFkZXJXcmFwcGVyIiwiVGFibGVGaWx0ZXJXcmFwcGVyIiwiVGFibGVIZWFkZXIiLCJ0b3RhbEVsZW1lbnQiLCJoYW5kbGVSZXF1ZXN0TW9kYWxPcGVuIiwiaXRlbUxhYmVsIiwiYXJyIiwidW5zaGlmdCIsImdldFNlYXJjaFR5cGVEcm9wZG93biIsInBhZ2VOdW1iZXIiLCJhbHdheXNTaG93TGFzdFBhZ2VMaW5rIiwidG90YWxQYWdlcyIsIk1hdGgiLCJjZWlsIiwiVGFibGVXcmFwcGVyIiwic2V0U29ydEtleSIsInNldFNvcnREaXIiLCJzZXRFcnJvciIsImZldGNoSW5wdXRzIiwicmVxdWVzdHMiLCJhbGwiLCJlcnJvckNvZGUiLCJ1Y2NFcnJvckNvZGUiLCJyZXMiLCJmaW5kQnlNYXRjaGluZ1ZhbHVlIiwidGFibGVGaWVsZHMiLCJtb3JlSW5mb0RhdGEiLCJ2IiwiZm91bmQiLCJ2diIsInRyaW0iLCJuZXdBcnIiLCJzb3J0ZWRBcnIiLCJzb3J0Iiwicm93QSIsInJvd0IiLCJ1cGRhdGVkQXJyIiwic2xpY2UiLCJnZXRSb3dEYXRhIiwiZmlsdGVyZWREYXRhIiwiY3VycmVudFJvd0RhdGEiLCJjaGFuZ2VUb2dnbGVTdGF0dXMiLCJwcmV2U29ydERpciIsIkVSUjAwMDEiLCJFUlIwMDAyIiwiRVJSMDAwMyIsIkVSUjAwMDQiLCJFUlIwMDA1IiwiRXJyb3JCb3VuZGFyeSIsImVycm9ySW5mbyIsImFsaWduIiwiYm94U2hhZG93IiwidGV4dEFsaWduIiwibGV2ZWwiLCJlcnJvckNvZGVzIiwid2hpdGVTcGFjZSIsInNob3dCb3JkZXIiXSwibWFwcGluZ3MiOiJpTEFHTUEsRUFBZUMsd0JBQWMsQ0FDL0JDLFFBQVMsR0FDVEMsV0FBWSxlQUdIQyxFQUF1QixTQUFDLEdBQWlCLElBQWZDLEVBQWUsRUFBZkEsU0FBZSxFQUNwQkMsbUJBQVMsSUFEVyxXQUMzQ0osRUFEMkMsS0FDbENDLEVBRGtDLE9BRWRHLG1CQUFTLElBRkssV0FFM0NDLEVBRjJDLEtBRS9CQyxFQUYrQixPQUdkRixtQkFBUyxPQUhLLFdBRzNDRyxFQUgyQyxLQUcvQkMsRUFIK0IsT0FJbEJKLG1CQUFTLElBSlMsV0FJM0NLLEVBSjJDLEtBSWpDQyxFQUppQyxPQUtaTixtQkFBUyxHQUxHLFdBSzNDTyxFQUwyQyxLQUs5QkMsRUFMOEIsS0FPbEQsT0FDSSxrQkFBQ2QsRUFBYWUsU0FBZCxDQUNJQyxNQUFPLENBQ0hkLFVBQ0FDLGFBQ0FJLGFBQ0FDLGdCQUNBQyxhQUNBQyxnQkFDQUMsV0FDQUMsY0FDQUMsY0FDQUMsbUJBR0hULElBS2JELEVBQXFCYSxVQUFZLENBQzdCWixTQUFVYSxJQUFVQyxVQUFVLENBQUNELElBQVVFLFFBQVFGLElBQVVHLE1BQU9ILElBQVVHLE9BQU9DLFlBR3hFdEIsTyxpQ0N2Q2Ysd0lBQU8sSUFBTXVCLEVBQWEsUUFDYkMsRUFBYyxTQUVkQyxFQUFZLE9BQ1pDLEVBQWMsVSxxc0JDYzNCLElBQU1DLEVBQW1CLFNBQUMsR0FVcEIsSUFURkMsRUFTRSxFQVRGQSxZQUNBQyxFQVFFLEVBUkZBLFlBQ0FDLEVBT0UsRUFQRkEsT0FDQUMsRUFNRSxFQU5GQSxLQUNBQyxFQUtFLEVBTEZBLFlBS0UsSUFKRkMscUJBSUUsTUFKYyxHQUlkLE1BSEZDLGNBR0UsTUFITyxNQUdQLE1BRkZDLG1CQUVFLGFBREZDLHVCQUNFLE1BRGdCLGFBQ2hCLEVBQ0lDLEVBQVdULEVBQWNVLFlBQW9CVixHQUFlQyxFQUM1RFUsRUFBVSxDQUNaQyxVQUNBQyxNQUFPLFVBRUxDLEVBQWMsQ0FDaEIsb0JBQXFCQyxZQUNyQixtQkFBb0IsaUJBQ3BCLGVBQWdCLG9CQUVkQyxFQUFVQyxPQUFPQyxPQUFPSixFQUFhVCxHQUNyQ2MsRUFBTUMsd0JBQWNYLEVBQVVFLEdBRWhDVSxFQUFZLENBQUVDLFlBQWEsUUFDM0JwQixJQUNBbUIsRUFBWSxFQUFILEtBQVFBLEdBQWNuQixJQUduQyxJQUFNcUIsRUFBVSxDQUNackIsT0FBUW1CLEVBQ1JmLFNBQ0FhLE1BQ0FLLFlBQWEsVUFDYlIsVUFDQVosZUFPSixNQUplLFNBQVhFLElBQ0FpQixFQUFRRSxLQUFPdEIsR0FHWkksRUFDRG1CLElBQU1ILEdBQU4sT0FBcUIsU0FBQ0ksR0FDbEIsSUFBSUMsRUFBVSxHQUNkLE9BQUlGLElBQU1HLFNBQVNGLEtBS2ZDLEVBRkFELEVBQU1HLFNBRUksd0NBQUgsT0FBMkNILEVBQU1HLFNBQVNMLEtBQUtNLFNBQVMsR0FBR0MsTUFDM0VMLEVBQU1NLFFBRUgsZ0RBQUgsT0FBbUR4QixHQUdoRCxnQkFBSCxPQUFtQkgsRUFBbkIsdUJBQXdDRyxHQUVuRHlCLFlBQWNOLEVBQVMsU0FDdkJwQixFQUFnQm1CLElBYkxRLFFBQVFDLE9BQU9ULE1BZ0I5QkQsSUFBTUgsSyw4SUM3RUhjLEVBQWlCQyxVQUFPQyxJQUFJQyxNQUFNLENBQzNDQyxVQUFXLGFBRGVILENBQUgsb0dBSU5JLFlBQVVDLGlCQUtsQkMsRUFBb0JOLFVBQU9DLElBQUlDLE1BQU0sQ0FDOUNDLFVBQVcsZ0JBRGtCSCxDQUFILHVHQUlUSSxZQUFVRyxVQUtNUCxVQUFPQyxJQUFWLG1GLGlDQ3JCbEMsV0FPZU8sSUFKZixXQUNJLE9BQU8sSUFBSUMsZ0JBQWdCQyxjQUFjQyxVLGl0QkNPN0MsSUFBTUMsRUFBZVosa0JBQU9hLElBQVBiLENBQUgsdUNBSVpjLEUsZ0NBQ0YsV0FBWUMsR0FBTyx5QkFDZixjQUFNQSxHQURTLGlDQWlCRSxXQUNqQixFQUFLQSxNQUFNQyx3QkFsQkksMkJBcUJKLFdBQ0ksRUFBS0MsS0FBS0MsUUFBUUMsZ0JBRTdCLEVBQUtILHdCQXhCTSwrQkFnQ0EsU0FBQ0ksRUFBS0MsR0FDckIsRUFBS0MsU0FBUyxDQUFFQyxhQUFjSCxJQUMxQkMsR0FDQSxFQUFLTCx3QkFoQ1QsRUFBS0MsS0FBT08sSUFBTUMsWUFDbEIsRUFBS0MsTUFBUSxDQUFFSCxjQUFjLEdBRXpCUixFQUFNWSxPQUFTckUsSUFDZixFQUFLc0UsV0FBYUMsWUFBRSxPQUNiZCxFQUFNWSxPQUFTdEUsSUFDdEIsRUFBS3VFLFdBQWFDLFlBQUUsUUFDYmQsRUFBTVksT0FBU3BFLElBQ3RCLEVBQUtxRSxXQUFhQyxZQUFFLFVBRXBCLEVBQUtELFdBQWFDLFlBQUUsVUFiVCxFLGtDQXVDbkIsV0FDSSxPQUNJLGtCQUFDakIsRUFBRCxDQUFja0IsS0FBTUMsS0FBS2hCLE1BQU1lLE1BQzNCLGtCQUFDLElBQU1FLE9BQVAsQ0FDSUMsTUFBT0YsS0FBS2hCLE1BQU1tQixVQUNsQkMsZUFBZ0JKLEtBQUtmLHFCQUV6QixrQkFBQyxJQUFNb0IsS0FBUCxLQUNJLGtCQUFDLElBQUQsQ0FDSUMsSUFBS04sS0FBS2QsS0FDVnFCLEtBQU1QLEtBQUtoQixNQUFNdUIsS0FDakI1RSxZQUFhcUUsS0FBS2hCLE1BQU1yRCxZQUN4QmlFLEtBQU1JLEtBQUtoQixNQUFNWSxLQUNqQlksV0FBWVIsS0FBS2hCLE1BQU13QixXQUN2QkMsaUJBQWtCVCxLQUFLUyxvQkFHL0Isa0JBQUMsSUFBTUMsT0FBUCxLQUNJLGtCQUFDLElBQUQsQ0FDSUMsV0FBVyxZQUNYQyxRQUFTWixLQUFLZixtQkFDZDRCLE1BQU9mLFlBQUUsVUFDVGdCLFNBQVVkLEtBQUtMLE1BQU1ILGVBRXpCLGtCQUFDLElBQUQsQ0FDSXBCLFVBQVUsVUFDVnVDLFdBQVcsVUFDWEUsTUFBT2IsS0FBS0wsTUFBTUgsYUFBZSxrQkFBQyxJQUFELE1BQWtCUSxLQUFLSCxXQUN4RGUsUUFBU1osS0FBS1osYUFDZDBCLFNBQVVkLEtBQUtMLE1BQU1ILHFCLEdBckVuQnVCLGFBNkUxQmhDLEVBQVkvRCxVQUFZLENBQ3BCdUYsS0FBTXRGLElBQVUrRixPQUNoQmpCLEtBQU05RSxJQUFVZ0csS0FDaEJoQyxtQkFBb0JoRSxJQUFVaUcsS0FDOUJ2RixZQUFhVixJQUFVK0YsT0FDdkJwQixLQUFNM0UsSUFBVStGLE9BQ2hCUixXQUFZdkYsSUFBVStGLE9BQ3RCYixVQUFXbEYsSUFBVStGLFFBR1ZqQyxPLGdYQ2pHVG9DLEVBQWtCbEQsVUFBT21ELEtBQVYscUNBQ1IsU0FBQ3BDLEdBQUQsT0FBV0EsRUFBTXFDLFNBRzlCLFNBQVNDLEVBQWdCdEMsR0FtQ3JCLE9BQU8seUJBQUt1QyxZQUFVLGlCQXJCZEMsRUFBZXhDLEVBQU1yQixLQUNFLFNBQXZCcUIsRUFBTXlDLGFBQ05ELEVBQWUsa0JBQUMsSUFBRCxDQUFNRSxHQUFJMUMsRUFBTTJDLE1BQU8zQyxFQUFNckIsTUFDZCxXQUF2QnFCLEVBQU15QyxjQUViRCxFQWZSLFNBQWlCSSxFQUFPQyxHQUVwQixJQURBLElBQUlMLEVBQWUsR0FDVk0sRUFBSSxFQUFHQSxFQUFJRixFQUFNRyxPQUFRRCxHQUFLLEVBQUcsQ0FDdEMsSUFBTUUsRUFBVUgsRUFBR0QsRUFBTUUsSUFDekJOLEVBQWVBLEVBQWFTLE9BQU9ELEdBRXZDLE9BQU9SLEVBU1lVLENBQVFWLEVBQWFXLE1BQU1uRCxFQUFNb0QsUUFBUSxTQUFDQyxHQUNyRCxNQUFPLENBQ0hBLEVBQ0Esa0JBQUMsSUFBRCxDQUFNQyxJQUFLRCxFQUFNWCxHQUFJMUMsRUFBTTJDLE1BQ3RCM0MsRUFBTXVELGVBSU5DLE1BQ2lCLFNBQXZCeEQsRUFBTXlDLGVBQ2JELEVBQWUsa0JBQUNMLEVBQUQsQ0FBaUJFLE1BQU9yQyxFQUFNcUMsT0FBUXJDLEVBQU1yQixPQUd4RDZELElBbkJYLElBQ1FBLEVBd0JaRixFQUFnQnRHLFVBQVksQ0FDeEIyQyxLQUFNMUMsSUFBVStGLE9BQ2hCVyxLQUFNMUcsSUFBVStGLE9BQ2hCSyxNQUFPcEcsSUFBVStGLE9BQ2pCUyxhQUFjeEcsSUFBVStGLE9BQ3hCb0IsTUFBT25ILElBQVUrRixPQUNqQnVCLFNBQVV0SCxJQUFVK0YsUUFHVHZCLFVBQU1nRCxLQUFLbkIsR0NwRDFCLFNBQVNvQixFQUFrQjFELEdBQU8sTUFDUEEsRUFBTTJELGVBQXJCaEYsRUFEc0IsRUFDdEJBLEtBQU1nRSxFQURnQixFQUNoQkEsS0FFZCxPQUNJLGtCQUFDLElBQUQsQ0FBTUQsR0FBSUMsRUFBTWlCLGtCQUFnQixHQUMzQmpGLEdBS2IrRSxFQUFrQjFILFVBQVksQ0FDMUIySCxlQUFnQjFILElBQVU0SCxRQUdmSCxJLEVBQUFBLEksK2JDYmYsSUFBTUksRUFBYzdFLGtCQUFPOEUsSUFBUDlFLENBQUgsa0RBSVgrRSxFLDRNQUNhLFNBQUNDLEVBQUQsR0FBa0IsSUFBWmxJLEVBQVksRUFBWkEsTUFDakIsRUFBS2lFLE1BQU1rRSxhQUFhLEVBQUtsRSxNQUFNbUUsTUFBT3BJLE0sb0NBRzlDLFdBQVMsUUFDTCxPQUNJLGtCQUFDK0gsRUFBRCxDQUNJTSxRQUFNLEVBQ045RixNQUFPMEMsS0FBS2hCLE1BQU0xQixNQUNsQitGLFlBQVcsVUFBRXJELEtBQUtoQixhQUFQLGlCQUFFLEVBQVkyRCxzQkFBZCxhQUFFLEVBQTRCVSxZQUN6Q2pGLFVBQVc0QixLQUFLaEIsTUFBTW1FLE1BQ3RCckMsU0FBVWQsS0FBS2hCLE1BQU04QixTQUNyQi9GLE1BQ3lCLE9BQXJCaUYsS0FBS2hCLE1BQU1qRSxZQUE4QyxJQUFyQmlGLEtBQUtoQixNQUFNakUsTUFDekMsR0FDQWlGLEtBQUtoQixNQUFNakUsTUFBTXVJLFdBRTNCQyxTQUFVdkQsS0FBS2tELGFBQ2ZNLEtBQU14RCxLQUFLaEIsTUFBTXlFLFVBQVksV0FBYSxhLEdBbkI5QjFDLGFBeUI1QmlDLEVBQWNoSSxVQUFZLENBRXRCRCxNQUFPRSxJQUFVQyxVQUFVLENBQUNELElBQVUrRixPQUFRL0YsSUFBVXlJLFNBQ3hEUixhQUFjakksSUFBVWlHLEtBQUs3RixXQUM3QjhILE1BQU9sSSxJQUFVK0YsT0FDakIxRCxNQUFPckMsSUFBVWdHLEtBQ2pCMEIsZUFBZ0IxSCxJQUFVNEgsT0FDMUJZLFVBQVd4SSxJQUFVZ0csS0FDckJILFNBQVU3RixJQUFVZ0csTUFHVCtCLEksS0FBQUEsSywyS0NoQ1RXLEdBQWdCMUYsa0JBQU8yRixLQUFQM0YsQ0FBSCxrREFJYjRGLEdBQVk1RixVQUFPQyxJQUFWLHNGQU1mLFNBQVM0RixHQUFxQjlFLEdBQU8sSUFFN0JtRSxFQU1BbkUsRUFOQW1FLE1BRjZCLEVBUTdCbkUsRUFMQThCLGdCQUg2QixXQVE3QjlCLEVBSkExQixhQUo2QixTQUs3QnFGLEVBR0EzRCxFQUhBMkQsZUFDQW9CLEVBRUEvRSxFQUZBK0UsaUJBQ0dDLEVBUDBCLEtBUTdCaEYsRUFSNkIsa0VBVTdCcEQsRUFXQStHLEVBWEEvRyxZQUNBcUksRUFVQXRCLEVBVkFzQixTQUNBQyxFQVNBdkIsRUFUQXVCLFVBWjZCLEVBcUI3QnZCLEVBUkFVLG1CQWI2QixNQWFmdkQsYUFBRSxrQkFiYSxFQWM3QnFFLEVBT0F4QixFQVBBd0IsYUFDQUMsRUFNQXpCLEVBTkF5QixtQkFDQUMsRUFLQTFCLEVBTEEwQixjQUNBQyxFQUlBM0IsRUFKQTJCLGNBQ0FDLEVBR0E1QixFQUhBNEIsV0FDQUMsRUFFQTdCLEVBRkE2QixtQkFDQUMsRUFDQTlCLEVBREE4QixZQUdKLFNBQVN2QixFQUFhRCxFQUFHeUIsR0FDckJWLEVBQVVkLGFBQWFDLEVBQU91QixFQUFJM0osT0FFdEMsSUFBTTRKLEVBQVNQLEVBQXFCUSxLQUFTRCxPQUFTZixLQUFPZSxPQUN2REUsRUFBVVQsRUFBcUJRLEtBQVNDLFFBQVVqQixLQUFPaUIsUUFFL0QsU0FBU0MsRUFBZ0JDLEdBQ3JCLElBQU0zSCxFQUFPLEdBY2IsT0FiQTJILEVBQU1DLFNBQVEsU0FBQ0MsR0FHUEEsRUFBS2xLLE9BQVNrSyxFQUFLcEUsT0FDbkJ6RCxFQUFLOEgsS0FBSyxrQkFBQ1AsRUFBRCxDQUFROUQsTUFBT29FLEVBQUtwRSxNQUFPOUYsTUFBT2tLLEVBQUtsSyxNQUFPdUgsSUFBSzJDLEVBQUtsSyxTQUVsRWtLLEVBQUs3SyxVQUFZNkssRUFBS3BFLFFBQ3RCekQsRUFBSzhILEtBQUssa0JBQUNMLEVBQUQsQ0FBU3ZDLElBQUsyQyxFQUFLcEUsT0FBUW9FLEVBQUtwRSxRQUMxQ29FLEVBQUs3SyxTQUFTNEssU0FBUSxTQUFDRyxHQUNuQi9ILEVBQUs4SCxLQUFLLGtCQUFDUCxFQUFELENBQVE5RCxNQUFPc0UsRUFBTXRFLE1BQU85RixNQUFPb0ssRUFBTXBLLE1BQU91SCxJQUFLNkMsRUFBTXBLLGdCQUkxRXFDLEVBNUNzQixNQStDSC9DLG9CQUFTLEdBL0NOLFlBK0MxQitLLEVBL0MwQixLQStDakJDLEVBL0NpQixPQWdESGhMLG1CQUFTLE1BaEROLFlBZ0QxQjZDLEVBaEQwQixLQWdEakJvSSxFQWhEaUIsS0FrRGpDQyxxQkFBVSxXQUNOLEdBQUszSixHQUFnQnlJLElBQWlCRyxFQUF0QyxDQUtBLElBQUlyRixHQUFVLEVBQ1JxRyxFQUFTbkksS0FBTW9JLFlBQVlELFNBRzNCdEksRUFBVSxDQUFFdUksWUFBYUQsRUFBT3BELE1BQU9sRyxhQUFhLEdBOEIxRCxPQTdCSW1JLEVBQ0FuSCxFQUFRdkIsWUFBYzBJLEVBQ2Z6SSxJQUNQc0IsRUFBUXRCLFlBQWNBLEdBR3RCbUksSUFDQTdHLEVBQVFyQixPQUFTa0ksR0FFaEJJLElBQWdCSixJQUNqQnNCLEdBQVcsR0FDWDNKLGFBQWlCd0IsR0FDWndJLE1BQUssU0FBQ2pJLEdBQ0MwQixJQUNBbUcsRUFDSVIsRUFDSWEsYUFBZWxJLEVBQVNMLEtBQUt3SSxNQUFPckIsRUFBWUwsRUFBV0QsS0FHbkVvQixHQUFXLE9BUnZCLE9BV1csV0FDQ2xHLEdBQ0FrRyxHQUFXLE9BS3BCLFdBQ0hHLEVBQU9LLE9BQU8sdUJBQ2QxRyxHQUFVLEdBeENWbUcsRUFBV1IsRUFBZ0JOLE1BMkNoQyxDQUFDVCxJQUVKLElBQU0rQixJQUFvQlYsR0FBaUJ0RSxFQUNyQ2lGLEVBQXVCWCxFQUFVdEYsYUFBRSxXQUFhdUQsRUFFdEQsT0FDSSxvQ0FDS2UsRUFDRyxrQkFBQ1AsR0FBRCxDQUFXekYsVUFBVSxlQUNqQixrQkFBQyxLQUFELENBQ0lyRCxNQUF1QixPQUFoQmlFLEVBQU1qRSxNQUFpQixHQUFLaUUsRUFBTWpFLE1BQ3pDaUwsS0FBTTdDLEVBQ043RixNQUFPQSxFQUNQK0YsWUFBYTBDLEVBQ2JqRixTQUFVZ0YsRUFDVnZDLFNBQVVMLEVBQ1ZFLFFBQU0sR0FFTGxHLEdBQVdBLEVBQVE2RSxPQUFTLEdBQUs3RSxJQUkxQyxvQ0FDSSxrQkFBQ3lHLEdBQUQsQ0FDSXZGLFVBQVUsY0FDVjZILG9CQUFtQmIsRUFDbkJySyxNQUFPaUUsRUFBTWpFLE1BQ2JpTCxLQUFNN0MsRUFDTjdGLE1BQU9BLEVBQ1ArRixZQUFhMEMsRUFDYmpGLFNBQVVnRixFQUNWdkMsU0FBVUwsRUFDVmdELFFBQVM1QixFQUNUbEIsUUFBTSxHQUVMbEcsR0FBV0EsRUFBUTZFLE9BQVMsR0FBSzdFLElBRXJCLElBQWhCdUgsRUFDRyxrQkFBQyxLQUFELENBQ0lsRCxZQUFVLFFBQ1ZaLFdBQVcsWUFDWHdGLEtBQU0sa0JBQUMsS0FBRCxNQUNOdkYsUUFBUyxrQkFBTW9ELEVBQVVkLGFBQWFDLEVBQU8sT0FFakQsT0FPeEJXLEdBQXFCOUksVUFBWSxDQUM3QjhGLFNBQVU3RixJQUFVZ0csS0FDcEJsRyxNQUFPRSxJQUFVK0YsT0FDakIxRCxNQUFPckMsSUFBVWdHLEtBQ2pCaUMsYUFBY2pJLElBQVVpRyxLQUFLN0YsV0FDN0I4SCxNQUFPbEksSUFBVStGLE9BQ2pCK0MsaUJBQWtCOUksSUFBVTRILE9BQzVCRixlQUFnQjFILElBQVVtTCxNQUFNLENBQzVCNUIsbUJBQW9CdkosSUFBVTJHLE1BQzlCaEcsWUFBYVgsSUFBVStGLE9BQ3ZCaUQsU0FBVWhKLElBQVUrRixPQUNwQmtELFVBQVdqSixJQUFVK0YsT0FDckJxQyxZQUFhcEksSUFBVStGLE9BQ3ZCbUQsYUFBY2xKLElBQVUyRyxNQUN4QndDLG1CQUFvQm5KLElBQVVnRyxLQUM5Qm9ELGNBQWVwSixJQUFVK0YsT0FDekJzRCxjQUFlckosSUFBVWdHLEtBQ3pCc0QsV0FBWXRKLElBQVUrRixPQUN0QnlELFlBQWF4SixJQUFVZ0csUUFJaEI2QyxJLEdBQUFBLE0sNkJDckxUdUMsR0FBcUJwSSxrQkFBT3FJLEtBQVBySSxDQUFILG9EQUl4QixTQUFTc0ksR0FBb0J2SCxHQUFPLElBRTVCbUUsRUFPQW5FLEVBUEFtRSxNQUY0QixFQVM1Qm5FLEVBTkE4QixnQkFINEIsV0FTNUI5QixFQUxBMUIsYUFKNEIsU0FLNUJ2QyxFQUlBaUUsRUFKQWpFLE1BQ0E0SCxFQUdBM0QsRUFIQTJELGVBQ0FvQixFQUVBL0UsRUFGQStFLGlCQUNHQyxFQVJ5QixLQVM1QmhGLEVBVDRCLDBFQVc1QnBELEVBVUErRyxFQVZBL0csWUFDQXFJLEVBU0F0QixFQVRBc0IsU0FDQUMsRUFRQXZCLEVBUkF1QixVQUNBYSxFQU9BcEMsRUFQQW9DLE1BQ0FaLEVBTUF4QixFQU5Bd0IsYUFDQUUsRUFLQTFCLEVBTEEwQixjQUNBaEIsRUFJQVYsRUFKQVUsWUFDQWUsRUFHQXpCLEVBSEF5QixtQkFDQUcsRUFFQTVCLEVBRkE0QixXQW5CNEIsRUFxQjVCNUIsRUFEQTZELGlCQXBCNEIsTUFvQmhCLElBcEJnQixFQTJCaEMsU0FBUzFCLEVBQWdCMkIsR0FDckIsT0FBT0EsRUFBU0MsS0FBSSxTQUFDekIsR0FBRCxPQUNoQixrQkFBQyxLQUFZTixPQUFiLENBQW9COUQsTUFBT29FLEVBQUtwRSxNQUFPOUYsTUFBT2tLLEVBQUtsSyxNQUFPdUgsSUFBSzJDLEVBQUtsSyxXQTdCNUMsTUFpQ0ZWLG9CQUFTLEdBakNQLFlBaUN6QitLLEVBakN5QixLQWlDaEJDLEVBakNnQixPQWtDRmhMLG1CQUFTLE1BbENQLFlBa0N6QjZDLEVBbEN5QixLQWtDaEJvSSxFQWxDZ0IsS0FvQ2hDQyxxQkFBVSxXQUNOLEdBQUszSixJQUFlbUosRUFBcEIsQ0FLQSxJQUFJNUYsR0FBVSxFQUNScUcsRUFBU25JLEtBQU1vSSxZQUFZRCxTQUczQnRJLEVBQVUsQ0FBRXVJLFlBQWFELEVBQU9wRCxNQUFPbEcsYUFBYSxHQThCMUQsT0E3QkltSSxFQUNBbkgsRUFBUXZCLFlBQWMwSSxFQUNmekksSUFDUHNCLEVBQVF0QixZQUFjQSxHQUd0Qm1JLElBQ0E3RyxFQUFRckIsT0FBU2tJLEdBRWhCSSxJQUFnQkosSUFDakJzQixHQUFXLEdBQ1gzSixhQUFpQndCLEdBQ1p3SSxNQUFLLFNBQUNqSSxHQUNDMEIsSUFDQW1HLEVBQ0lSLEVBQ0lhLGFBQWVsSSxFQUFTTCxLQUFLd0ksTUFBT3JCLEVBQVlMLEVBQVdELEtBR25Fb0IsR0FBVyxPQVJ2QixPQVdXLFdBQ0NsRyxHQUNBa0csR0FBVyxPQUtwQixXQUNIRyxFQUFPSyxPQUFPLHVCQUNkMUcsR0FBVSxHQXhDVm1HLEVBQVdSLEVBQWdCQyxNQTJDaEMsQ0FBQ2hCLElBRUosSUFBTStCLElBQW9CVixHQUFpQnRFLEVBQ3JDaUYsRUFBdUJYLEVBQVV1QixhQUFvQixLQUFPdEQsRUFFNUR1RCxFQUFZN0wsRUFBUUEsRUFBTW9ILE1BQU1xRSxHQUFhLEdBRW5ELE9BQ0ksa0JBQUNILEdBQUQsQ0FDSVEsT0FBUUQsRUFDUnRKLE1BQU9BLEVBQ1AwSSxLQUFNN0MsRUFDTkUsWUFBYTBDLEVBQ2JqRixTQUFVZ0YsRUFDVmdCLGVBQWdCMUMsRUFDaEJiLFNBekVSLFNBQXNCTixFQUF0QixHQUFxQyxJQUFWNEQsRUFBVSxFQUFWQSxPQUN2QjdDLEVBQVVkLGFBQWFDLEVBQU8wRCxFQUFPRSxLQUFLUCxLQXlFdENwRCxRQUFNLEdBRUxsRyxHQUFXQSxFQUFRNkUsT0FBUyxHQUFLN0UsR0FLOUNxSixHQUFvQnZMLFVBQVksQ0FDNUI4RixTQUFVN0YsSUFBVWdHLEtBQ3BCbEcsTUFBT0UsSUFBVStGLE9BQ2pCMUQsTUFBT3JDLElBQVVnRyxLQUNqQmlDLGFBQWNqSSxJQUFVaUcsS0FBSzdGLFdBQzdCOEgsTUFBT2xJLElBQVUrRixPQUNqQitDLGlCQUFrQjlJLElBQVU0SCxPQUM1QkYsZUFBZ0IxSCxJQUFVbUwsTUFBTSxDQUM1QkksVUFBV3ZMLElBQVUrRixPQUNyQnFDLFlBQWFwSSxJQUFVK0YsT0FDdkJvRCxtQkFBb0JuSixJQUFVZ0csS0FDOUJvRCxjQUFlcEosSUFBVStGLE9BQ3pCbUQsYUFBY2xKLElBQVUyRyxNQUN4QmhHLFlBQWFYLElBQVUrRixPQUN2QmlELFNBQVVoSixJQUFVK0YsT0FDcEJrRCxVQUFXakosSUFBVStGLE9BQ3JCdUQsV0FBWXRKLElBQVUrRixPQUN0QitELE1BQU85SixJQUFVRSxRQUNiRixJQUFVbUwsTUFBTSxDQUNadkYsTUFBTzVGLElBQVUrRixPQUFPM0YsV0FDeEJOLE1BQU9FLElBQVUrRixPQUFPM0YsaUJBTXpCa0wsVSx1Y0MzSVRTLEcsNk1BQ2EsV0FDUCxFQUFLaEksTUFBTWpFLFFBQVVrTSxhQUFRLEVBQUtqSSxNQUFNakUsT0FDeEMsRUFBS2lFLE1BQU1rRSxhQUFhLEVBQUtsRSxNQUFNbUUsTUFBTyxHQUUxQyxFQUFLbkUsTUFBTWtFLGFBQWEsRUFBS2xFLE1BQU1tRSxNQUFPLE0sb0NBSWxELFdBQ0ksT0FDSSxrQkFBQyxLQUFELENBQ0liLElBQUt0QyxLQUFLaEIsTUFBTW1FLE1BQ2hCcEksTUFBT2lGLEtBQUtoQixNQUFNbUUsTUFDbEJ2QyxRQUFTWixLQUFLa0QsYUFDZHBDLFNBQVVkLEtBQUtoQixNQUFNOEIsU0FDckJvRyxZQUFZbEgsS0FBS2hCLE1BQU1qRSxPQUFRa00sYUFBUWpILEtBQUtoQixNQUFNakUsUUFDbEQ0RixXQUFXLGlCLEdBakJLSSxhQXVCaENpRyxHQUFrQmhNLFVBQVksQ0FDMUJELE1BQU9FLElBQVVDLFVBQVUsQ0FBQ0QsSUFBVWdHLEtBQU1oRyxJQUFVeUksT0FBUXpJLElBQVUrRixTQUN4RWtDLGFBQWNqSSxJQUFVaUcsS0FBSzdGLFdBQzdCOEgsTUFBT2xJLElBQVUrRixPQUNqQkYsU0FBVTdGLElBQVVnRyxNQUdUK0YsSSxHQUFBQSxNLG1jQzlCZixJQUFNRyxHQUFrQmxKLGtCQUFPbUosS0FBUG5KLENBQUgseUNBSWZvSixHLDZNQUNhLFNBQUNwRSxFQUFELEdBQWtCLElBQVpsSSxFQUFZLEVBQVpBLE1BQ2pCLEVBQUtpRSxNQUFNa0UsYUFBYSxFQUFLbEUsTUFBTW1FLE1BQU9wSSxNLG9DQUc5QyxXQUNJLE9BQ0ksa0JBQUNvTSxHQUFELENBQ0kvRCxRQUFNLEVBQ05HLFNBQVV2RCxLQUFLa0QsYUFDZm5JLE1BQU9pRixLQUFLaEIsTUFBTWpFLE1BQ2xCdUgsSUFBS3RDLEtBQUtoQixNQUFNbUUsT0FFZm5ELEtBQUtoQixNQUFNMkQsZUFBZW9DLE1BQU0yQixLQUFJLFNBQUN6QixHQUFELE9BQ2pDLGtCQUFDLEtBQVNOLE9BQVYsQ0FBaUJyQyxJQUFLMkMsRUFBS2xLLE1BQU9BLE1BQU9rSyxFQUFLbEssTUFBTzhGLE1BQU9vRSxFQUFLcEUsZ0IsR0FkeERFLGFBcUI3QnNHLEdBQWVyTSxVQUFZLENBQ3ZCRCxNQUFPRSxJQUFVK0YsT0FDakJrQyxhQUFjakksSUFBVWlHLEtBQUs3RixXQUM3QjhILE1BQU9sSSxJQUFVK0YsT0FDakIyQixlQUFnQjFILElBQVU0SCxRQUdmd0UsVSxxQkNqQ2YsU0FBU0MsR0FBcUJ0SSxHQUFPLElBQ3pCdUksRUFBaUJ2SSxFQUFNMkQsZUFBdkI0RSxhQUVSLE9BQU8sa0JBQUMsS0FBRCxLQUFnQkEsR0FHM0JELEdBQXFCdE0sVUFBWSxDQUM3QjJILGVBQWdCMUgsSUFBVTRILFFBR2Z5RSxVLDJiQ1BURSxHLGlDQUNGLFdBQVl4SSxHQUFPLHlCQUNmLGNBQU1BLEdBRFMsZ0NBeUNDLFNBQUN5SSxFQUFRakUsRUFBTWtFLEdBQy9CLE9BQU8sSUFBSTVKLFNBQVEsU0FBQzZKLEdBQ0gsYUFBVG5FLEVBQ0FvRSxPQUFBLFVBQW9DQyxlQUFwQyxtQkFBZ0VKLEVBQWhFLFFBQTZFL0IsTUFDekUsU0FBQ29DLEdBQ0csSUFBTUMsRUFBVUQsRUFBUSxRQUN4QkgsRUFBUUksTUFJaEJDLFFBQXdCLENBQUMsT0FBRCxPQUFRTixFQUFSLDRCQUFtQ0QsS0FBVyxTQUFDTSxHQUNuRUosRUFBUUksWUFwREwsdUJBMERSLFNBQUNFLEdBQ1IsRUFBS2pKLE1BQU1rRSxhQUFhLEVBQUtsRSxNQUFNbUUsTUFBTzhFLE1BekQxQyxFQUFLdEksTUFBUSxDQUNUeUYsU0FBUyxHQUViLEVBQUs4QyxjQUFlLEVBTEwsRSw2Q0FRbkIsV0FBb0IsV0FDVkMsRUFBZUMsZUFDZlYsRUFBVVMsRUFBYUUsS0FBS3JDLEtBRWxDaEcsS0FBS3NJLGtCQUNEdEksS0FBS2hCLE1BQU0yRCxlQUFlNEYsSUFDMUJ2SSxLQUFLaEIsTUFBTTJELGVBQWVhLEtBQzFCa0UsR0FDRmhDLE1BQUssU0FBQ3FDLEdBQ0osSUFBTVMsRUFBZ0IsSUFBSVQsRUFDdEJJLEVBQ0EsRUFBS00sR0FDTCxFQUFLekosTUFBTTVCLEtBQ1gsRUFBS3NMLFNBQ0wsRUFBSzFKLE1BQU0ySixxQkFFZkgsRUFBY0ksU0FFMEIsbUJBQTdCSixFQUFjSyxZQUNyQixFQUFLN0osTUFBTThKLG1CQUFtQixFQUFLOUosTUFBTW1FLE1BQU9xRixFQUFjSyxZQUVsRSxFQUFLdEosU0FBUyxDQUFFNkYsU0FBUyxTLG1DQUlqQyxTQUFzQjJELEVBQVdDLEdBQzdCLFFBQUtBLEVBQVU1RCxVQUFXcEYsS0FBS2tJLGdCQUMzQmxJLEtBQUtrSSxjQUFlLEdBQ2IsSyxvQkEwQmYsV0FBUyxXQUNMLE9BQ0ksb0NBQ0tsSSxLQUFLTCxNQUFNeUYsU0FBV3RGLGFBQUUsY0FFckIsMEJBQ0lRLElBQUssU0FBQ21JLEdBQ0YsRUFBS0EsR0FBS0EsR0FFZFEsTUFBTyxDQUFFQyxXQUFZbEosS0FBS0wsTUFBTXlGLFFBQVUsU0FBVyxrQixHQXhFakRyRSxhQWdGNUJ5RyxHQUFjeE0sVUFBWSxDQUN0Qm9DLEtBQU1uQyxJQUFVNEgsT0FDaEJNLE1BQU9sSSxJQUFVK0YsT0FDakJrQyxhQUFjakksSUFBVWlHLEtBQ3hCeUIsZUFBZ0IxSCxJQUFVNEgsT0FDMUJpRyxtQkFBb0I3TixJQUFVaUcsS0FDOUJ5SCxvQkFBcUIxTixJQUFVNEgsUUFHcEIyRSxJLE1DdkZBLElBQ1g3SixLQUFNcUYsR0FDTm1HLGFBQWNyRixHQUNkc0YsU0FBVTFHLEVBQ1YyRyxlQUFnQjlDLEdBQ2hCK0MsU0FBVXRDLEdBQ1Z1QyxNQUFPbEMsR0FDUGhFLFlBQWFpRSxHQUNia0MsT0QrRVdoQyxJLG0vQkV4RmYsSUFBTWlDLEdBQWdCeEwsVUFBT0MsSUFBViw4Q0FJYndMLEdBQXNCekwsa0JBQU8wTCxLQUFjeEwsT0FBTSxTQUFDYSxHQUFELE1BQVksQ0FDL0QsWUFBYUEsRUFBTTRLLFlBREszTCxDQUFILHdRQWlCbkI0TCxHLGlDQUNGLFdBQVk3SyxHQUFPLDJCQUNmLGNBQU1BLEdBRFMsdUJBcUJSLFNBQUM4SyxHQUNSLFNBQXlCLGlCQUFSQSxHQUFvQkEsYUFBZUMsV0FwQnBELEVBQUtDLFlBQWMsRUFBS0MsU0FBU2pMLEVBQU1rTCxPQUFPMUcsTUFDeEMyRyxHQUFpQm5MLEVBQU1rTCxPQUFPMUcsTUFDOUIsS0FJTixFQUFLdEcsUUFBVSxFQUFLOEIsTUFBTWtMLE9BQU9oTixRQUU1QixFQUFLOEIsTUFBTWtMLE9BQU9FLFVBQ2xCeE4sT0FBT3lOLFVBQVVDLGVBQWVDLEtBQUssRUFBS3ZMLE1BQU1rTCxPQUFRLGdCQUN6RCxVQUFDLEVBQUtoTixlQUFOLE9BQUMsRUFBY21HLGNBRWYsRUFBS25HLFFBQUwsU0FDTyxFQUFLQSxTQURaLElBRUltRyxZQUFhLGNBaEJOLEUsa0NBeUJuQixXQUFTLElBT0RtSCxFQVBDLEVBQzREeEssS0FBS2hCLE1BQU1rTCxPQUFwRS9HLEVBREgsRUFDR0EsTUFBT0ssRUFEVixFQUNVQSxLQUFNM0MsRUFEaEIsRUFDZ0JBLE1BQU80SixFQUR2QixFQUN1QkEsUUFBU0MsRUFEaEMsRUFDZ0NBLEtBRGhDLElBQ3NDakgsaUJBRHRDLFdBRTZEekQsS0FBS2hCLE1BQU0yTCxjQUFyRXpILEVBRkgsRUFFR0EsYUFBYzRGLEVBRmpCLEVBRWlCQSxtQkFBb0JILEVBRnJDLEVBRXFDQSxvQkFGckMsRUFNRDNJLEtBQUtoQixNQUFNNEwsaUJBQW1CLEdBRDFCak4sRUFMSCxFQUtHQSxLQUFNZ0UsRUFMVCxFQUtTQSxLQUFNTixFQUxmLEVBS2VBLE1BQU9JLEVBTHRCLEVBS3NCQSxhQUFjVyxFQUxwQyxFQUtvQ0EsTUFBT0csRUFMM0MsRUFLMkNBLFNBR2hELEdBQStCLFdBQTNCdkMsS0FBS2hCLE1BQU1rTCxPQUFPMUcsS0FBbUIsQ0FDckMsSUFBTXBHLEVBQU8sQ0FDVHJDLE1BQU9pRixLQUFLaEIsTUFBTWpFLE1BQ2xCNkUsS0FBTUksS0FBS2hCLE1BQU1ZLEtBQ2pCakUsWUFBYXFFLEtBQUtoQixNQUFNckQsYUFHNUI2TyxFQUFVeEssS0FBS2dLLFlBQ1R2SyxJQUFNb0wsY0FBYzdLLEtBQUtnSyxZQUFhLENBQ2xDNU0sT0FDQStGLFFBQ0FELGVBQ0E0RixxQkFDQUgsc0JBQ0FoRyxlQUFnQjNDLEtBQUs5QyxVQVByQiw0QkFTaUJzRyxFQVRqQixjQVdWZ0gsRUFBVXhLLEtBQUtnSyxZQUNUdkssSUFBTW9MLGNBQWM3SyxLQUFLZ0ssWUFBYSxDQUNsQzlHLGVBQ0FuSSxNQUFPaUYsS0FBS2hCLE1BQU1qRSxNQUNsQm9JLFFBQ0FSLGVBQWdCM0MsS0FBSzlDLFFBQ3JCSSxNQUFPMEMsS0FBS2hCLE1BQU0xQixNQUNsQndELFNBQVVkLEtBQUtoQixNQUFNOEIsU0FDckIyQyxZQUNBTSxpQkFBa0IvRCxLQUFLaEIsTUFBTStFLG1CQVQ3Qiw0QkFXaUJQLEVBWGpCLFNBY2QsSUFBTXNILEVBQ0Ysb0NBQ0ksa0JBQUMsRUFBRCxDQUNJbk4sS0FBTUEsR0FBUSxHQUNkZ0UsS0FBTUEsR0FBUSxHQUNkTixNQUFPQSxHQUFTLEdBQ2hCSSxhQUFjQSxHQUFnQixHQUM5QlcsTUFBT0EsR0FBUyxHQUNoQkcsU0FBVUEsR0FBWSxLQUV6Qm1JLEdBSVQsT0FDSTFLLEtBQUtoQixNQUFNK0wsU0FDUCxrQkFBQ3JCLEdBQUQsQ0FDSTdJLE1BQU9BLEVBQ1A2SixLQUFNSSxFQUNOTCxRQUFTQSxFQUNUbk4sTUFBTzBDLEtBQUtoQixNQUFNMUIsTUFDbEJzTSxTQUFVekcsR0FFVixrQkFBQ3NHLEdBQUQsS0FBZ0JlLFEsR0F6RlAvSyxJQUFNdUwsZUFnR25DbkIsR0FBZTdPLFVBQVksQ0FDdkI0RSxLQUFNM0UsSUFBVStGLE9BQ2hCMkosY0FBZTFQLElBQVU0SCxPQUN6QjlILE1BQU9FLElBQVVnUSxJQUNqQkYsUUFBUzlQLElBQVVnRyxLQUNuQjNELE1BQU9yQyxJQUFVZ0csS0FDakJpSixPQUFRalAsSUFBVTRILE9BQ2xCL0IsU0FBVTdGLElBQVVnRyxLQUNwQjJKLGdCQUFpQjNQLElBQVU0SCxPQUMzQmxILFlBQWFWLElBQVUrRixPQUN2QitDLGlCQUFrQjlJLElBQVU0SCxRQUdqQmdILFVDMUhGcUIsR0FBNkIsQ0FDdENwTyxJQUFLLENBQUVxTyxNQVBjLDZWQU9JQyxlQUFnQnpFLGFBQW9CLE1BQzdEMEUsTUFBTyxDQUFFRixNQVhjLHdJQVdNQyxlQUFnQnpFLGFBQW9CLE1BQ2pFMkUsS0FBTSxDQUFFSCxNQWZjLHNEQWVLQyxlQUFnQnpFLGFBQW9CLE1BQy9ENEUsS0FBTSxDQUFFSixNQU5jLG1KQU1LQyxlQUFnQnpFLGFBQW9CLE8sbUJDZ1JwRDZFLEcsV0E5UVgsV0FBWUMsR0FBVSw2Q0FLQyxTQUFDQyxHQUNwQixZQUFxQkMsSUFBZEQsR0FBeUMsS0FBZEEsR0FBa0MsT0FBZEEsS0FMdEQxTCxLQUFLeUwsU0FBV0EsRUFDaEJ6TCxLQUFLNEwsT0FBU0gsRUFBU0ksTUFBSyxTQUFDNUksR0FBRCxNQUFtQixTQUFaQSxFQUFFRSxTLDZDQVF6QyxTQUFrQkEsRUFBT3RDLEVBQU96RCxHQUM1QixPQUFLNEMsS0FBSzhMLHFCQUFxQjFPLElBQ3BCLENBQUUyTyxXQUFZNUksRUFBTzZJLFNBQVVyRixhQUFvQixFQUFHLENBQUM5RixPLDZCQU10RSxTQUFnQnNDLEVBQU90QyxFQUFPb0wsRUFBVzdPLEdBQU0sSUFDbkNFLEVBQVU0TyxhQUFxQkQsRUFBVUUsVUFBV0YsRUFBVUcsV0FBOUQ5TyxNQUNSLE9BQUlBLEVBQ08sQ0FBRXlPLFdBQVk1SSxFQUFPNkksU0FBVTFPLEdBRXRDMEMsS0FBSzhMLHFCQUFxQjFPLElBQVNBLEVBQUsyRSxPQUFTa0ssRUFBVUcsVUFDcEQsQ0FDSEwsV0FBWTVJLEVBQ1o2SSxTQUFVQyxFQUFVRCxTQUNkQyxFQUFVRCxTQUNWckYsYUFBb0IsR0FBSSxDQUFDOUYsRUFBT29MLEVBQVVHLGdCQUdwRHBNLEtBQUs4TCxxQkFBcUIxTyxJQUFTQSxFQUFLMkUsT0FBU2tLLEVBQVVFLFlBQ3BELENBQ0hKLFdBQVk1SSxFQUNaNkksU0FBVUMsRUFBVUQsU0FDZEMsRUFBVUQsU0FDVnJGLGFBQW9CLEdBQUksQ0FBQzlGLEVBQU9vTCxFQUFVRSxlLDRCQU81RCxTQUFlaEosRUFBT3RDLEVBQU9vTCxFQUFXN08sR0FBTSxNQUNUaVAsYUFBaUJKLEVBQVVLLFNBQXBEaFAsRUFEa0MsRUFDbENBLE1BQWU2TixFQURtQixFQUMzQm9CLE9BQ2YsT0FBSWpQLEVBQ08sQ0FBRXlPLFdBQVk1SSxFQUFPNkksU0FBVTFPLE1BRXRDMEMsS0FBSzhMLHFCQUFxQjFPLElBQVUrTixFQUFNcUIsS0FBS3BQLEtBQ3hDLENBQ0gyTyxXQUFZNUksRUFDWjZJLFNBQVVDLEVBQVVELFNBQ2RDLEVBQVVELFNBQ1ZyRixhQUFvQixHQUFJLENBQUM5RixFQUFPb0wsRUFBVUssYSxzQ0FnQjVELFNBQXlCbkosRUFBT3RDLEVBQU9vTCxFQUFXN08sRUFBTWtQLEVBQVNsQixHQUFnQixNQUM1Q2lCLGFBQWlCQyxHQUExQ2hQLEVBRHFFLEVBQ3JFQSxNQUFlNk4sRUFEc0QsRUFDOURvQixPQUNmLE9BQUlqUCxFQUNPLENBQUV5TyxXQUFZNUksRUFBTzZJLFNBQVUxTyxNQUV0QzBDLEtBQUs4TCxxQkFBcUIxTyxJQUFVK04sRUFBTXFCLEtBQUtwUCxLQUN4QyxDQUNIMk8sV0FBWTVJLEVBQ1o2SSxTQUFVQyxFQUFVRCxTQUNkQyxFQUFVRCxTQUNWckYsYUFBb0IsR0FBSSxDQUFDOUYsRUFBT3VLLE8sNkJBT2xELFNBQWdCakksRUFBT3RDLEVBQU9vTCxFQUFXN08sR0FBTSxJQUNuQ0UsRUFBVW1QLGFBQXFCUixFQUFVUyxPQUF6Q3BQLE1BQ1IsR0FBSUEsRUFDQSxNQUFPLENBQUV5TyxXQUFZNUksRUFBTzZJLFNBQVUxTyxHQUcxQyxJQUFNcVAsRUFBTUMsT0FBT3hQLEdBQ25CLE9BQUl3UCxPQUFPQyxNQUFNRixHQUNOLENBQ0haLFdBQVk1SSxFQUNaNkksU0FBVUMsRUFBVUQsU0FDZEMsRUFBVUQsU0FDVnJGLGFBQW9CLEdBQUksQ0FBQzlGLFFBSWxDYixLQUFLOEwscUJBQXFCMU8sSUFBU3VQLEVBQU1WLEVBQVVTLE1BQU0sSUFDMURDLEVBQU1WLEVBQVVTLE1BQU0sS0FFZixDQUNIWCxXQUFZNUksRUFDWjZJLFNBQVVDLEVBQVVELFNBQ2RDLEVBQVVELFNBQ1ZyRixhQUFvQixFQUFHLENBQUM5RixFQUFPb0wsRUFBVVMsTUFBTSxHQUFJVCxFQUFVUyxNQUFNLFEsMEJBTXJGLFNBQWF0UCxHQUNULEdBQUk0QyxLQUFLNEwsT0FBUSxDQUNiLElBQU1rQixFQUFjMVAsRUFBSzRJLEtBQ25CK0csRUFBaUIvTSxLQUFLNEwsT0FBTy9LLE1BRW5DLFFBQTJCLElBQWhCaU0sR0FBK0MsS0FBaEJBLEdBQXFDLE1BQWZBLEVBQzVELE1BQU8sQ0FBRWYsV0FBWSxPQUFRQyxTQUFVckYsYUFBb0IsRUFBRyxDQUFDb0csS0FFbkUsS0FBNkIsaUJBQWhCRCxHQUE0QkEsYUFBdUIvQyxRQUM1RCxNQUFPLENBQUVnQyxXQUFZLE9BQVFDLFNBQVVyRixhQUFvQixFQUFHLENBQUNvRyxLQUVuRSxHQUNJRCxFQUFZRSxXQUFXLE1BQ1AsTUFBaEJGLEdBQ2dCLE9BQWhCQSxHQUM4QixZQUE5QkEsRUFBWUcsY0FFWixNQUFPLENBQUVsQixXQUFZLE9BQVFDLFNBQVVyRixhQUFvQixFQUFHLENBQUNvRyxLQUduRSxHQUQ0QixDQUFDLElBQUssS0FBTSxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDekNHLE1BQUssU0FBQ0MsR0FBRCxPQUFPTCxFQUFZTSxRQUFRRCxJQUFNLEtBQzFELE1BQU8sQ0FBRXBCLFdBQVksT0FBUUMsU0FBVXJGLGFBQW9CLEVBQUcsQ0FBQ29HLEtBR25FLEdBQUlELEVBQVkvSyxRQUFVLEtBQ3RCLE1BQU8sQ0FBRWdLLFdBQVksT0FBUUMsU0FBVXJGLGFBQW9CLEdBQUksQ0FBQ29HLEtBSXhFLElBQUlNLEVBQ0F2TCxFQUNBd0wsRUFFSixJQUFLeEwsRUFBSSxFQUFHQSxFQUFJOUIsS0FBS3lMLFNBQVMxSixPQUFRRCxHQUFLLEVBQUcsQ0FDMUMsSUFBa0MsSUFBOUI5QixLQUFLeUwsU0FBUzNKLEdBQUdzSSxXQUNqQmlELEVBQU1yTixLQUFLdU4sa0JBQ1B2TixLQUFLeUwsU0FBUzNKLEdBQUdxQixNQUNqQm5ELEtBQUt5TCxTQUFTM0osR0FBR2pCLE1BQ2pCekQsRUFBSzRDLEtBQUt5TCxTQUFTM0osR0FBR3FCLFNBR3RCLE9BQU9rSyxFQUdmLEdBQXFDLEtBQWpDalEsRUFBSzRDLEtBQUt5TCxTQUFTM0osR0FBR3FCLFFBQWtELE9BQWpDL0YsRUFBSzRDLEtBQUt5TCxTQUFTM0osR0FBR3FCLFFBSTdEbkQsS0FBS3lMLFNBQVMzSixHQUFHMEwsV0FDakIsSUFBS0YsRUFBSSxFQUFHQSxFQUFJdE4sS0FBS3lMLFNBQVMzSixHQUFHMEwsV0FBV3pMLE9BQVF1TCxHQUFLLEVBQ3JELE9BQVF0TixLQUFLeUwsU0FBUzNKLEdBQUcwTCxXQUFXRixHQUFHOUosTUFDbkMsSUFBSyxTQU9ELEdBTkE2SixFQUFNck4sS0FBS3lOLGdCQUNQek4sS0FBS3lMLFNBQVMzSixHQUFHcUIsTUFDakJuRCxLQUFLeUwsU0FBUzNKLEdBQUdqQixNQUNqQmIsS0FBS3lMLFNBQVMzSixHQUFHMEwsV0FBV0YsR0FDNUJsUSxFQUFLNEMsS0FBS3lMLFNBQVMzSixHQUFHcUIsUUFHdEIsT0FBT2tLLEVBRVgsTUFDSixJQUFLLFFBT0QsR0FOQUEsRUFBTXJOLEtBQUswTixlQUNQMU4sS0FBS3lMLFNBQVMzSixHQUFHcUIsTUFDakJuRCxLQUFLeUwsU0FBUzNKLEdBQUdqQixNQUNqQmIsS0FBS3lMLFNBQVMzSixHQUFHMEwsV0FBV0YsR0FDNUJsUSxFQUFLNEMsS0FBS3lMLFNBQVMzSixHQUFHcUIsUUFHdEIsT0FBT2tLLEVBRVgsTUFDSixJQUFLLFNBT0QsR0FOQUEsRUFBTXJOLEtBQUsyTixnQkFDUDNOLEtBQUt5TCxTQUFTM0osR0FBR3FCLE1BQ2pCbkQsS0FBS3lMLFNBQVMzSixHQUFHakIsTUFDakJiLEtBQUt5TCxTQUFTM0osR0FBRzBMLFdBQVdGLEdBQzVCbFEsRUFBSzRDLEtBQUt5TCxTQUFTM0osR0FBR3FCLFFBR3RCLE9BQU9rSyxFQUVYLE1BQ0osSUFBSyxNQVNELEdBUkFBLEVBQU1yTixLQUFLNE4seUJBQ1A1TixLQUFLeUwsU0FBUzNKLEdBQUdxQixNQUNqQm5ELEtBQUt5TCxTQUFTM0osR0FBR2pCLE1BQ2pCYixLQUFLeUwsU0FBUzNKLEdBQUcwTCxXQUFXRixHQUM1QmxRLEVBQUs0QyxLQUFLeUwsU0FBUzNKLEdBQUdxQixPQUN0QitILEdBQTJCcE8sSUFBSXFPLE1BQy9CRCxHQUEyQnBPLElBQUlzTyxnQkFHL0IsT0FBT2lDLEVBRVgsTUFDSixJQUFLLE9BU0QsR0FSQUEsRUFBTXJOLEtBQUs0Tix5QkFDUDVOLEtBQUt5TCxTQUFTM0osR0FBR3FCLE1BQ2pCbkQsS0FBS3lMLFNBQVMzSixHQUFHakIsTUFDakJiLEtBQUt5TCxTQUFTM0osR0FBRzBMLFdBQVdGLEdBQzVCbFEsRUFBSzRDLEtBQUt5TCxTQUFTM0osR0FBR3FCLE9BQ3RCK0gsR0FBMkJLLEtBQUtKLE1BQ2hDRCxHQUEyQkssS0FBS0gsZ0JBR2hDLE9BQU9pQyxFQUVYLE1BQ0osSUFBSyxRQVNELEdBUkFBLEVBQU1yTixLQUFLNE4seUJBQ1A1TixLQUFLeUwsU0FBUzNKLEdBQUdxQixNQUNqQm5ELEtBQUt5TCxTQUFTM0osR0FBR2pCLE1BQ2pCYixLQUFLeUwsU0FBUzNKLEdBQUcwTCxXQUFXRixHQUM1QmxRLEVBQUs0QyxLQUFLeUwsU0FBUzNKLEdBQUdxQixPQUN0QitILEdBQTJCRyxNQUFNRixNQUNqQ0QsR0FBMkJHLE1BQU1ELGdCQUdqQyxPQUFPaUMsRUFFWCxNQUNKLElBQUssT0FTRCxHQVJBQSxFQUFNck4sS0FBSzROLHlCQUNQNU4sS0FBS3lMLFNBQVMzSixHQUFHcUIsTUFDakJuRCxLQUFLeUwsU0FBUzNKLEdBQUdqQixNQUNqQmIsS0FBS3lMLFNBQVMzSixHQUFHMEwsV0FBV0YsR0FDNUJsUSxFQUFLNEMsS0FBS3lMLFNBQVMzSixHQUFHcUIsT0FDdEIrSCxHQUEyQkksS0FBS0gsTUFDaENELEdBQTJCSSxLQUFLRixnQkFHaEMsT0FBT2lDLEVBRVgsTUFDSixJQUFLLFNBTUQsR0FMQUEsRUFBTTdCLEVBQVVxQyxnQkFDWjdOLEtBQUt5TCxTQUFTM0osR0FBRzBMLFdBQVdGLEdBQUdRLGNBQy9COU4sS0FBS3lMLFNBQVMzSixHQUFHcUIsTUFDakIvRixFQUFLNEMsS0FBS3lMLFNBQVMzSixHQUFHcUIsUUFHdEIsT0FBT2tLLEdBUS9CLE9BQU8sSyw4QkE5TVgsU0FBdUJTLEVBQWUzSyxFQUFPL0YsR0FDekMsSUFBTWlRLEVBQU1TLEVBQWMzSyxFQUFPL0YsR0FDakMsTUFBbUIsaUJBQVJpUSxHQUNBLENBQUV0QixXQUFZNUksRUFBTzZJLFNBQVVxQixPLHFoQ0MxRGxELElBQU1VLEdBQTBCOVAsa0JBQU8rUCxJQUFQL1AsQ0FBSCxzY0FxQnZCZ1EsR0FBbUJoUSxVQUFPQyxJQUFWLDhFQUtoQmdRLEcsaUNBR0YsV0FBWWxQLEVBQU9tUCxHQUFTLGtCQUN4QixjQUFNblAsR0FEa0IscUNBMlNILFNBQUNvUCxHQUNsQixFQUFLQyxRQUFVLEVBQUtBLE9BQU90TSxRQUMzQixFQUFLc00sT0FBT3JKLFNBQVEsU0FBQ3NKLEdBQVUsTUFDdkJBLEdBQUssVUFBSUEsRUFBTUMsY0FBVixPQUFJLEVBQWN4TSxRQUN2QnVNLEVBQU1DLE9BQU92SixTQUFRLFNBQUN3SixHQUNsQixJQUFNQyxFQUFRTCxFQUFRbEUsT0FBT3dFLFdBQVUsU0FBQ3pMLEdBQUQsT0FBT0EsRUFBRUUsUUFBVXFMLEtBRTFELElBQWUsSUFBWEMsRUFBYyxDQUNkLElBQU1FLEVBQWFDLEtBQUtDLE1BQU1ELEtBQUtFLFVBQVVWLEVBQVFsRSxPQUFPdUUsS0FDNURFLEVBQVdJLFlBQWEsRUFDeEIsRUFBS3RELFNBQVN1RCxPQUFPUCxFQUFPLEVBQUdFLGFBclQzQiwyQkE2VGIsV0FVWCxJQVRBLEVBQUtNLGdCQUNMLEVBQUtqUSxNQUFNeUIsa0JBQW9DLEdBQXdCLEdBRXZFLEVBQUt5TyxTQUFXLEdBRWhCdFMsT0FBT3VTLEtBQUssRUFBS3hQLE1BQU12QyxNQUFNNEgsU0FBUSxTQUFDN0IsR0FDbEMsRUFBSytMLFNBQVMvTCxHQUFTLEVBQUt4RCxNQUFNdkMsS0FBSytGLEdBQU9wSSxTQUc5QyxFQUFLcVUsTUFBb0MsbUJBQXJCLEVBQUtBLEtBQUtDLFVBQ1AsRUFBS0QsS0FBS0MsT0FBTyxFQUFLSCxVQUd6QyxZQURBLEVBQUtsUSxNQUFNeUIsa0JBQW9DLEdBQXlCLEdBSWhGLElBQU02TyxFQUEwQixXQU94QixJQWtCQUMsRUFuQkosSUFMQTNTLE9BQU91UyxLQUFLLEVBQUt4UCxNQUFNdkMsTUFBTTRILFNBQVEsU0FBQzdCLEdBQ2xDLEVBQUsrTCxTQUFTL0wsR0FBUyxFQUFLeEQsTUFBTXZDLEtBQUsrRixHQUFPcEksU0FJOUMsQ0FBQ1EsS0FBYUQsTUFBWWtVLFNBQVMsRUFBS3hRLE1BQU1ZLFFBQ3ZCNlAsUUFDbkI3UyxPQUFPaUssT0FBTyxFQUFLc0gsUUFBUWxVLFNBQVM0UixNQUFLLFNBQUNjLEdBQUQsT0FDckMvUCxPQUFPdVMsS0FBS3hDLEdBQUtkLE1BQUssU0FBQzdGLEdBQUQsT0FBVUEsSUFBUyxFQUFLa0osU0FBU2xKLFlBSTNDLENBQ2hCLElBQU15SSxFQUFRLEVBQUtoRCxTQUFTaUQsV0FBVSxTQUFDekwsR0FBRCxNQUFtQixTQUFaQSxFQUFFRSxTQU0vQyxPQUxBLEVBQUt1TSxpQkFDRCxPQUNBL0ksYUFBb0IsRUFBRyxDQUFDLEVBQUs4RSxTQUFTZ0QsR0FBTzVOLE1BQU8sRUFBS3FPLFNBQVNsSixhQUV0RSxFQUFLaEgsTUFBTXlCLGtCQUFvQyxHQUF5QixHQU9oRixHQUFJLEVBQUtrUCxVQUFXLENBQ2hCLElBQUlDLEVBQVksR0FDaEJoVCxPQUFPdVMsS0FBSyxFQUFLVSxTQUFTN0ssU0FBUSxTQUFDeEIsR0FDM0JBLElBQVMsRUFBSzBMLFNBQVNZLFlBQ3ZCRixFQUFZLEdBQUgsV0FBT0EsR0FBUCxJQUFxQixFQUFLQyxRQUFRck0sU0FHbkQrTCxFQUFjLEVBQUs5RCxTQUFTL0UsS0FBSSxTQUFDekQsR0FDN0IsT0FBSTJNLEVBQVVKLFNBQVN2TSxFQUFFRSxPQUNyQixTQUFZRixHQUFaLElBQWVtSCxVQUFVLElBRXRCbkgsVUFHWHNNLEVBQWMsRUFBSzlELFNBSXZCLElBQ0luTyxFQURjLElBQUlrTyxHQUFVK0QsR0FDVlEsYUFBYSxFQUFLYixVQVV4QyxHQVRJNVIsRUFDQSxFQUFLb1MsaUJBQWlCcFMsRUFBTXlPLFdBQVl6TyxFQUFNME8sVUFDdkMsRUFBSzlPLFNBQVcsRUFBS0EsUUFBUThTLGdCQUNwQzFTLEVEN2FULFNBQXVCd1EsRUFBZW1DLEdBQVUsTUFDekJDLGFBQW9CcEMsR0FBdEN4USxFQUQyQyxFQUMzQ0EsTUFBT2lQLEVBRG9DLEVBQ3BDQSxPQUNmLEdBQUlqUCxFQUNBLE1BQU8sQ0FBRTBPLFNBQVUxTyxHQUV2QixJQUFNK1AsRUFBTWQsRUFBTzBELEdBQ25CLE1BQW1CLGlCQUFSNUMsRUFDQSxDQUFFckIsU0FBVXFCLFFBRHZCLEVDdWFvQjhDLENBQWMsRUFBS2pULFFBQVE4UyxjQUFlLEVBQUtkLFlBRW5ELEVBQUtrQixZQUFZOVMsRUFBTTBPLFVBSTNCMU8sRUFDQSxFQUFLMEIsTUFBTXlCLGtCQUFvQyxHQUF5QixRQUNyRSxHQUNILEVBQUs0UCxVQUNKLEVBQUtDLGVBQWtCLEVBQUtYLFdBQXlDLFVBQTVCLEVBQUtULFNBQVNZLFdBQzFELENBR0UsSUFBSVMsRUFBYSxpQ0FBSCxPQUFvQyxFQUFLckIsU0FBU3NCLFVBQWxELHlCQUE0RSxFQUFLdEIsU0FBU3VCLGNBRWxHQyxFQUFvQyxNQUFyQixFQUFLQyxjQUF1QixFQUFLQSxhQUNqQyxTQUFqQkQsSUFBNEMsSUFBakJBLElBQzNCLEVBQUtFLGVBQWdCLEVBRXJCLEVBQUtDLFlBQWNDLGNBQVNDLFFBQVEsS0FBTSxJQUcxQ1IsRUFBYSxHQUFILE9BQU1BLEVBQU4sa0JBQTBCLEVBQUtNLGNBRzdDLElBQU1HLEVBQU8sV0FBSCxPQUFjLEVBQUs5QixTQUFTOVMsVUFBNUIsT0FBdUMsRUFBSzZVLFVBQVVDLGtCQUF0RCxPQUF5RVgsR0FDbkYsY0FBQyxzQkFBQVksRUFBQSw2REFDRyxFQUFLQyxVQUFXLEVBQ2hCLEVBQUtDLFNBQVUsRUFDZixFQUFLQyxZQUFhLEVBSWxCLEVBQUtDLFNBQVdDLE9BQU96UixLQUNuQmlSLEVBRFksVUFFVCxFQUFLdEosUUFGSSwwQkFHSCxFQUFLdUosVUFBVVEsV0FIWixvQkFHa0MsRUFBS1IsVUFBVVMsY0FHakVGLE9BQU9HLFdBQWEsU0FBQ3BVLEdBQ2pCLEVBQUs2VCxVQUFXLEVBRWhCLEVBQUtRLGlCQUFpQnJVLElBaEI3QixTQW1CUyxFQUFLc1Usc0JBQXNCLEVBQUtaLFVBQVVhLGFBbkJuRCxVQXFCUSxFQUFLVixXQUFZLEVBQUtHLFNBQVNRLE9BckJ2Qyx3QkF1Qk8sRUFBSzNCLFlDdGUwQix5RER1ZS9CLEVBQUtwUixNQUFNeUIsa0JBQ1ksR0FDRCxHQTFCN0IsbUJBNEJjLEdBNUJkLFdBK0JRLEVBQUsyUSxTQS9CYix3QkFpQ08sRUFBS2hCLFlDbmZrQiw0RERvZnZCLEVBQUtwUixNQUFNeUIsa0JBQ1ksR0FDRCxHQXBDN0IsbUJBc0NjLEdBdENkLHlCQTJDUyxFQUFLdVIsdUJBQXVCLElBM0NyQyxXQTZDUSxFQUFLVixZQUFlLEVBQUtELFFBN0NqQyx3QkErQ08sRUFBS0EsU0FBVSxFQUdmLEVBQUtqQixZQ25nQitCLGlFRG9nQnBDLEVBQUtwUixNQUFNeUIsa0JBQ1ksR0FDRCxHQXJEN0IsbUJBdURjLEdBdkRkLGtDQXlEVSxHQXpEViwyQ0FBRCxHQTBES2lGLE1BQUssV0FDRCxFQUFLMkwsUUFHTixFQUFLclMsTUFBTXlCLGtCQUNZLEdBQ0QsR0FKdEIsRUFBS3dSLG1CQVNiLEVBQUtBLFlBSVQsRUFBSzdDLE1BQ3VCLG1CQUFyQixFQUFLQSxLQUFLQyxhQUNhLElBQXZCLEVBQUs2QyxjQUVaLEVBQUtBLGNBQWN4TSxNQUFLLFdBQ3BCNEosT0FHSkEsT0EzZW9CLHVCQStlakIsV0FDUCxJQUFNeFQsRUFBTyxJQUFJNEMsZ0JBQ2pCOUIsT0FBT3VTLEtBQUssRUFBS0QsVUFBVWxLLFNBQVEsU0FBQzFDLEdBQ04sTUFBdEIsRUFBSzRNLFNBQVM1TSxJQUNkeEcsRUFBS3FXLE9BQU83UCxFQUFLLEVBQUs0TSxTQUFTNU0sT0FJbkMsRUFBSytOLFNBRUx2VSxFQUFJLE9BQVEsZ0JBRVosRUFBS2tELE1BQU1ZLE9BQVNwRSxNQUNwQk0sRUFBSSxPQUFRLFFBR2hCSixhQUFpQixDQUNiQyxZQUFhLEVBQUtTLFNBQ2xCTixPQUNBRSxjQUFlLENBQUUsZUFBZ0IscUNBQ2pDQyxPQUFRLE9BQ1JDLGFBQWEsSUFFWndKLE1BQUssU0FBQ2pJLEdBQWEsTUFDVmtQLEVBQU1sUCxTQUFILFVBQUdBLEVBQVVMLFlBQWIsYUFBRyxFQUFnQndJLE1BQU0sR0FDbEMsR0FBSSxFQUFLNUcsTUFBTVksT0FBU25FLEtBQWEsQ0FDakMsSUFBTTJXLEVBQVMsR0FFZkEsRUFBT3pGLEVBQUkzRyxNQUFYLFNBQ08yRyxFQUFJMEYsU0FEWCxJQUVJQyxHQUFJM0YsRUFBSTJGLEdBQ1J0TSxLQUFNMkcsRUFBSTNHLEtBQ1ZySyxZQUFhLEVBQUtxRCxNQUFNckQsY0FHNUIsRUFBS3dTLFFBQVFqVSxXQUNUcVksSUFBTyxFQUFLcEUsUUFBUWxVLFFBQWQsT0FDRCxFQUFLK0UsTUFBTXJELFlBQWMsQ0FBRTZXLE9BQVFKLE1BSTVDLEVBQUtoRCxNQUEyQyxtQkFBNUIsRUFBS0EsS0FBS3FELGVBQzlCLEVBQUtyRCxLQUFLcUQsZ0JBRVYsRUFBS3pULE1BQU1ZLE9BQVNwRSxLQUNwQnFDLGFBQWMsWUFBRCxPQUFhOE8sRUFBSTNHLEtBQWpCLEtBQTBCLFdBQ2hDLEVBQUtoSCxNQUFNWSxPQUFTbkUsS0FDM0JvQyxhQUFjLFlBQUQsT0FDRyxFQUFLNlUsa0JBQW9CLEVBQUtBLGtCQUFvQi9GLEVBQUkzRyxLQUR6RCxLQUVULFdBR0puSSxhQUFjLFlBQUQsT0FBYThPLEVBQUkzRyxLQUFqQixLQUEwQixXQUUzQyxFQUFLaEgsTUFBTXlCLGtCQUFvQyxHQUF5QixNQXRDaEYsT0F3Q1csU0FBQ2tTLEdBQ0osSUFBTUMsRUFBaUJDLGFBQWNGLEdBQ3JDLEVBQUtwVCxTQUFTLENBQUV5TSxTQUFVNEcsSUFDdEIsRUFBS3hELE1BQXdDLG1CQUF6QixFQUFLQSxLQUFLMEQsWUFDOUIsRUFBSzFELEtBQUswRCxhQUVkLEVBQUs5VCxNQUFNeUIsa0JBQW9DLEdBQXlCLFNBN2lCeEQsMkJBaWpCYixTQUFDMEMsRUFBTzJKLEdBQ25CLElBQU1pRyxFQUFVLEdBZWhCLEdBZGMsY0FBVjVQLEdBQ0F2RyxPQUFPdVMsS0FBSyxFQUFLVSxTQUFTN0ssU0FBUSxTQUFDeEIsR0FDM0JBLElBQVNzSixFQUNULEVBQUsrQyxRQUFRck0sR0FBTXdCLFNBQVEsU0FBQy9CLEdBQ3hCOFAsRUFBUTlQLEdBQUssQ0FBRThILFFBQVMsQ0FBRWlJLE1BQU0sT0FHcEMsRUFBS25ELFFBQVFyTSxHQUFNd0IsU0FBUSxTQUFDL0IsR0FDeEI4UCxFQUFROVAsR0FBSyxDQUFFOEgsUUFBUyxDQUFFaUksTUFBTSxVQU01QyxFQUFLQyxjQUFjQyxJQUFJL1AsR0FBUSxDQUMvQixJQUFNcEksRUFBUSxFQUFLa1ksY0FBY0UsSUFBSWhRLEdBQ3JDdkcsT0FBT3VTLEtBQUtwVSxHQUFPaUssU0FBUSxTQUFDb08sR0FDeEIsSUFBTWhXLEVBQU8sR0FDVGlXLEdBQU8sRUFFWHRZLEVBQU1xWSxHQUFXcE8sU0FBUSxTQUFDc08sR0FDdEIsSUFBTWxKLElBQWEsRUFBS3FCLFNBQVNJLE1BQUssU0FBQzVJLEdBQ25DLE9BQU9BLEVBQUVFLFFBQVVtUSxLQUNwQmxKLFNBRUdtSixFQUNGRCxJQUFlblEsRUFBUTJKLEVBQWMsRUFBS25OLE1BQU12QyxLQUFLa1csR0FBWXZZLE1BQ2pFcVAsSUFBYW1KLEdBQ2JGLEdBQU8sRUFDUGpXLEVBQUtrVyxHQUFjLE1BRW5CbFcsRUFBS2tXLEdBQWNDLEtBSXZCRixJQUNBTixFQUFRSyxHQUFhLENBQ2pCclAsaUJBQWtCLENBQUVpUCxLQUFNNVYsR0FDMUJyQyxNQUFPLENBQUVpWSxLQUFNLFdBSy9CRCxFQUFRNVAsR0FBUyxDQUFFcEksTUFBTyxDQUFFaVksS0FBTWxHLElBRWxDLElBQU0wRyxFQUFZakIsSUFBTyxFQUFLNVMsTUFBTyxDQUFFdkMsS0FBTTJWLElBQ3ZDVSxFQUFZLEVBQUtDLGlCQUFpQkYsR0FDeEMsRUFBS2pVLFNBQVNrVSxHQUVWLEVBQUtFLGNBQ0wsRUFBS0EsYUFBYWpPLE1BQUssV0FDZSxtQkFBdkIsRUFBSzBKLEtBQUs3TCxVQUNqQixFQUFLNkwsS0FBSzdMLFNBQVNKLEVBQU8ySixFQUFhMkcsU0F2bUIzQixpQ0E2bUJQLFNBQUN0USxFQUFPMkssR0FDekIsSUFBTVcsRUFBUSxFQUFLaEQsU0FBU2lELFdBQVUsU0FBQ2tGLEdBQUQsT0FBT0EsRUFBRXpRLFFBQVVBLEtBQ25EOEksRUFBWSxDQUFDLENBQUV6SSxLQUFNLFNBQVVzSyxrQkFDckMsRUFBS3JDLFNBQVNnRCxHQUFPakIsV0FBYXZCLEtBaG5CViwrQkFvbkJULFNBQUM5SSxFQUFPMFEsR0FDdkIsRUFBS3RVLFVBQVMsU0FBQ3VVLEdBQ1gsSUFBTU4sRUFBWWpCLElBQU91QixFQUFlLENBQ3BDMVcsS0FBTSxPQUFHK0YsRUFBUSxDQUFFN0YsTUFBTyxDQUFFMFYsTUFBTSxPQUd0QyxPQURBUSxFQUFVeEgsU0FBVzZILEVBQ2RMLFFBMW5CYSw0QkErbkJaLFNBQUNyUSxHQUNiLEVBQUs1RCxVQUFTLFNBQUN1VSxHQUNYLE9BQU92QixJQUFPdUIsRUFBZSxDQUFFMVcsS0FBTSxPQUFHK0YsRUFBUSxDQUFFN0YsTUFBTyxDQUFFMFYsTUFBTSxhQWpvQjdDLDRCQXNvQlosV0FDUixFQUFLclQsTUFBTXFNLFVBQ1gsRUFBS3pNLFVBQVMsU0FBQ3VVLEdBQ1gsZ0JBQVlBLEdBQVosSUFBMkI5SCxTQUFVLFdBem9CckIsMEJBK29CZCxTQUFDNkgsR0FDWCxFQUFLdFUsVUFBUyxTQUFDdVUsR0FDWCxnQkFBWUEsR0FBWixJQUEyQjlILFNBQVU2SCxVQWpwQmpCLCtCQXNwQlQsU0FBQ0UsR0FDaEIsSUFBTVAsRUFBb0IsTUFBUk8sR0FBNEIsRUFBS3BVLE9BQ25ENlQsRUFBVXhILFNBQVcsR0FDckJ3SCxFQUFVUSxXQUFhLEdBQ3ZCLElBQU1DLEVBQWtCLE1BQVJGLEVBQWFBLEVBQU0zVyxLQUFjLEVBQUt1QyxNQUFNdkMsTUFDdEQ4VyxFQUFVLEdBU2hCLE9BUkF0WCxPQUFPdVMsS0FBSzhFLEdBQVNqUCxTQUFRLFNBQUMxQyxHQUN0QjJSLEVBQVEzUixHQUFLaEYsTUFDYjRXLEVBQVE1UixHQUFSLFNBQW9CMlIsRUFBUTNSLElBQTVCLElBQWtDaEYsT0FBTyxJQUV6QzRXLEVBQVE1UixHQUFPMlIsRUFBUTNSLE1BRy9Ca1IsRUFBVXBXLEtBQU84VyxFQUNWSCxFQUFRUCxFQUFZLFFBcHFCSCxtQ0F3cUJMLFdBQ25CLE9BQUksRUFBSzdULE1BQU1xTSxTQUVQLGtCQUFDLElBQUQsQ0FBU3JMLFdBQVcsT0FBTzZDLEtBQUssU0FDM0IsRUFBSzdELE1BQU1xTSxVQUlqQixRQWhyQmlCLHFDQW1yQkgsV0FDckIsT0FBSSxFQUFLck0sTUFBTXFVLFdBRVAsa0JBQUMsSUFBRCxDQUFTclQsV0FBVyxPQUFPNkMsS0FBSyxXQUMzQixFQUFLN0QsTUFBTXFVLFlBSWpCLFFBM3JCaUIsdUJBK3JCakIsU0FBQ3ZNLEVBQVFqRSxFQUFNMkUsR0FnQ3RCLE9BL0JrQixJQUFJckssU0FBUSxTQUFDNkosR0FDZCxhQUFUbkUsRUFDQW9FLE9BQUEsVUFBb0NDLGVBQXBDLG1CQUFnRUosRUFBaEUsUUFBNkUvQixNQUN6RSxTQUFDb0MsR0FDRyxJQUFNcU0sRUFBT3JNLEVBQVEsUUFDckIsRUFBS3NILEtBQU8sSUFBSStFLEVBQ1poTSxFQUNBLEVBQUtuSixNQUFNckQsWUFDWCxFQUFLZ0UsTUFDTCxFQUFLWCxNQUFNWSxLQUNYLEVBQUt3VSxNQUVUek0sRUFBUXdNLE1BSWhCbk0sUUFDSSxDQUFDLE9BQUQsT0FBUSxFQUFLTixRQUFiLDRCQUF3Q0QsS0FDeEMsU0FBQzBNLEdBQ0csRUFBSy9FLEtBQU8sSUFBSStFLEVBQ1poTSxFQUNBLEVBQUtuSixNQUFNckQsWUFDWCxFQUFLZ0UsTUFDTCxFQUFLWCxNQUFNWSxLQUNYLEVBQUt3VSxNQUVUek0sRUFBUXdNLFlBMXRCQSwrQkF1dUJULFNBQUM1VyxHQUVoQixJQUFLQSxHQUFZQSxHQUFXQSxFQUFRRCxZQUEyQnFPLElBQWpCcE8sRUFBUThXLEtBSWxELE9BSEEsRUFBS2pFLFlDaHlCdUIsa0VEaXlCNUIsRUFBS2lCLFNBQVUsRUFDZixFQUFLQyxZQUFhLEdBQ1gsRUFFWCxJQUFNZ0QsRUFBZ0IvVyxFQUFRb0MsTUFFOUIsSUFBMkIsSUFBdkIsRUFBS2lSLGVBQTBCLEVBQUtDLGNBQWdCeUQsRUFJcEQsT0FIQSxFQUFLbEUsWUN0eUI0QixxRUR1eUJqQyxFQUFLaUIsU0FBVSxFQUNmLEVBQUtDLFlBQWEsR0FDWCxFQUdYLElBQU0rQyxFQUFPRSxtQkFBbUJoWCxFQUFROFcsTUFDbENqWCxFQUFPLENBQ1RuQixPQUFRLE9BQ1JhLElBQUssV0FBRixPQUFhLEVBQUtvUyxTQUFTOVMsVUFBM0IsT0FBc0MsRUFBSzZVLFVBQVV1RCxxQkFDeERDLFdBQVkscUJBQ1pqRSxVQUFXLEVBQUt0QixTQUFTc0IsVUFDekJrRSxjQUFlLEVBQUt4RixTQUFTd0YsY0FDN0JMLE9BQ0FNLGFBQWMsRUFBS3pGLFNBQVN1QixjQUcxQjNVLEVBQU8sSUFBSTRDLGdCQUNqQjlCLE9BQU91UyxLQUFLL1IsR0FBTTRILFNBQVEsU0FBQzFDLEdBQ3ZCeEcsRUFBS3FXLE9BQU83UCxFQUFLbEYsRUFBS2tGLE9BRzFCLElBQU1zUyxFQUFnQixHQUFILE9BQU0sRUFBS2xOLFFBQVgsZ0JBRW5CaE0sYUFBaUIsQ0FDYkUsWUFBYWdaLEVBQ2I5WSxPQUNBRSxjQUFlLENBQUUsZUFBZ0IscUNBQ2pDQyxPQUFRLE9BQ1JDLGFBQWEsSUFFWndKLE1BQUssU0FBQ2pJLEdBQ0gsUUFBNkNrTyxJQUF6Q2xPLEVBQVNMLEtBQUt3SSxNQUFNLEdBQUd5TSxRQUFRL1UsTUFBcUIsQ0FDcEQsSUFBTXVYLEVBQWNwWCxFQUFTTCxLQUFLd0ksTUFBTSxHQUFHeU0sUUFBUXlDLGFBQzdDQyxFQUFjdFgsRUFBU0wsS0FBS3dJLE1BQU0sR0FBR3lNLFFBQVEyQyxhQUM3Q0MsRUFBZXhYLEVBQVNMLEtBQUt3SSxNQUFNLEdBQUd5TSxRQUFRNkMsY0FNcEQsT0FKQSxFQUFLaEcsU0FBUzhGLGFBQWVELEVBQzdCLEVBQUs3RixTQUFTZ0csY0FBZ0JELEVBQzlCLEVBQUsvRixTQUFTNEYsYUFBZUQsRUFDN0IsRUFBS3ZELFlBQWEsR0FDWCxFQUtYLE9BSEEsRUFBS2xCLFlBQVkzUyxFQUFTTCxLQUFLd0ksTUFBTSxHQUFHeU0sUUFBUS9VLE9BQ2hELEVBQUsrVCxTQUFVLEVBQ2YsRUFBS0MsWUFBYSxHQUNYLEtBdEJmLE9Bd0JXLFdBSUgsT0FIQSxFQUFLbEIsWUN6MUJtQixrRUQwMUJ4QixFQUFLaUIsU0FBVSxFQUNmLEVBQUtDLFlBQWEsR0FDWCxRQXR5QlMsa0VBNHlCSixXQUFPNkQsR0FBUCxTQUFBaEUsRUFBQSx5REFFcEJnRSxHQUFTLEdBRWEsSUFBbEIsRUFBSy9ELFNBSlcsMENBS1QsR0FMUyxVQVFOLElBQVYrRCxJQUFlLEVBQUs1RCxTQUFTUSxPQVJiLHVCQVNoQixFQUFLVixTQUFVLEVBVEMsbUJBVVQsR0FWUyx1QkFhZCxFQUFLK0QsTUFBTSxFQUFLdkQsc0JBQXVCc0QsR0FiekIsMkNBNXlCSSwwSEErekJILFdBQU9BLEdBQVAsU0FBQWhFLEVBQUEseURBRXJCZ0UsR0FBUyxHQUVlLElBQXBCLEVBQUs3RCxXQUpZLDBDQUtWLEdBTFUsVUFRUCxLQUFWNkQsRUFSaUIsMENBU1YsR0FUVSx1QkFZZixFQUFLQyxNQUFNLEVBQUtwRCx1QkFBd0JtRCxHQVp6QiwyQ0EvekJHLHlHQWkxQnBCLFdBQU90VCxHQUFQLCtCQUFBc1AsRUFBQSxzRUFDRSxFQUFLa0UsUUFBUSxLQURmLHNCQUFjQyxFQUFkLGlDQUFjQSxFQUFkLG1DQUVHelQsRUFBRSxXQUFGLEVBQU15VCxJQUZULDJDQWoxQm9CLDZFQXkxQmxCLFNBQUNDLEdBQ1AsT0FBTyxJQUFJelgsU0FBUSxTQUFDNkosR0FBRCxPQUFhNk4sV0FBVzdOLEVBQVM0TixTQTExQjVCLGtDQTYxQk4sV0FDbEIsSUFBSTlNLEVBQUssS0F5Q1QsT0F4Q0ksRUFBSzRGLFFBQVUsRUFBS0EsT0FBT3RNLFNBQzNCMEcsRUFBSyxFQUFLNEYsT0FBTzNILEtBQUksU0FBQzRILEdBQVUsTUFDdEJtSCxHQUNGLFVBQUFuSCxFQUFNQyxjQUFOLGVBQWN4TSxTQUNkdU0sRUFBTUMsT0FBTzdILEtBQUksU0FBQzhILEdBQ2QsT0FBTyxFQUFLL0MsU0FBUy9FLEtBQUksU0FBQ3pELEdBQ3RCLEdBQUlBLEVBQUVFLFFBQVVxTCxFQUFXLENBQ3ZCLElBQU1rSCxFQUFXLEVBQUsvVixNQUFNdkMsS0FBSzZGLEVBQUVFLE9BQ25DLE9BQ0ksa0JBQUMsR0FBRCxDQUNJYixJQUFLVyxFQUFFRSxNQUNQd0gsY0FBZSxFQUFLZ0wsbUJBQ3BCNWEsTUFBTzJhLEVBQVMzYSxNQUNoQmdRLFFBQVMySyxFQUFTM0ssUUFDbEJ6TixNQUFPb1ksRUFBU3BZLE1BQ2hCNE0sT0FBUWpILEVBQ1J0SCxZQUFhLEVBQUtxRCxNQUFNckQsWUFDeEJpRSxLQUFNLEVBQUtaLE1BQU1ZLEtBQ2pCa0IsU0FBVTRVLEVBQVM1VSxTQUNuQjhKLGdCQUFpQjhLLEVBQVM5SyxnQkFDMUI3RyxpQkFBa0IyUixFQUFTM1Isa0JBQW9CLE9BSTNELE9BQU8sV0FJbkIsT0FBT3VLLEVBQU1wUixRQUFRMFksYUFDakIsa0JBQUM3SCxHQUFELENBQXlCN04sTUFBT29PLEVBQU16TixPQUNsQyx5QkFBS3pDLFVBQVUsdUJBQXVCcVgsSUFHMUMsb0NBQ0ksa0JBQUN4SCxHQUFELEtBQW1CSyxFQUFNek4sT0FDekIsNkJBQU00VSxRQUtmaE4sS0FwNEJQLEVBQUtvTixNQUFPLEVBQ1osRUFBS2xXLE1BQVEsR0FDYixFQUFLbVcsYUFBZSxHQUNwQixJQUFNM04sRUFBZUMsZUFDckIsRUFBS1YsUUFBVVMsRUFBYUUsS0FBS3JDLEtBQ2pDLEVBQUs1SixTQUNENEMsRUFBTVksT0FBU3BFLE1BQWF3RCxFQUFNWSxPQUFTbkUsS0FBM0MsVUFDUyxFQUFLdUQsTUFBTXJELFlBRHBCLFlBQ21Db2EsbUJBQW1CLEVBQUsvVyxNQUFNd0IsYUFEakUsVUFFUyxFQUFLeEIsTUFBTXJELGFBRXhCLEVBQUt5WSxLQUFPLENBQ1I3VSxTQUFVLFNBQUN5VyxHQUNQLEVBQUs5RCxjQUFnQixJQUFJcFUsU0FBUSxTQUFDNkosR0FDOUIsRUFBS3BJLFVBQVMsU0FBQ3VVLEdBQ1gsT0FBT2tDLEVBQVNsQyxLQUNqQm5NLE9BR1grSCxpQkFBa0IsRUFBS0EsaUJBQ3ZCZ0UsaUJBQWtCLEVBQUtBLGlCQUN2QnRELFlBQWEsRUFBS0EsYUFHdEIsRUFBS3VGLG1CQUFxQixDQUN0QnpTLGFBQWMsRUFBS0EsYUFDbkI0RixtQkFBb0IsRUFBS0EsbUJBQ3pCSCxvQkFBcUIsRUFBS3lMLE1BRzFCcFYsRUFBTXVCLE9BQVMwVixLQUNmOU4sRUFBYStOLE1BQU1DLE9BQU9DLFNBQVNwUixTQUFRLFNBQUNvSixHQUNwQ0EsRUFBUXBJLE9BQVNoSCxFQUFNckQsY0FDdkIsRUFBSzBTLE9BQVNELEVBQVFDLE9BQ3RCLEVBQUs1QyxTQUFXMkMsRUFBUWxFLE9BQ3hCLEVBQUttTSx1QkFBdUJqSSxHQUM1QixFQUFLbFIsUUFBVWtSLEVBQVFsUixRQUNuQmtSLEVBQVFnQixPQUNSLEVBQUt1RSxhQUFlLEVBQUsyQyxTQUNyQmxJLEVBQVFnQixLQUFLN0csSUFDYjZGLEVBQVFnQixLQUFLNUwsS0FDYjJFLElBR0puSixFQUFNWSxPQUFTcEUsTUFBYXdELEVBQU1ZLE9BQVN0RSxPQUMzQyxFQUFLd2EsYUFBZTNILEVBQVFsVSxRQUFRK0UsRUFBTXJELGFBQWFxRCxFQUFNd0IsaUJBS3pFMkgsRUFBYStOLE1BQU1LLGNBQWNDLEtBQUt4UixTQUFRLFNBQUN5UixJQUM5QkEsRUFBSUMsTUFDWEQsRUFBSXpRLE9BQVNoSCxFQUFNckQsWUFDbkI4YSxFQUFJelEsT0FBU2hILEVBQU13QixjQUVyQixFQUFLaUwsU0FBV2dMLEVBQUl2TSxPQUNwQixFQUFLaE4sUUFBVXVaLEVBQUl2WixRQUNmdVosRUFBSXJILE9BQ0osRUFBS3VFLGFBQWUsRUFBSzJDLFNBQ3JCRyxFQUFJckgsS0FBSzdHLElBQ1RrTyxFQUFJckgsS0FBSzVMLEtBQ1QyRSxLQUdKc08sRUFBSUMsT0FBVTFYLEVBQU1ZLE9BQVNwRSxNQUFhd0QsRUFBTVksT0FBU3RFLEtBRWxEMEQsRUFBTVksT0FBU25FLE1BQ3RCLEVBQUtxYSxhQUFlOVcsRUFBTTJYLG9CQUMxQixFQUFLakUsa0JBQW9CK0QsRUFBSXZXLE9BRTdCLEVBQUs0VixhQUFlM0gsRUFBUWxVLFFBQVErRSxFQUFNckQsYUFMMUMsRUFBS21hLGFBQWUzSCxFQUFRbFUsUUFBUStFLEVBQU1yRCxhQUFhcUQsRUFBTXdCLGdCQVU3RSxFQUFLeVMsY0FBZ0IsSUFBSTJELElBQ3pCLEVBQUt2RyxTQUFVLEVBQ2YsRUFBS1YsV0FBWSxFQUNqQixFQUFLRSxRQUFVLEdBQ2YsSUFBTTZGLEVBQVcsR0FDWG5HLEVBQWMsR0FsRkksT0FvRnhCLEVBQUs5RCxTQUFTekcsU0FBUSxTQUFDL0IsR0FDbkIsR0FBZSxVQUFYQSxFQUFFTyxNQUVGLEdBREEsRUFBSzZNLFNBQVUsRUFDWHJSLEVBQU11QixPQUFTc1csTUFBbUMsWUFBdEI3WCxFQUFNckQsWUFBMkIsV0FDdkRtYixFQUFXN1QsU0FBSCxVQUFHQSxFQUFHL0YsZUFBTixhQUFHLEVBQVk0UyxVQU03QixHQUxBLEVBQUthLGtCQUMwQyxLQUFwQzFOLFNBQVAsVUFBT0EsRUFBRy9GLGVBQVYsYUFBTyxFQUFZNloscUJBQ2I5VCxTQUROLFVBQ01BLEVBQUcvRixlQURULGFBQ00sRUFBWTZaLG9CQUNaLEtBRU5ELEVBQVMvVSxPQUFTLEVBQUcsQ0FDckIsRUFBSzROLFdBQVksRUFFakIsSUFBTXFILEVBQWEsR0FDbkJBLEVBQVdqYyxNQUNQaUUsRUFBTVksT0FBU3JFLEtBQWN1YixFQUFTLEdBQUssRUFBS2hCLGFBQWFoRyxVQUNqRWtILEVBQVdqTSxTQUFVLEVBQ3JCaU0sRUFBVzFaLE9BQVEsRUFDbkIwWixFQUFXbFcsVUFBVyxFQUN0QjRVLEVBQVM1RixVQUFZa0gsRUFHckIsSUFBTTlNLEVBQVMsQ0FDZkEsTUFBZSxZQUNmQSxLQUFjLGVBQ2RBLE1BQWUsYUFDVG1JLEVBQVUsQ0FDWjRFLE1BQU8sdUJBQ1BDLE1BQU8sNEJBRVhoTixFQUFPaE4sUUFBVSxHQUNqQmdOLEVBQU9oTixRQUFRdUgsYUFBYyxFQUM3QnlGLEVBQU9oTixRQUFRc0gsbUJBQXFCc1MsRUFBU3BRLEtBQUksU0FBQ2xELEdBQzlDLE1BQU8sQ0FBRTNDLE1BQU93UixFQUFRN08sR0FBT3pJLE1BQU95SSxNQUUxQytMLEVBQVlySyxLQUFLZ0YsUUFFakIsRUFBS29HLGNBQWdCd0csRUFBU3RILFNBQVMsU0F5RDNDLEdBcERBc0gsRUFBUzlSLFNBQVEsU0FBQ3hCLEdBQ2QsSUFBTTJULEVBQWEsR0FDYjVJLEVBQVN0TCxhQUFILEVBQUdBLEVBQUcvRixRQUFRc0csR0FDdEIrSyxJQUVBQSxFQUFPdkosU0FBUSxTQUFDN0IsR0FFWixJQUFNNlQsRUFBYSxHQUVuQixHQUFJaFksRUFBTVksT0FBU3JFLEtBQ2Z5YixFQUFXamMsV0FDd0IsS0FBeEJvSSxhQUFQLEVBQU9BLEVBQU9vRSxjQUNScEUsRUFBTW9FLGFBQ04sU0FDUCxDQUNILElBQU02UCxPQUMwQixLQUFyQmpVLGFBQVAsRUFBT0EsRUFBT00sYUFDUk4sYUFETixFQUNNQSxFQUFPTSxXQUVqQnVULEVBQVdqYyxNQUFRcWMsRUFDYixHQUNBLEVBQUt0QixhQUFhM1MsRUFBTUEsT0FFbEM2VCxFQUFXak0sYUFDdUIsSUFBdkIySyxFQUFTNUYsV0FDVnRNLElBQVNrUyxFQUFTNUYsVUFBVS9VLE1BRXRDaWMsRUFBVzFaLE9BQVEsRUFDbkIwWixFQUFXbFcsVUFBVyxFQUN0QjRVLEVBQVN2UyxFQUFNQSxPQUFTNlQsRUFFeEI3VCxFQUFNaUgsVUFBWSxFQUFLdUYsVUFFdkJ4TSxFQUFNSyxVQUNxQixLQUFoQkwsYUFBUCxFQUFPQSxFQUFPSyxNQUF1QkwsRUFBTUssS0FBTyxPQUdsQyxpQkFBaEJMLEVBQU1BLFFBQ042VCxFQUFXamMsTUFBUXlXLE9BQU82RixTQUFTQyxLQUM5Qm5WLE1BQU0sS0FBSyxHQUNYNE8sUUFDRyxnQkFIVyxVQUlSLEVBQUtySixRQUFRdUYsY0FKTCxjQU1uQitKLEVBQVdsVyxVQUFXLEdBRTFCeU8sRUFBWXJLLEtBQUsvQixHQUNqQmdVLEVBQVdqUyxLQUFLL0IsRUFBTUEsVUFFMUIsRUFBSzBNLFFBQVFyTSxHQUFRMlQsTUFHekJMLEVBQVN0SCxTQUFTLFNBQVUsQ0FDNUIsSUFBTStILEVBQWdCLEdBRXRCQSxFQUFjOUYsV0FBYXhPLEVBQUUvRixRQUFRc2Esa0JBQy9CdlUsRUFBRS9GLFFBQVFzYSxrQkFDVixJQUNORCxFQUFjN0YsWUFBY3pPLEVBQUUvRixRQUFRdWEsbUJBQ2hDeFUsRUFBRS9GLFFBQVF1YSxtQkFDVixJQUNORixFQUFjekYsWUFBYzdPLEVBQUUvRixRQUFRd2EsY0FDaEN6VSxFQUFFL0YsUUFBUXdhLGNBQ1YsSUFDTkgsRUFBY3JHLGlCQUFtQmpPLEVBQUUvRixRQUFReWEsbUJBQ3JDMVUsRUFBRS9GLFFBQVF5YSxtQkFDVixLQUNOSixFQUFjL0Msb0JBQXNCdlIsRUFBRS9GLFFBQVEwYSxzQkFDeEMzVSxFQUFFL0YsUUFBUTBhLHNCQUNWLEtBRU4sRUFBSzNHLFVBQVlzRyxRQUd0QixPQUk2QixFQUgxQlAsRUFBYSxHQUduQixHQUZBL1QsRUFBRVEsZUFBbUMsSUFBaEJSLEVBQUVRLFdBQTRCUixFQUFFUSxVQUVqRHpFLEVBQU1ZLE9BQVNyRSxLQUNmeWIsRUFBV2pjLFdBQ21CLElBQW5Ca0ksRUFBRXNFLGFBQStCdEUsRUFBRXNFLGFBQWUsS0FDN0R5UCxFQUFXak0sYUFDd0IsS0FBeEI5SCxTQUFQLFVBQU9BLEVBQUcvRixlQUFWLGFBQU8sRUFBWTZOLFVBQTBCOUgsRUFBRS9GLFFBQVE2TixRQUMzRGlNLEVBQVcxWixPQUFRLEVBQ25CMFosRUFBV2xXLFVBQVcsRUFDdEI0VSxFQUFTelMsRUFBRUUsT0FBUzZULE9BQ2pCLEdBQUloWSxFQUFNWSxPQUFTcEUsS0FBVyxTQUNqQ3diLEVBQVdqYyxXQUMrQixJQUEvQixFQUFLK2EsYUFBYTdTLEVBQUVFLE9BQ3JCLEVBQUsyUyxhQUFhN1MsRUFBRUUsT0FDcEIsS0FDVjZULEVBQVdqYyxNQUFRa0ksRUFBRVEsVUFBWSxHQUFLdVQsRUFBV2pjLE1BRWpEaWMsRUFBV2pNLGFBQ3dCLEtBQXhCOUgsU0FBUCxVQUFPQSxFQUFHL0YsZUFBVixhQUFPLEVBQVk2TixVQUEwQjlILEVBQUUvRixRQUFRNk4sUUFDM0RpTSxFQUFXMVosT0FBUSxFQUNuQjBaLEVBQVdsVyxVQUFXLEVBQ04sU0FBWm1DLEVBQUVFLE1BQ0Y2VCxFQUFXbFcsVUFBVyxPQUNzQixLQUE5Qm1DLFNBQVAsVUFBT0EsRUFBRy9GLGVBQVYsYUFBTyxFQUFZMmEsaUJBQzFCYixFQUFXbFcsU0FBV21DLEVBQUUvRixRQUFRMmEsZUFFcENuQyxFQUFTelMsRUFBRUUsT0FBUzZULE9BQ2pCLEdBQUloWSxFQUFNWSxPQUFTdEUsS0FBWSxPQUNsQzBiLEVBQVdqYyxNQUNLLFNBQVprSSxFQUFFRSxPQUFvQkYsRUFBRVEsVUFBWSxHQUFLLEVBQUtxUyxhQUFhN1MsRUFBRUUsT0FDakU2VCxFQUFXak0sYUFDd0IsS0FBeEI5SCxTQUFQLFVBQU9BLEVBQUcvRixlQUFWLGFBQU8sRUFBWTZOLFVBQTBCOUgsRUFBRS9GLFFBQVE2TixRQUMzRGlNLEVBQVcxWixPQUFRLEVBQ25CMFosRUFBV2xXLFVBQVcsRUFDdEI0VSxFQUFTelMsRUFBRUUsT0FBUzZULE1BQ2pCLElBQUloWSxFQUFNWSxPQUFTbkUsS0FrQnRCLE1BQU0sSUFBSXFjLE1BQU0saUJBQWtCOVksRUFBTVksTUFsQkwsUUFDbkNxRCxFQUFFc0Usa0JBQXlDLElBQW5CdEUsRUFBRXNFLGFBQStCdEUsRUFBRXNFLGFBQWUsS0FDMUV5UCxFQUFXamMsV0FDK0IsSUFBL0IsRUFBSythLGFBQWE3UyxFQUFFRSxPQUNyQixFQUFLMlMsYUFBYTdTLEVBQUVFLE9BQ3BCRixFQUFFc0UsYUFDWnlQLEVBQVdqYyxNQUFRa0ksRUFBRVEsVUFBWSxHQUFLdVQsRUFBV2pjLE1BQ2pEaWMsRUFBV2pNLGFBQ3dCLEtBQXhCOUgsU0FBUCxVQUFPQSxFQUFHL0YsZUFBVixhQUFPLEVBQVk2TixVQUEwQjlILEVBQUUvRixRQUFRNk4sUUFDM0RpTSxFQUFXMVosT0FBUSxFQUNuQjBaLEVBQVdsVyxVQUFXLEVBQ04sU0FBWm1DLEVBQUVFLE1BQ0Y2VCxFQUFXbFcsVUFBVyxPQUNzQixLQUE5Qm1DLFNBQVAsVUFBT0EsRUFBRy9GLGVBQVYsYUFBTyxFQUFZMmEsaUJBQzFCYixFQUFXbFcsU0FBV21DLEVBQUUvRixRQUFRMmEsZUFFcENuQyxFQUFTelMsRUFBRUUsT0FBUzZULEVBTXhCLElBQU16SSxFQUFNLFVBQUd0TCxFQUFFL0YsZUFBTCxhQUFHLEVBQVdpSCxhQUN0Qm9LLEdBQ0FBLEVBQU92SixTQUFRLFNBQUM3QixHQUNaLElBQU00VSxFQUFlLEVBQUs5RSxjQUFjRSxJQUFJaFEsR0FDeEM0VSxFQUNBQSxFQUFhOVUsRUFBRUUsT0FBU29MLEVBRXhCLEVBQUswRSxjQUFjNVQsSUFBSThELEVBQXZCLE9BQ0tGLEVBQUVFLE1BQVFvTCxPQUszQmdCLEVBQVlySyxLQUFLakMsT0FJekIsRUFBS3dJLFNBQVc4RCxFQUVoQixFQUFLNVAsTUFBUSxDQUNUdkMsS0FBTXNZLEVBQ04xSixTQUFVLEdBQ1ZnSSxXQUFZLElBSVosRUFBS0wsY0FDTCxFQUFLQSxhQUFhak8sTUFBSyxXQUNuQixHQUFrQyxtQkFBdkIsRUFBSzBKLEtBQUs0SSxTQUNqQixJQUNJLEVBQUs1SSxLQUFLNEksV0FDWixNQUFPckYsR0FFTHNGLFFBQVEzYSxNQUFNcVYsT0FwU04sRSxrQ0EwNEI1QixXQUFTLFdBZ0NMLE9BOUJJM1MsS0FBSzZWLE9BQ0Q3VixLQUFLMlQsY0FDTDNULEtBQUsyVCxhQUFhak8sTUFBSyxXQUNuQixHQUFrQyxtQkFBdkIsRUFBSzBKLEtBQUs4SSxTQUNqQixJQUNJLEVBQUs5SSxLQUFLOEksV0FDWixNQUFPdkYsR0FFTHNGLFFBQVEzYSxNQUFNcVYsT0FNMUIzUyxLQUFLaEIsTUFBTVksT0FBU3BFLE1BQ2hCd0UsS0FBSzJULGNBQ0wzVCxLQUFLMlQsYUFBYWpPLE1BQUssV0FDbkIsR0FBb0MsbUJBQXpCLEVBQUswSixLQUFLK0ksV0FDakIsSUFDSSxFQUFLL0ksS0FBSytJLGFBQ1osTUFBT3hGLEdBRUxzRixRQUFRM2EsTUFBTXFWLE9BTWxDM1MsS0FBSzZWLE1BQU8sR0FHWiw2QkFDSSwwQkFBTTVNLE1BQU9qSixLQUFLaEIsTUFBTVksT0FBU25FLEtBQWMsQ0FBRTJjLFVBQVcsUUFBVyxJQUNsRXBZLEtBQUtxWSx5QkFDTHJZLEtBQUtzWSx1QkFDTHRZLEtBQUt1WSxzQkFDTHZZLEtBQUt5TCxTQUFTL0UsS0FBSSxTQUFDekQsR0FFaEIsR0FBSUEsRUFBRThMLFdBQ0YsT0FBTyxLQUVYLElBQU0yRyxFQUFXLEVBQUsvVixNQUFNdkMsS0FBSzZGLEVBQUVFLE9BVW5DLE9BUkl1UyxFQUFTclMsY0FFVEosRUFBSSxTQUNHQSxHQUROLElBRUcvRixRQUFTLFNBQUsrRixFQUFFL0YsU0FBVCxJQUFrQm1HLFlBQWFxUyxFQUFTclMsaUJBS25ELGtCQUFDLEdBQUQsQ0FDSWYsSUFBS1csRUFBRUUsTUFDUHdILGNBQWUsRUFBS2dMLG1CQUNwQjVhLE1BQU8yYSxFQUFTM2EsTUFDaEJnUSxRQUFTMkssRUFBUzNLLFFBQ2xCek4sTUFBT29ZLEVBQVNwWSxNQUNoQjRNLE9BQVFqSCxFQUNSdEgsWUFBYSxFQUFLcUQsTUFBTXJELFlBQ3hCaUUsS0FBTSxFQUFLWixNQUFNWSxLQUNqQmtCLFNBQVU0VSxFQUFTNVUsU0FDbkI4SixnQkFBaUI4SyxFQUFTOUssZ0JBQzFCN0csaUJBQWtCMlIsRUFBUzNSLGtCQUFvQixnQixHQTk4QnBEaUgsaUIsSUFBckJrRCxHLGNBQ21CblUsTUF1OUJ6Qm1VLEdBQWFsVCxVQUFZLENBQ3JCdUYsS0FBTXRGLElBQVUrRixPQUNoQnJGLFlBQWFWLElBQVUrRixPQUN2QlIsV0FBWXZGLElBQVUrRixPQUN0QjJWLG9CQUFxQjFiLElBQVU0SCxPQUMvQmpELEtBQU0zRSxJQUFVK0YsT0FDaEJQLGlCQUFrQnhGLElBQVVpRyxNQUdqQmdOLFEsaUNFdGhDZixvRUFBTyxJQUFNc0ssRUFBYSxPQUNiQyxFQUFjLFMsbXpCQ01yQkMsRSxnQ0FDRixXQUFZMVosR0FBTyx5QkFDZixjQUFNQSxHQURTLGdDQWtDQyxXQUNoQixPQUFPLElBQUlsQixTQUFRLFNBQUM2SixHQUNoQixHQUF3QixhQUFwQixFQUFLM0ksTUFBTXdFLEtBQ1hvRSxPQUFBLFVBQ2lDQyxjQURqQyxtQkFFUSxFQUFLN0ksTUFBTTJaLFNBRm5CLFFBSUVqVCxNQUFLLFNBQUNvQyxHQUNKLElBQU1DLEVBQVVELEVBQVEsUUFDeEJILEVBQVFJLFVBRVQsQ0FDSCxJQUNNTCxFQURlVSxjQUNRQyxLQUFLckMsS0FDbENnQyxRQUNJLENBQUMsT0FBRCxPQUFRTixFQUFSLDRCQUFtQyxFQUFLMUksTUFBTTJaLFlBQzlDLFNBQUM1USxHQUFELE9BQWFKLEVBQVFJLGFBaERqQyxFQUFLcEksTUFBUSxDQUNUeUYsU0FBUyxHQUViLEVBQUs4QyxjQUFlLEVBTEwsRSw2Q0FRbkIsV0FBb0IsV0FDVkMsRUFBZUMsY0FDckJwSSxLQUFLVCxTQUFTLENBQUU2RixTQUFTLElBQ3pCcEYsS0FBS3NJLG9CQUFvQjVDLE1BQUssU0FBQ3FDLEdBQzNCLEVBQUtTLGNBQWdCLElBQUlULEVBQ3JCSSxFQUNBLEVBQUtuSixNQUFNckQsWUFDWCxFQUFLOE0sR0FDTCxFQUFLekosTUFBTTRaLElBQ1gsRUFBSzVaLE1BQU1tRSxPQUVmLEVBQUs1RCxTQUFTLENBQUU2RixTQUFTLFMsbUNBSWpDLFNBQXNCMkQsRUFBV0MsR0FDN0IsT0FBSWhKLEtBQUtoQixNQUFNNFosTUFBUTdQLEVBQVU2UCxPQUc1QjVQLEVBQVU1RCxVQUFXcEYsS0FBS2tJLGdCQUMzQmxJLEtBQUtrSSxjQUFlLEdBQ2IsSyxvQkEyQmYsV0FBUyxXQUNMLElBQUtsSSxLQUFLTCxNQUFNeUYsUUFDWixJQUNJcEYsS0FBS3dJLGNBQWNJLE9BQU81SSxLQUFLaEIsTUFBTTRaLElBQUs1WSxLQUFLaEIsTUFBTW1FLE9BQ3ZELE1BQU93UCxHQUVMc0YsUUFBUTNhLE1BQU1xVixHQUd0QixPQUNJLG9DQUNLM1MsS0FBS0wsTUFBTXlGLFNBQVd0RixZQUFFLGNBRXJCLDBCQUNJUSxJQUFLLFNBQUNtSSxHQUNGLEVBQUtBLEdBQUtBLEdBRWRRLE1BQU8sQ0FBRUMsV0FBWWxKLEtBQUtMLE1BQU15RixRQUFVLFNBQVcsa0IsR0ExRTVDckUsYUFrRmpDMlgsRUFBbUIxZCxVQUFZLENBQzNCVyxZQUFhVixJQUFVK0YsT0FBTzNGLFdBQzlCdWQsSUFBSzNkLElBQVU0SCxPQUFPeEgsV0FDdEI4SCxNQUFPbEksSUFBVStGLE9BQ2pCMlgsU0FBVTFkLElBQVUrRixPQUFPM0YsV0FDM0JtSSxLQUFNdkksSUFBVStGLFFBR0wwWCxJLEVBQUFBLElDeEZURyxFQUFtQjVhLGtCQUFPNmEsSUFBTUMsS0FBYjlhLENBQUgsMkNBMEJmLFNBQVMrYSxFQUFnQkMsRUFBU0wsRUFBS00sR0FBVSxJQUM1Q0MsRUFBYy9RLGNBQW9COE4sTUFBTUMsT0FBT08sTUFBL0N5QyxVQUVSLE9BQ0ksa0JBQUMsSUFBTUMsSUFBUCxDQUFXOVcsSUFBRyxVQUFLc1csRUFBSXRHLEdBQVQsZUFDVixrQkFBQ3VHLEVBQUQsQ0FBa0JJLFFBQVNBLEdBQ3RCRSxHQUFhQSxFQUFVNVEsSUFDcEIsb0NBQ0s5SSxJQUFNb0wsY0FBYzZOLEVBQW9CLENBQ3JDL2MsWUFBYWlkLEVBQUlqZCxZQUNqQmlkLE1BQ0FELFNBQVVRLEVBQVU1USxPQUk1QixrQkFBQyxJQUFELENBQUk4USxVQUFXLEtBckNuQyxTQUE2QlQsRUFBS00sR0FDOUIsSUFBTUksRUFBa0IsR0FrQnhCLE9BaEJJSixXQUFVblgsUUFDVm1YLEVBQVNsVSxTQUFRLFNBQUMySCxHQUNkLElBQU05TCxFQUFRZixZQUFFNk0sRUFBSTlMLE9BRWhCOEwsRUFBSXhKLFNBQVN5VixHQUEwQixLQUFuQkEsRUFBSWpNLEVBQUl4SixTQUM1Qm1XLEVBQWdCcFUsS0FBSyxrQkFBQyxJQUFHcVUsS0FBSixDQUFTalgsSUFBS3FLLEVBQUl4SixPQUFRdEMsSUFDL0N5WSxFQUFnQnBVLEtBQ1osa0JBQUMsSUFBR3NVLFlBQUosQ0FBZ0JsWCxJQUFHLFVBQUtxSyxFQUFJeEosTUFBVCxVQUNkd0osRUFBSTNLLFNBQVcySyxFQUFJM0ssUUFBUTRXLEVBQUlqTSxFQUFJeEosUUFDOUJ3SixFQUFJM0ssUUFBUTRXLEVBQUlqTSxFQUFJeEosUUFDcEI0RyxPQUFPNk8sRUFBSWpNLEVBQUl4SixjQU1sQ21XLEVBa0I4QkcsQ0FBb0JiLEVBQUtNLE0saUtDakM1REwsR0FBbUI1YSxrQkFBTzZhLElBQU1DLEtBQWI5YSxDQUFILHVDQUloQnliLEdBQWdCemIsVUFBT0MsSUFBVix5SEFTbkIsU0FBU3liLEdBQWUzYSxHQUFPLElBRXZCNFosRUFPQTVaLEVBUEE0WixJQUNBZ0IsRUFNQTVhLEVBTkE0YSxRQUNBQyxFQUtBN2EsRUFMQTZhLGNBQ0FDLEVBSUE5YSxFQUpBOGEsd0JBQ0FDLEVBR0EvYSxFQUhBK2Esc0JBQ0FDLEVBRUFoYixFQUZBZ2IsdUJBQ0FDLEVBQ0FqYixFQURBaWIsd0JBYUVDLEVBQTBCQyx1QkFDNUIsU0FBQ0MsR0FDRyxPQUNJLGtCQUFDLEdBQUQsQ0FBa0JDLGNBQVksVUFBVS9YLElBQUs4WCxFQUFZOUgsSUFDckQsa0JBQUMsS0FBRCxLQUNJLGtCQUFDLEtBQUQsQ0FBU0QsUUFBU3ZTLFlBQUUsU0FDaEIsa0JBQUMsSUFBRCxDQUNJYSxXQUFXLE9BQ1h3RixLQUFNLGtCQUFDLEtBQUQsQ0FBUW1VLGlCQUFrQixLQUFNQyxLQUFNLElBQzVDM1osUUFBUyxrQkFBTW1aLEVBQXNCSyxJQUNyQ2hjLFVBQVUsYUFHbEIsa0JBQUMsS0FBRCxDQUFTaVUsUUFBU3ZTLFlBQUUsVUFDaEIsa0JBQUMsSUFBRCxDQUNJYSxXQUFXLE9BQ1h3RixLQUFNLGtCQUFDLEtBQUQsQ0FBT21VLGlCQUFrQixLQUFNQyxLQUFNLElBQzNDM1osUUFBUyxrQkFBTW9aLEVBQXVCSSxJQUN0Q2hjLFVBQVUsY0FHbEIsa0JBQUMsS0FBRCxDQUFTaVUsUUFBU3ZTLFlBQUUsV0FDaEIsa0JBQUMsSUFBRCxDQUNJYSxXQUFXLGNBQ1h3RixLQUFNLGtCQUFDLEtBQUQsQ0FBT21VLGlCQUFrQixLQUFNQyxLQUFNLElBQzNDM1osUUFBUyxrQkFBTXFaLEVBQXdCRyxJQUN2Q2hjLFVBQVUsbUJBT2xDLENBQUMyYixFQUF1QkMsRUFBd0JDLElBR2hETyxFQUFnQixVQVlwQixPQVZJNUIsRUFBSTZCLG9CQUNKRCxFQUFnQixrQkFBQyxLQUFELE1BQ1Q1QixFQUFJOVgsV0FDWDBaLEVBQ0lYLFdBQWUvWSxVQUFZK1ksRUFBYy9ZLFNBQVM4WCxFQUFJOVgsVUFDaEQrWSxFQUFjL1ksU0FBUzhYLEVBQUk5WCxVQUMzQixZQUtWLG9DQUNJLGtCQUFDLElBQU1zWSxJQUFQLEtBQ0k5VyxJQUFLc1csRUFBSXRHLElBQ0x0VCxHQUVINGEsR0FDR0EsRUFBUTdYLFFBQ1I2WCxFQUFRbFQsS0FBSSxTQUFDZ1UsR0FDVCxJQUFJQyxFQUFXLEdBRWYsR0FBSUQsRUFBT0UsWUFBY0YsRUFBT0UsV0FBV3JTLElBQ3ZDb1MsRUFDSSxrQkFBQyxJQUFNNUIsS0FBUCxDQUFZc0IsY0FBYUssRUFBT3ZYLE1BQU9iLElBQUtvWSxFQUFPdlgsT0F2RXpELFNBQUNnVyxFQUFXdUIsR0FDOUIsT0FBT2piLElBQU1vTCxjQUFjNk4sRUFBb0IsQ0FDM0MvYyxZQUFhaWQsRUFBSWpkLFlBQ2pCd0gsTUFBT3VYLEVBQU92WCxNQUNkeVYsSUFBS08sRUFDTFIsU0FBVStCLEVBQU9FLFdBQVdyUyxJQUM1Qi9FLEtBQU1rWCxFQUFPRSxXQUFXcFgsT0FrRUNxWCxDQUFjakMsRUFBSzhCLFNBR3pCLEdBQXFCLGFBQWpCQSxFQUFPdlgsTUFBc0IsU0FDcEN3WCxFQUNJLGtCQUFDLElBQU01QixLQUFQLENBQVlzQixjQUFhSyxFQUFPdlgsTUFBT2IsSUFBS29ZLEVBQU92WCxPQUMvQyxrQkFBQ3VXLEdBQUQsS0FDSSxrQkFBQyxLQUFELENBQ0lwWCxJQUFLc1csRUFBSTVTLEtBQ1RqTCxNQUFPNmQsRUFBSTlYLFNBQ1hGLFFBQVMsa0JBQU1rWixFQUF3QmxCLElBQ3ZDMVIsVUFBVzBSLEVBQUk5WCxTQUVmQSxTQUFVOFgsRUFBSTZCLG9CQUNkOVosV0FBVyxTQUNYdkMsVUFBVSxnQkFDVjBjLGNBQWVoYixZQUNYK1osU0FBQSxVQUFBQSxFQUFlL1ksZ0JBQWYsZUFDTStZLEVBQWMvWSxTQUFkLE1BQ0EsV0FFVmlhLGdCQUFpQmpiLFlBQ2IrWixTQUFBLFVBQUFBLEVBQWUvWSxnQkFBZixjQUNNK1ksRUFBYy9ZLFNBQWQsS0FDQSxjQUdkLDBCQUFNUyxZQUFVLFVBQVVpWixVQUt0Q0csRUFEd0IsWUFBakJELEVBQU92WCxNQUNIK1csRUFBd0J0QixHQUcvQixrQkFBQyxJQUFNRyxLQUFQLENBQVlzQixjQUFhSyxFQUFPdlgsTUFBT2IsSUFBS29ZLEVBQU92WCxPQUM5QzBXLEVBQWNhLEVBQU92WCxRQUN0QnZHLE9BQU95TixVQUFVQyxlQUFlQyxLQUM1QnNQLEVBQWNhLEVBQU92WCxPQUNyQnlWLEVBQUk4QixFQUFPdlgsUUFFVDBXLEVBQWNhLEVBQU92WCxPQUFPeVYsRUFBSThCLEVBQU92WCxRQUN2Q3lWLEVBQUk4QixFQUFPdlgsUUFJN0IsT0FBT3dYLE9BTy9CaEIsR0FBZTNlLFVBQVksQ0FDdkI0ZCxJQUFLM2QsSUFBVWdRLElBQ2YyTyxRQUFTM2UsSUFBVTJHLE1BQ25CaVksY0FBZTVlLElBQVU0SCxPQUN6QmlYLHdCQUF5QjdlLElBQVVpRyxLQUNuQzZZLHNCQUF1QjllLElBQVVpRyxLQUNqQzhZLHVCQUF3Qi9lLElBQVVpRyxLQUNsQytZLHdCQUF5QmhmLElBQVVpRyxNQUd4QnpCLEksR0FBQUEsT0FBTWdELEtBQUtrWCxJLDJrQ0NoSzFCLElBQU05YSxHQUFlWixrQkFBT2EsS0FBUGIsQ0FBSCx5Q0FJWitjLEcsaUNBR0YsV0FBWWhjLEdBQU8seUJBQ2YsY0FBTUEsR0FEUyxpQ0FLRSxXQUdqQixFQUFLVyxNQUFNc2IsU0FBVyxHQUN0QixFQUFLamMsTUFBTUMsd0JBVEksMkJBWUosV0FDWCxFQUFLTSxVQUNELFNBQUMyYixHQUNHLGdCQUFZQSxHQUFaLElBQXVCQyxZQUFZLEVBQU1GLFNBQVUsUUFFdkQsV0FDSXZmLFlBQWlCLENBQ2JDLFlBQWEsR0FBRixPQUFLLEVBQUtxRCxNQUFNckQsWUFBaEIsWUFBK0JvYSxtQkFDdEMsRUFBSy9XLE1BQU13QixhQUVmeEUsY0FBZSxDQUFFLGVBQWdCLHFDQUNqQ0MsT0FBUSxTQUNSQyxhQUFhLElBTmpCLE9BUVcsU0FBQ3lXLEdBQ0osSUFBTUMsRUFBaUJDLGFBQWNGLEdBRXJDLE9BREEsRUFBS3BULFNBQVMsQ0FBRTBiLFNBQVVySSxFQUFnQnVJLFlBQVksSUFDL0NyZCxRQUFRQyxPQUFPNFUsTUFFekJqTixNQUFLLFdBQ0YsRUFBS3lJLFFBQVFqVSxXQUNUcVksSUFBTyxFQUFLcEUsUUFBUWxVLFFBQWQsT0FDRCxFQUFLK0UsTUFBTXJELFlBQWMsQ0FBRXlmLE9BQVEsQ0FBQyxFQUFLcGMsTUFBTXdCLGdCQUd4RCxFQUFLakIsU0FBUyxDQUFFNGIsWUFBWSxJQUM1QixFQUFLbGMscUJBQ0xwQixZQUFjLFlBQUQsT0FBYSxFQUFLbUIsTUFBTXdCLFdBQXhCLEtBQXVDLG9CQXZDckQsbUNBOENJLFdBQ25CLE9BQUksRUFBS2IsTUFBTXNiLFNBRVAsNkJBQ0ksa0JBQUMsS0FBRCxDQUFTdGEsV0FBVyxPQUFPNkMsS0FBSyxTQUMzQixFQUFLN0QsTUFBTXNiLFdBS3JCLFFBdERQLEVBQUt0YixNQUFRLENBQUV3YixZQUFZLEVBQU9GLFNBQVUsSUFGN0IsRSxrQ0EyRG5CLFdBQ0ksSUFBSUksRUFNSixPQUpJQSxFQURBcmIsS0FBS2hCLE1BQU11QixPQUFTMFYsSUFDUnRQLGFBQW9CLElBQUssQ0FBQzNHLEtBQUtoQixNQUFNd0IsYUFFckNtRyxhQUFvQixJQUFLLENBQUMzRyxLQUFLaEIsTUFBTXdCLGFBR2pELGtCQUFDM0IsR0FBRCxDQUFja0IsS0FBTUMsS0FBS2hCLE1BQU1lLE1BQzNCLGtCQUFDLEtBQU1FLE9BQVAsQ0FDSUMsTUFBT3lHLGFBQW9CLEtBQzNCdkcsZUFBZ0JKLEtBQUtmLHFCQUV6QixrQkFBQyxLQUFNb0IsS0FBUCxDQUFZakMsVUFBVSxnQkFDakI0QixLQUFLc1ksdUJBQ04sMkJBQUkrQyxJQUVSLGtCQUFDLEtBQU0zYSxPQUFQLEtBQ0ksa0JBQUMsS0FBRCxDQUNJQyxXQUFXLFlBQ1hDLFFBQVNaLEtBQUtmLG1CQUNkNEIsTUFBT2YsWUFBRSxVQUNUZ0IsU0FBVWQsS0FBS0wsTUFBTXdiLGFBRXpCLGtCQUFDLEtBQUQsQ0FDSXhhLFdBQVcsVUFDWEUsTUFBT2IsS0FBS0wsTUFBTXdiLFdBQWEsa0JBQUMsS0FBRCxNQUFrQnJiLFlBQUUsVUFDbkRjLFFBQVNaLEtBQUtzYixhQUNkeGEsU0FBVWQsS0FBS0wsTUFBTXdiLG1CLEdBMUZuQnBhLGEsSUFBcEJpYSxHLGNBQ21CamhCLE1BaUd6QmloQixHQUFZaGdCLFVBQVksQ0FDcEJ1RixLQUFNdEYsSUFBVStGLE9BQU8zRixXQUN2QjBFLEtBQU05RSxJQUFVZ0csS0FDaEJoQyxtQkFBb0JoRSxJQUFVaUcsS0FDOUJ2RixZQUFhVixJQUFVK0YsT0FDdkJSLFdBQVl2RixJQUFVK0YsUUFHWGdhLFUscWtCQzVHZixTQUFTTyxHQUFULEdBU0csSUFSQ2hiLEVBUUQsRUFSQ0EsS0FDQTVFLEVBT0QsRUFQQ0EsWUFDQXlCLEVBTUQsRUFOQ0EsS0FDQTBjLEVBS0QsRUFMQ0Esd0JBQ0EwQixFQUlELEVBSkNBLDBCQUNBQyxFQUdELEVBSENBLFdBQ0FDLEVBRUQsRUFGQ0EsUUFDQUMsRUFDRCxFQURDQSxRQUVNQyxFQUFpQnhULGNBRHhCLEVBRXVDL04sbUJBQVMsQ0FBRTBGLE1BQU0sSUFGeEQsV0FFUThiLEVBRlIsS0FFcUJDLEVBRnJCLE9BR3VDemhCLG1CQUFTLENBQUUwRixNQUFNLElBSHhELFdBR1FnYyxFQUhSLEtBR3FCQyxFQUhyQixLQUtTL2hCLEVBQVlnaUIscUJBQVdsaUIsTUFBdkJFLFFBRUZpaUIsRUFDRjNiLElBQVMwVixJQUNIMkYsRUFBZTFGLE1BQU1DLE9BQU9PLE1BQzVCa0YsRUFBZTFGLE1BQU1LLGNBQWNDLEtBQUt0USxRQUFPLFNBQUMwTixHQUFELE9BQU9BLEVBQUU1TixPQUFTckssS0FBYSxHQUN6RSthLE1BQ1B3QyxFQUFxQmdELEVBQXJCaEQsU0FBVXdCLEVBQVd3QixFQUFYeEIsT0FDWi9kLEVBQVV1ZixFQUFZeEIsT0FFdEJiLEVBQWdCLEdBQ3RCYSxFQUFPMVYsU0FBUSxTQUFDNE8sR0FDWmlHLEVBQWNqRyxFQUFFelEsT0FBU3lRLEVBQUU1UixXQUcvQixJQUFNbWEsRUFBb0IsR0FDdEI1YixJQUFTMFYsS0FDVDJGLEVBQWUxRixNQUFNQyxPQUFPQyxTQUFTcFIsU0FBUSxTQUFDNE8sR0FDMUN1SSxFQUFrQnZJLEVBQUU1TixNQUFRNE4sRUFBRTNLLFFBQVV1UCxJQUFhQSxJQUFhQyxPQUkxRSxJQUFNMkQsRUFBUTNkLGNBSWQ4RyxxQkFBVSxXQUVOLEdBQUk2VyxJQUFVQSxFQUFNakosSUFBSSxTQUFXeFgsUUFBc0MsSUFBaEJBLEdBRXJELEdBQUl5Z0IsRUFBTWpKLElBQUksWUFBYzBJLEVBQVk5YixLQUFNLENBQzFDLElBQU1zYyxFQUFhemYsT0FBT3VTLEtBQUtsVixHQUFTNFIsTUFDcEMsU0FBQytILEdBQUQsWUFBa0QsSUFBcEMzWixFQUFRMlosR0FBR3dJLEVBQU1qSixJQUFJLGNBRXZDLEdBQUlrSixFQUFZLENBQ1osSUFBTXpELEVBQU0zZSxFQUFRb2lCLEdBQVlELEVBQU1qSixJQUFJLFdBQzFDMkksRUFBZSxTQUNSRCxHQURPLElBRVY5YixNQUFNLEVBQ05wRSxZQUFhaWQsRUFBSWpkLFlBQ2pCNkUsV0FBWW9ZLEVBQUk1UyxLQUNoQnBHLEtBQU1wRSxhQUdONGdCLEVBQU1qSixJQUFJLFdBQWEwSSxFQUFZOWIsTUFJM0MrYixFQUFlLFNBQUtELEdBQU4sSUFBbUI5YixNQUFNLE9BSWhELElBRUgsSUFnR1V1YyxFQWhHSkMsRUFBb0IsV0FDdEJULEVBQWUsU0FBS0QsR0FBTixJQUFtQjliLE1BQU0sTUFHckNnYSxFQUF3QkksdUJBQzFCLFNBQUNDLEdBQ3NELFNBQS9DK0IsRUFBa0IvQixFQUFZemUsYUFDOUI2ZixFQUEwQnBCLEVBQWE1ZSxLQUV2Q3NnQixFQUFlLFNBQ1JELEdBRE8sSUFFVjliLE1BQU0sRUFDTnBFLFlBQWF5ZSxFQUFZemUsWUFDekI2RSxXQUFZNFosRUFBWXBVLEtBQ3hCcEcsS0FBTXBFLFNBS2xCLENBQUNxZ0IsSUFHQ1csRUFBb0IsV0FDdEJSLEVBQWUsU0FBS0QsR0FBTixJQUFtQmhjLE1BQU0sTUFHckNpYSxFQUF5QkcsdUJBQzNCLFNBQUNDLEdBQ3NELFNBQS9DK0IsRUFBa0IvQixFQUFZemUsYUFDOUI2ZixFQUEwQnBCLEVBQWE5ZSxLQUV2Q3dnQixFQUFlLFNBQ1JELEdBRE8sSUFFVjliLE1BQU0sRUFDTnBFLFlBQWF5ZSxFQUFZemUsWUFDekI2RSxXQUFZNFosRUFBWXBVLEtBQ3hCcEcsS0FBTXRFLFNBS2xCLENBQUN1Z0IsSUFHQzVCLEVBQTBCRSx1QkFDNUIsU0FBQ0MsR0FDRzRCLEVBQWUsU0FDUkQsR0FETyxJQUVWaGMsTUFBTSxFQUNOUyxXQUFZNFosRUFBWXBVLEtBQ3hCckssWUFBYXllLEVBQVl6ZSxpQkFHakMsQ0FBQ29nQixJQXdEQ25DLEdBYkkwQyxFQUFTLEdBQ1gzZixHQUFXQSxFQUFRb0YsUUFDbkJwRixFQUFRcUksU0FBUSxTQUFDQyxHQUNicVgsRUFBT3BYLEtBQVAsU0FDT0QsR0FEUCxJQUVJMFcsUUFBUzFXLEVBQUs5QixPQUFTLFdBSW5DbVosRUFBT3BYLEtBQUssQ0FBRXJFLE1BQU8sVUFBV3NDLE1BQU8sVUFBV3dZLFFBQVMsS0FDcERXLEdBS0xHLEVBQXFCdEMsdUJBQVksV0FDbkMsT0FDSSxrQkFBQyxJQUFNdUMsS0FBUCxLQUNLOUMsR0FDR0EsRUFBUTdYLFFBQ1I2WCxFQUFRbFQsS0FBSSxTQUFDaVcsR0FBRCxPQUNSLGtCQUFDLElBQU1DLFNBQVAsQ0FDSXRhLElBQUtxYSxFQUFTeFosTUFDZDBaLE9BQVFGLEVBQVNoQixRQUFVRixFQUFhLEtBQ3hDRSxRQUFTZ0IsRUFBU2hCLFFBQVVnQixFQUFTaEIsUUFBVSxLQUMvQ0QsUUFDSWlCLEVBQVNoQixTQUFXZ0IsRUFBU2hCLFVBQVlBLEVBQVVELEVBQVUsUUFHaEVpQixFQUFTOWIsYUFLL0IsQ0FBQytZLEVBQVM2QixFQUFZQyxFQUFTQyxJQW9DbEMsT0FDSSxvQ0FDSy9CLEdBQVdBLEVBQVE3WCxRQUNoQixrQkFBQyxJQUFELEtBQ0krYSxZQUFVLEdBQ0w1RCxFQUFXLENBQUU2RCxhQUFjLFVBQWEsSUFFNUNOLElBdkNULGtCQUFDLElBQU1wYyxLQUFQLEtBQ0tqRCxHQUNHQSxFQUFLMkUsUUFDTDNFLEVBQUtzSixLQUFJLFNBQUNrUyxHQUNOLE9BQ0ksa0JBQUMsR0FBRCxLQUNJdFcsSUFBS3NXLEVBQUl0RyxHQUNUc0csSUFBS0EsRUFDTGdCLFFBQVNBLEVBQ1RDLGNBQWVBLEVBRVhFLHdCQUNBQyx5QkFDQUMsMEJBRUpILHdCQUF5QkEsR0FDcEJaLEVBQ0MsQ0FDSThELGFBQWNoRSxFQUNWWSxFQUFRN1gsT0FDUjZXLEVBQ0FNLElBR1IsVUFtQnhCOWIsRUFBSzJFLE9BQXlELEtBQWhELGtCQUFDLElBQUQseUJBekhJLFdBQ3hCLEdBQUk4WixFQUFZOWIsS0FBTSxDQUNsQixJQUFJYyxFQUNtQixJQUdoQixJQUhQLEdBQWEsV0FBVE4sRUFFQU0sRUFBSyxXQUZjLFVBQ0UrYSxFQUFlMUYsYUFEakIsYUFDRSxFQUFzQkMsUUFBbkNDLFNBQ1N2SyxNQUFLLFNBQUMrSCxHQUFELE9BQU9BLEVBQUU1TixPQUFTNlYsRUFBWWxnQixzQkFBL0MsYUFBRyxFQUEwRHVFLFdBR2xFVyxFQUFLLFdBRkYsVUFDYythLEVBQWUxRixhQUQ3QixhQUNjLEVBQXNCSyxlQUEvQkMsS0FDSzNLLE1BQUssU0FBQytILEdBQUQsT0FBT0EsRUFBRTVOLE9BQVM2VixFQUFZbGdCLHNCQUEzQyxhQUFHLEVBQXNEdUUsTUFFbEUsT0FDSSxrQkFBQ25CLEdBQUEsRUFBRCxDQUNJd0IsS0FBTUEsRUFDTlIsS0FBTThiLEVBQVk5YixLQUNsQmQsbUJBQW9Cc2QsRUFDcEI1Z0IsWUFBYWtnQixFQUFZbGdCLFlBQ3pCNkUsV0FBWXFiLEVBQVlyYixXQUN4QlosS0FBTWljLEVBQVlqYyxLQUNsQk8sVUFDSTBiLEVBQVlqYyxPQUFTdEUsSUFBYXdFLFlBQUUsVUFBWWUsRUFBUWYsWUFBRSxXQUFhZSxJQUt2RixPQUFPLEtBa0dGb2MsR0E3RkQsa0JBQUMsR0FBRCxDQUNJMWMsS0FBTUEsRUFDTlIsS0FBTWdjLEVBQVloYyxLQUNsQmQsbUJBQW9CdWQsRUFDcEI3Z0IsWUFBYW9nQixFQUFZcGdCLFlBQ3pCNkUsV0FBWXViLEVBQVl2YixjQThGeEMrYSxHQUFZdmdCLFVBQVksQ0FDcEJ1RixLQUFNdEYsSUFBVStGLE9BQU8zRixXQUN2Qk0sWUFBYVYsSUFBVStGLE9BQ3ZCNUQsS0FBTW5DLElBQVUyRyxNQUFNdkcsV0FDdEJ5ZSx3QkFBeUI3ZSxJQUFVaUcsS0FDbkNzYSwwQkFBMkJ2Z0IsSUFBVWlHLEtBQ3JDdWEsV0FBWXhnQixJQUFVaUcsS0FDdEJ3YSxRQUFTemdCLElBQVUrRixPQUNuQjJhLFFBQVMxZ0IsSUFBVStGLFFBR1J5QixzQkFBSzhZLEksK0RDclJwQixTQUFTMkIsR0FBWWxlLEdBQ2pCLElBQWtCa0MsRUFBTWljLEVBQ2hCOUgsRUEwQlIsT0FDSSxrQkFBQyxLQUFELENBQ0kxVSxXQUFXLFNBQ1gwQyxZQUFZLFNBQ1pFLFVBL0JVckMsRUErQlNsQyxFQUFNa0UsYUEvQlRpYSxFQStCdUIsSUExQnBDLFdBQW1DLDJCQUFON0gsRUFBTSx5QkFBTkEsRUFBTSxnQkFHdEMsSUFBTThILEVBQVEsV0FFVi9ILEVBQVUsS0FHVm5VLEVBQUksV0FBSixFQUFRb1UsSUFNWitILGFBQWFoSSxHQUliQSxFQUFVRyxXQUFXNEgsRUFBT0QsT0FheENELEdBQVlsaUIsVUFBWSxDQUNwQmtJLGFBQWNqSSxJQUFVaUcsTUFHYmdjLEksTUFBQUEsTUNoQ1RJLEdBQXFCcmYsVUFBT0MsSUFBVixnS0FRbEJxZixHQUFxQnRmLFVBQU9DLElBQVYsK0RBS3hCLFNBQVNzZixHQUFULEdBQStFLElBQXhEamQsRUFBd0QsRUFBeERBLEtBQU02VixFQUFrRCxFQUFsREEsU0FBVXFILEVBQXdDLEVBQXhDQSxhQUFjQyxFQUEwQixFQUExQkEsdUJBQTBCLEVBU3ZFekIscUJBQVdsaUIsTUFQWFcsRUFGdUUsRUFFdkVBLFNBQ0FFLEVBSHVFLEVBR3ZFQSxZQUNBQyxFQUp1RSxFQUl2RUEsZUFDQUYsRUFMdUUsRUFLdkVBLFlBQ0FILEVBTnVFLEVBTXZFQSxXQUNBQyxFQVB1RSxFQU92RUEsY0FDQUYsRUFSdUUsRUFRdkVBLGNBR0VvakIsRUFBWXBkLElBQVMwVixJQUFhLFFBQVUsT0EwQmxELE9BQ0ksa0JBQUNxSCxHQUFELEtBQ0ksNkJBQ0ksMEJBQU1sZixVQUFVLGVBQ1hxZixFQUNBQSxFQUFlLEVBQUkzZCxZQUFFLElBQUQsT0FBSzZkLEVBQUwsTUFBcUI3ZCxZQUFFLElBQUQsT0FBSzZkLEtBRW5EcGQsSUFBUzBWLElBQ04sa0JBQUMsSUFBRCxLQUNJLGtCQUFDLEtBQUQsQ0FDSWxiLE1BQU9MLEVBQ1AwRCxVQUFVLGVBQ1ZtRixTQUFVLFNBQUNOLEVBQUQsR0FBa0IsSUFBWmxJLEVBQVksRUFBWkEsTUFDWkYsRUFBZSxHQUNmRixFQUFZSSxLQUdoQixrQkFBQyxLQUFPNEosT0FBUixDQUFlckMsSUFBSSxLQUFLekIsTUFBT2YsWUFBRSxlQUFnQi9FLE1BQU8sS0FDeEQsa0JBQUMsS0FBTzRKLE9BQVIsQ0FBZXJDLElBQUksS0FBS3pCLE1BQU9mLFlBQUUsZUFBZ0IvRSxNQUFPLEtBQ3hELGtCQUFDLEtBQU80SixPQUFSLENBQWVyQyxJQUFJLEtBQUt6QixNQUFPZixZQUFFLGVBQWdCL0UsTUFBTyxNQTNDbEQsV0FDMUIsR0FBSXFiLEVBQVNyVSxPQUFTLEVBQ2xCLE9BQU8sS0FFWCxJQUFJNmIsRUFBTSxHQU1WLE9BTEFBLEVBQU14SCxFQUFTMVAsS0FBSSxTQUFDMEgsR0FDaEIsT0FBTyxrQkFBQyxLQUFPekosT0FBUixDQUFlckMsSUFBSzhMLEVBQVFwSSxLQUFNbkYsTUFBT3VOLEVBQVFsTyxNQUFPbkYsTUFBT3FULEVBQVFwSSxXQUc5RTZYLFFBQVEsa0JBQUMsS0FBT2xaLE9BQVIsQ0FBZXJDLElBQUksTUFBTXpCLE1BQU9mLFlBQUUsT0FBUS9FLE1BQU0sU0FFeEQsa0JBQUMsS0FBRCxDQUNJQSxNQUFPUCxFQUNQNEQsVUFBVSxnQkFDVm1GLFNBQVUsU0FBQ04sRUFBRCxHQUFrQixJQUFabEksRUFBWSxFQUFaQSxNQUNaRixFQUFlLEdBQ2ZKLEVBQWNNLEtBR2pCNmlCLEdBMEJRRSxJQUVMLE1BRVIsa0JBQUNQLEdBQUQsS0FDSSxrQkFBQyxHQUFELENBQ0lyYSxhQUFjLFNBQUNELEVBQUQsR0FBa0IsSUFBWmxJLEVBQVksRUFBWkEsTUFDaEJGLEVBQWUsR0FDZk4sRUFBY1EsT0FJMUIsNkJBQ0ksa0JBQUMsS0FBRCxDQUNJd0ksU0FBVSxTQUFDTixFQUFELE9BQVk4YSxFQUFaLEVBQU14ZCxLQUFOLE9BQTZCMUYsRUFBZWtqQixFQUFhLElBQ25FNWUsUUFBU3ZFLEVBQWMsRUFDdkJvakIsd0JBQXNCLEVBQ3RCQyxXQUFZQyxLQUFLQyxLQUFLVixFQUFlL2lCLEtBRXhDNkYsSUFBUzBWLElBQWEsS0FDbkIsa0JBQUMsS0FBRCxDQUNJcFYsTUFBT2YsWUFBRSxPQUNUYSxXQUFXLFVBQ1hDLFFBQVM4YyxNQVFqQ0YsR0FBWXhpQixVQUFZLENBQ3BCdUYsS0FBTXRGLElBQVUrRixPQUNoQm9WLFNBQVVuYixJQUFVMkcsTUFDcEI2YixhQUFjeGlCLElBQVV5SSxPQUN4QmdhLHVCQUF3QnppQixJQUFVaUcsTUFHdkJzYyxVLHFrQkM3R2YsU0FBU1ksR0FBVCxHQUFnRyxJQUF4RTdkLEVBQXdFLEVBQXhFQSxLQUFNNUUsRUFBa0UsRUFBbEVBLFlBQWEraEIsRUFBcUQsRUFBckRBLHVCQUF3QmxDLEVBQTZCLEVBQTdCQSwwQkFBNkIsRUFDOURuaEIsbUJBQVMsUUFEcUQsV0FDckZzaEIsRUFEcUYsS0FDNUUwQyxFQUQ0RSxPQUU5RGhrQixtQkFBUyxPQUZxRCxXQUVyRnFoQixFQUZxRixLQUU1RTRDLEVBRjRFLE9BRzlEamtCLG9CQUFTLEdBSHFELFdBR3JGK0ssRUFIcUYsS0FHNUVDLEVBSDRFLE9BSWxFaEwsbUJBQVMsTUFKeUQsV0FJckZpRCxFQUpxRixLQUk5RWloQixFQUo4RSxPQU1idEMscUJBQzNFbGlCLE1BRElFLEVBTm9GLEVBTXBGQSxRQUFTQyxFQU4yRSxFQU0zRUEsV0FBWVEsRUFOK0QsRUFNL0RBLFNBQVVFLEVBTnFELEVBTXJEQSxZQUFhTixFQU53QyxFQU14Q0EsV0FBWUUsRUFONEIsRUFNNUJBLFdBSTFEb2hCLEVBQWlCeFQsY0FDakI4VCxFQUNGM2IsSUFBUzBWLElBQ0gyRixFQUFlMUYsTUFBTUMsT0FBT08sTUFDNUJrRixFQUFlMUYsTUFBTUssY0FBY0MsS0FBS3RRLFFBQU8sU0FBQzBOLEdBQUQsT0FBT0EsRUFBRTVOLE9BQVNySyxLQUFhLEdBQ3pFK2EsTUFDVC9aLEVBQVV1ZixFQUFZeEIsT0FDcEJ4QixFQUFhZ0QsRUFBYmhELFNBQ0Y5QyxFQUNGN1YsSUFBUzBWLElBQ0gyRixFQUFlMUYsTUFBTUMsT0FBT0MsU0FDNUJ3RixFQUFlMUYsTUFBTUssY0FBY0MsS0FBS3RRLFFBQU8sU0FBQzBOLEdBQUQsT0FBT0EsRUFBRTVOLE9BQVNySyxLQXNCckU2aUIsRUFBYyxXQUNoQixJQUFNQyxFQUFXLEdBQ2pCckksRUFBU3BSLFNBQVEsU0FBQ29KLEdBQ2RxUSxFQUFTdlosS0FDTHhKLFlBQWlCLENBQ2JDLFlBQWF5UyxFQUFRcEksV0FJakMzSSxJQUNLcWhCLElBQUlELEdBRFQsT0FHVyxTQUFDbmhCLEdBQ0osSUFBSUMsRUFBVSxHQUNWb2hCLEVBQVksR0FtQmhCLE9BbEJJcmhCLEVBQU1HLFVBRU5GLEVBQVUsK0JBQUgsT0FBa0NELEVBQU1HLFNBQVNMLEtBQUtNLFNBQVMsR0FBR0MsTUFDekVnaEIsRUFBWXBlLElBQVMwVixJQUFhLFVBQVksV0FDdkMzWSxFQUFNTSxTQUViTCxFQUFVLGdEQUFILE9BQW1EZ0QsRUFBbkQsYUFDUG9lLEVBQVksWUFHWnBoQixFQUFVLDJCQUFILE9BQThCZ0QsRUFBOUIsYUFDUG9lLEVBQVksV0FHaEJyaEIsRUFBTXNoQixhQUFlRCxFQUNyQjlnQixZQUFjTixHQUNkOEgsR0FBVyxHQUNYa1osRUFBU2poQixHQUNGUSxRQUFRQyxPQUFPVCxNQUV6Qm9JLE1BQUssU0FBQ2pJLEdBdkRXLElBQUNMLEVBQ2pCc0gsRUFEaUJ0SCxFQXdER0ssRUFBU2lKLEtBQUksU0FBQ21ZLEdBQUQsT0FBU0EsRUFBSXpoQixLQUFLd0ksU0F2RG5EbEIsRUFBTSxHQUNaMFIsRUFBU3BSLFNBQVEsU0FBQ29KLEVBQVNLLEdBQ3ZCLEdBQUlMLEdBQVdBLEVBQVFwSSxNQUFRNUksRUFBTSxDQUNqQyxJQUFNZ1YsRUFBUyxHQUNmaFYsRUFBS3FSLEdBQU96SixTQUFRLFNBQUMySCxHQUNqQnlGLEVBQU96RixFQUFJM0csTUFBWCxTQUNPMkcsRUFBSTBGLFNBRFgsSUFFSUMsR0FBSTNGLEVBQUkyRixHQUNSdE0sS0FBTTJHLEVBQUkzRyxLQUNWckssWUFBYXlTLEVBQVFwSSxVQUc3QnRCLEVBQUkwSixFQUFRcEksTUFBUW9NLE1BRzVCbFksRUFBV3dLLEdBQ1hXLEdBQVcsT0EyQ2ZFLHFCQUFVLFdBQ05pWixNQUVELElBTUgsSUF5RE1NLEVBQXNCLFNBQUMxaEIsR0FDekIsSUFBTXdnQixFQUFNLEdBQ05tQixFQUFjLEdBdUJwQixPQXJCQXBpQixFQUFRcUksU0FBUSxTQUFDMlgsR0FDYm9DLEVBQVk3WixLQUFLeVgsRUFBU3haLFVBRTlCK1YsV0FBVWxVLFNBQVEsU0FBQ2dhLEdBQ2ZELEVBQVk3WixLQUFLOFosRUFBYTdiLFVBR2xDdkcsT0FBT3VTLEtBQUsvUixHQUFNNEgsU0FBUSxTQUFDaWEsR0FDdkIsSUFBSUMsR0FBUSxFQUNadGlCLE9BQU91UyxLQUFLL1IsRUFBSzZoQixJQUFJamEsU0FBUSxTQUFDbWEsR0FFdEJKLEVBQVl2UCxTQUFTMlAsSUFDRSxpQkFBaEIvaEIsRUFBSzZoQixHQUFHRSxJQUNmL2hCLEVBQUs2aEIsR0FBR0UsR0FBSWxTLGNBQWN1QyxTQUFTbFYsRUFBVzJTLGNBQWNtUyxVQUMzREYsSUFFRHRCLEVBQUkxWSxLQUFLOUgsRUFBSzZoQixJQUNkQyxHQUFRLFNBSWJ0QixHQXVDWCxHQUFJdGdCLFdBQU9zaEIsYUFDUCxNQUFNdGhCLEVBR1YsR0FBSThILEVBQ0EsT0FBTyxrQkFBQyxJQUFELE1BMU5pRixNQWlMekUsV0FDZixJQUFJd1ksRUFBTSxHQUNTLFFBQWZwakIsRUFDQW9DLE9BQU91UyxLQUFLbFYsR0FBUytLLFNBQVEsU0FBQzFDLEdBQzFCLElBQUkrYyxFQUFTLEdBRVRBLEVBREEva0IsR0FBY0EsRUFBV3lILE9BQ2hCK2MsRUFBb0I3a0IsRUFBUXFJLElBRTVCMUYsT0FBT3VTLEtBQUtsVixFQUFRcUksSUFBTW9FLEtBQUksU0FBQ2lHLEdBQUQsT0FBUzFTLEVBQVFxSSxHQUFLcUssTUFFakVpUixFQUFNQSxFQUFJM2IsT0FBT29kLE1BR3JCekIsRUFBTWtCLEVBQW9CN2tCLEVBQVFPLElBSXRDLElBQU04a0IsRUFBWTFCLEVBQUkyQixNQUFLLFNBQUNDLEVBQU1DLEdBQzlCLE1BQWdCLFFBQVovRCxFQUNPOEQsRUFBSzdELEdBQVc4RCxFQUFLOUQsR0FBVyxHQUFLLEVBRWhDLFNBQVpELEVBQ08rRCxFQUFLOUQsR0FBVzZELEVBQUs3RCxHQUFXLEdBQUssRUFFekMsS0FHUCtELEVBQWFKLEVBQVVLLE1BQU0va0IsRUFBY0YsR0FBV0UsRUFBYyxHQUFLRixHQU03RSxPQUpJRSxFQUFjLElBQU04a0IsRUFBVzNkLFNBQy9CMmQsRUFBYUosRUFBVUssT0FBTy9rQixFQUFjLEdBQUtGLEVBQVVBLElBR3hELENBQUNnbEIsRUFBWTlCLEVBQUk3YixRQVdTNmQsR0E3TnVELFdBNk5yRkMsRUE3TnFGLEtBNk52RXBDLEVBN051RSxLQStONUYsT0FDSSxvQ0FDSSxrQkFBQyxHQUFELENBQ0lsZCxLQUFNQSxFQUNONlYsU0FBVUEsRUFDVnFILGFBQWNBLEVBQ2RDLHVCQUF3QkEsSUFFNUIsa0JBQUMsR0FBRCxDQUNJbmQsS0FBTUEsRUFDTjVFLFlBQWFBLEVBQ2J5QixLQUFNeWlCLEVBQ04vRix3QkFBeUIsU0FBQ2xCLEdBQUQsT0EvSVYsU0FBQ0EsR0FDeEIxZSxHQUFXLFNBQUM0bEIsR0FDUixPQUFPdk4sSUFBT3VOLEVBQUQsT0FDUmxILEVBQUlqZCxZQURJLE9BRUppZCxFQUFJNVMsS0FBTyxDQUNSeVUsb0JBQXFCLENBQUV6SCxNQUFNLFVBSzdDLElBQU1sWCxFQUFPLElBQUk0QyxnQkFDakI1QyxFQUFLcVcsT0FBTyxZQUFheUcsRUFBSTlYLFVBQzdCcEYsWUFBaUIsQ0FDYkMsWUFBYSxHQUFGLE9BQUtpZCxFQUFJamQsWUFBVCxZQUF3QmlkLEVBQUk1UyxNQUN2Q2xLLE9BQ0FFLGNBQWUsQ0FBRSxlQUFnQixxQ0FDakNDLE9BQVEsT0FDUkMsYUFBYSxFQUNiQyxnQkFBaUIsV0FDYmpDLEdBQVcsU0FBQzRsQixHQUNSLE9BQU92TixJQUFPdU4sRUFBRCxPQUNSbEgsRUFBSWpkLFlBREksT0FFSmlkLEVBQUk1UyxLQUFPLENBQ1J5VSxvQkFBcUIsQ0FBRXpILE1BQU0sYUFNbER0TixNQUFLLFNBQUNqSSxHQUNMdkQsR0FBVyxTQUFDNGxCLEdBQ1IsT0FBT3ZOLElBQU91TixFQUFELE9BQ1JsSCxFQUFJamQsWUFESSxPQUVKaWQsRUFBSTVTLEtBQU8sQ0FDUmxGLFNBQVUsQ0FBRWtTLEtBQU12VixFQUFTTCxLQUFLd0ksTUFBTSxHQUFHeU0sUUFBUXZSLFVBQ2pEMlosb0JBQXFCLENBQUV6SCxNQUFNLGFBNEdQK00sQ0FBbUJuSCxJQUNyRDZDLFdBckdPLFNBQUN4WSxFQUFHMEosR0FDbkIsSUFDTXFULEVBRGNyRSxJQUNnQmhQLEVBQUlnUCxRQUFVRCxFQUFVLE9BRTVENEMsRUFEb0MsUUFBaEIwQixFQUF3QixPQUFTLE9BRXJEM0IsRUFBVzFSLEVBQUlnUCxVQWlHUEQsUUFBU0EsRUFDVEMsUUFBU0EsRUFDVEgsMEJBQTJCQSxLQU0zQzRDLEdBQWFwakIsVUFBWSxDQUNyQnVGLEtBQU10RixJQUFVK0YsT0FDaEJyRixZQUFhVixJQUFVK0YsT0FDdkIwYyx1QkFBd0J6aUIsSUFBVWlHLEtBQ2xDc2EsMEJBQTJCdmdCLElBQVVpRyxNQUcxQnVCLG1CQUFLMmIsSyx5T0N0UUwsR0FDWDZCLFFBQ0ksNEpBQ3lILGtCQUFDLElBQUQsQ0FBTXZlLEdBQUcsaUJBQVQsc0JBRHpILEtBSUp3ZSxRQUFTLGlJQUNUQyxRQUFTLHlEQUNUQyxRQUFTLDJEQUNUQyxRQUFTLDZELGliQ0hQQyxFLGdDQUNGLFdBQVl0aEIsR0FBTywwQkFDZixjQUFNQSxJQUNEVyxNQUFRLENBQUVnZixVQUFXLEtBQU1yaEIsTUFBTyxLQUFNaWpCLFVBQVcsTUFGekMsRSw2Q0FVbkIsU0FBa0JqakIsRUFBT2lqQixHQUVyQnZnQixLQUFLVCxTQUFTLENBQ1ZqQyxRQUNBaWpCLGdCLG9CQUtSLFdBQzBCLE1BQXRCLE9BQUl2Z0IsS0FBS0wsTUFBTXJDLE1BR1AseUJBQUtrakIsTUFBTSxTQUFTdlgsTUFBTyxDQUFFbVAsVUFBWSxRQUN6QyxrQkFBQyxJQUFELENBQU1uUCxNQUFPLENBQUV3WCxVQUFZLDBCQUN2QixrQkFBQyxJQUFLeGdCLE9BQU4sS0FDSSxrQkFBQyxJQUFELENBQVNnSixNQUFPLENBQUV5WCxVQUFVLFVBQVlDLE1BQU8sR0FDM0Msa0JBQUMsSUFBRCxDQUFhMVgsTUFBTyxDQUFFekssU0FBVSxRQUFTNkMsTUFBTyxhQUFlLDZCQUFLLDZCQUMxQyxZQUF6QnJCLEtBQUtMLE1BQU1nZixVQUEwQjdlLFlBQUUsOEJBQWdDQSxZQUFFLDJCQUdsRixrQkFBQyxJQUFLTyxLQUFOLEtBQ0tMLEtBQUtMLE1BQU1nZixVQUNSLG9DQUNLN2UsWUFBRThnQixFQUFXNWdCLEtBQUtMLE1BQU1nZixZQUN6Qiw2QkFBSyw4QkFFVCxLQUNKLDZCQUFTMVYsTUFBTyxDQUFFNFgsV0FBWSxhQUE5QixVQUNLN2dCLEtBQUtMLE1BQU1yQyxhQURoQixhQUNLLEVBQWtCZ0csYUFHM0Isa0JBQUMsSUFBSzVDLE9BQU4sQ0FBYW9nQixZQUFZLEdBQ3BCOWdCLEtBQUtMLE1BQU1nZixVQUFZM2UsS0FBS0wsTUFBTWdmLFVBQVksUUFPeEQzZSxLQUFLaEIsTUFBTTVFLFksdUNBN0N0QixTQUFnQ2tELEdBRTVCLE1BQU8sQ0FBRXFoQixVQUFXcmhCLEVBQU1zaEIsa0IsR0FSTm5mLElBQU1zQixXQXVEbEN1ZixFQUFjdGxCLFVBQVksQ0FDdEJaLFNBQVVhLElBQVVDLFVBQVUsQ0FBQ0QsSUFBVUUsUUFBUUYsSUFBVUcsTUFBT0gsSUFBVUcsT0FBT0MsWUFHeEVpbEIiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmNvbnN0IFRhYmxlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xuICAgIHJvd0RhdGE6IHt9LFxuICAgIHNldFJvd0RhdGE6ICgpID0+IHt9LFxufSk7XG5cbmV4cG9ydCBjb25zdCBUYWJsZUNvbnRleHRQcm92aWRlciA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgICBjb25zdCBbcm93RGF0YSwgc2V0Um93RGF0YV0gPSB1c2VTdGF0ZSh7fSk7XG4gICAgY29uc3QgW3NlYXJjaFRleHQsIHNldFNlYXJjaFRleHRdID0gdXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFtzZWFyY2hUeXBlLCBzZXRTZWFyY2hUeXBlXSA9IHVzZVN0YXRlKCdhbGwnKTtcbiAgICBjb25zdCBbcGFnZVNpemUsIHNldFBhZ2VTaXplXSA9IHVzZVN0YXRlKDEwKTtcbiAgICBjb25zdCBbY3VycmVudFBhZ2UsIHNldEN1cnJlbnRQYWdlXSA9IHVzZVN0YXRlKDApO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPFRhYmxlQ29udGV4dC5Qcm92aWRlclxuICAgICAgICAgICAgdmFsdWU9e3tcbiAgICAgICAgICAgICAgICByb3dEYXRhLFxuICAgICAgICAgICAgICAgIHNldFJvd0RhdGEsXG4gICAgICAgICAgICAgICAgc2VhcmNoVGV4dCxcbiAgICAgICAgICAgICAgICBzZXRTZWFyY2hUZXh0LFxuICAgICAgICAgICAgICAgIHNlYXJjaFR5cGUsXG4gICAgICAgICAgICAgICAgc2V0U2VhcmNoVHlwZSxcbiAgICAgICAgICAgICAgICBwYWdlU2l6ZSxcbiAgICAgICAgICAgICAgICBzZXRQYWdlU2l6ZSxcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSxcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50UGFnZSxcbiAgICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9UYWJsZUNvbnRleHQuUHJvdmlkZXI+XG4gICAgKTtcbn07XG5cblRhYmxlQ29udGV4dFByb3ZpZGVyLnByb3BUeXBlcyA9IHtcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm5vZGUpLCBQcm9wVHlwZXMubm9kZV0pLmlzUmVxdWlyZWQsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBUYWJsZUNvbnRleHQ7XG4iLCJleHBvcnQgY29uc3QgTU9ERV9DTE9ORSA9ICdjbG9uZSc7XG5leHBvcnQgY29uc3QgTU9ERV9DUkVBVEUgPSAnY3JlYXRlJztcbmV4cG9ydCBjb25zdCBNT0RFX0RFTEVURSA9ICdkZWxldGUnO1xuZXhwb3J0IGNvbnN0IE1PREVfRURJVCA9ICdlZGl0JztcbmV4cG9ydCBjb25zdCBNT0RFX0NPTkZJRyA9ICdjb25maWcnO1xuIiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IENTUkZUb2tlbiwgYXBwIH0gZnJvbSAnQHNwbHVuay9zcGx1bmstdXRpbHMvY29uZmlnJztcbmltcG9ydCB7IGNyZWF0ZVJFU1RVUkwgfSBmcm9tICdAc3BsdW5rL3NwbHVuay11dGlscy91cmwnO1xuaW1wb3J0IHsgZ2VuZXJhdGVFbmRQb2ludFVybCwgZ2VuZXJhdGVUb2FzdCB9IGZyb20gJy4vdXRpbCc7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFRoZSBvYmplY3QgY29udGFpbmluZyByZXF1aXJlZCBwYXJhbXMgZm9yIHJlcXVlc3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhLnNlcnZpY2VOYW1lIHNlcnZpY2UgbmFtZSB3aGljaCBpcyBpbnB1dCBuYW1lIG9yIHRhYiBuYW1lIGJhc2VkIG9uIHRoZSBwYWdlXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5lbmRwb2ludFVybCByZXN0IGVuZHBvaW50IHBhdGhcbiAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhLnBhcmFtcyBvYmplY3Qgd2l0aCBwYXJhbXMgYXMga2V5IHZhbHVlIHBhaXJzXG4gKiBAcGFyYW0ge29iamVjdH0gZGF0YS5ib2R5IG9iamVjdCB3aXRoIGJvZHkgYXMga2V5IHZhbHVlIHBhaXJzIGZvciBwb3N0IHJlcXVlc3RcbiAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhLmN1c3RvbUhlYWRlcnMgZXh0cmEgaGVhZGVycyBhcyBrZXkgdmFsdWUgcGFpclxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGEubWV0aG9kIHJlc3QgbWV0aG9kIHR5cGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhLmhhbmRsZUVycm9yIHdoZXRoZXIgb3Igbm90IHNob3cgdG9hc3Qgbm90aWZpY2F0aW9ucyBvbiBmYWlsdXJlXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5jYWxsYmFja09uRXJyb3IgY2FsbGJhY2sgZnVuY3Rpb24gdG8gZXhlY3V0ZSBhZnRlciBoYW5kbGluZyBlcnJvci4gT25seSBleGVjdXRlZCB3aGVuIGhhbmRsZUVycm9yIGlzIHNldCB0byB0cnVlXG4gKiBAcmV0dXJuc1xuICovXG5jb25zdCBheGlvc0NhbGxXcmFwcGVyID0gKHtcbiAgICBzZXJ2aWNlTmFtZSxcbiAgICBlbmRwb2ludFVybCxcbiAgICBwYXJhbXMsXG4gICAgYm9keSxcbiAgICBjYW5jZWxUb2tlbixcbiAgICBjdXN0b21IZWFkZXJzID0ge30sXG4gICAgbWV0aG9kID0gJ2dldCcsXG4gICAgaGFuZGxlRXJyb3IgPSBmYWxzZSxcbiAgICBjYWxsYmFja09uRXJyb3IgPSAoKSA9PiB7fSxcbn0pID0+IHtcbiAgICBjb25zdCBlbmRwb2ludCA9IHNlcnZpY2VOYW1lID8gZ2VuZXJhdGVFbmRQb2ludFVybChzZXJ2aWNlTmFtZSkgOiBlbmRwb2ludFVybDtcbiAgICBjb25zdCBhcHBEYXRhID0ge1xuICAgICAgICBhcHAsXG4gICAgICAgIG93bmVyOiAnbm9ib2R5JyxcbiAgICB9O1xuICAgIGNvbnN0IGJhc2VIZWFkZXJzID0ge1xuICAgICAgICAnWC1TcGx1bmstRm9ybS1LZXknOiBDU1JGVG9rZW4sXG4gICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJzogJ1hNTEh0dHBSZXF1ZXN0JyxcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9O1xuICAgIGNvbnN0IGhlYWRlcnMgPSBPYmplY3QuYXNzaWduKGJhc2VIZWFkZXJzLCBjdXN0b21IZWFkZXJzKTtcbiAgICBjb25zdCB1cmwgPSBjcmVhdGVSRVNUVVJMKGVuZHBvaW50LCBhcHBEYXRhKTtcblxuICAgIGxldCBuZXdQYXJhbXMgPSB7IG91dHB1dF9tb2RlOiAnanNvbicgfTtcbiAgICBpZiAocGFyYW1zKSB7XG4gICAgICAgIG5ld1BhcmFtcyA9IHsgLi4ubmV3UGFyYW1zLCAuLi5wYXJhbXMgfTtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBwYXJhbXM6IG5ld1BhcmFtcyxcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICB1cmwsXG4gICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIGNhbmNlbFRva2VuLFxuICAgIH07XG5cbiAgICBpZiAobWV0aG9kID09PSAncG9zdCcpIHtcbiAgICAgICAgb3B0aW9ucy5kYXRhID0gYm9keTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGFuZGxlRXJyb3JcbiAgICAgICAgPyBheGlvcyhvcHRpb25zKS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSAnJztcbiAgICAgICAgICAgICAgaWYgKGF4aW9zLmlzQ2FuY2VsKGVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFRoZSByZXF1ZXN0IHdhcyBtYWRlIGFuZCB0aGUgc2VydmVyIHJlc3BvbmRlZCB3aXRoIGEgc3RhdHVzIGNvZGVcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRXJyb3IgcmVzcG9uc2UgcmVjZWl2ZWQgZnJvbSBzZXJ2ZXI6ICR7ZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlc1swXS50ZXh0fWA7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IucmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgLy8gVGhlIHJlcXVlc3Qgd2FzIG1hZGUgYnV0IG5vIHJlc3BvbnNlIHdhcyByZWNlaXZlZFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBObyByZXNwb25zZSByZWNlaXZlZCB3aGlsZSBtYWtpbmcgcmVxdWVzdCB0byAke2VuZHBvaW50fWA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBTb21ldGhpbmcgaGFwcGVuZWQgaW4gc2V0dGluZyB1cCB0aGUgcmVxdWVzdCB0aGF0IHRyaWdnZXJlZCBhbiBFcnJvclxuICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBFcnJvciBtYWtpbmcgJHttZXRob2R9IHJlcXVlc3QgdG8gJHtlbmRwb2ludH1gO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGdlbmVyYXRlVG9hc3QobWVzc2FnZSwgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgIGNhbGxiYWNrT25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgfSlcbiAgICAgICAgOiBheGlvcyhvcHRpb25zKTtcbn07XG5cbmV4cG9ydCB7IGF4aW9zQ2FsbFdyYXBwZXIgfTtcbiIsImltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgdmFyaWFibGVzIH0gZnJvbSAnQHNwbHVuay90aGVtZXMnO1xuXG5leHBvcnQgY29uc3QgVGl0bGVDb21wb25lbnQgPSBzdHlsZWQuZGl2LmF0dHJzKHtcbiAgICBjbGFzc05hbWU6ICdwYWdlVGl0bGUnLFxufSlgXG4gICAgJi5wYWdlVGl0bGUge1xuICAgICAgICBmb250LXNpemU6ICR7dmFyaWFibGVzLmZvbnRTaXplWFhMYXJnZX07XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgfVxuYDtcblxuZXhwb3J0IGNvbnN0IFN1YlRpdGxlQ29tcG9uZW50ID0gc3R5bGVkLmRpdi5hdHRycyh7XG4gICAgY2xhc3NOYW1lOiAncGFnZVN1YnRpdGxlJyxcbn0pYFxuICAgICYucGFnZVN1YnRpdGxlIHtcbiAgICAgICAgZm9udC1zaXplOiAke3ZhcmlhYmxlcy5mb250U2l6ZX07XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgfVxuYDtcblxuZXhwb3J0IGNvbnN0IFRhYmxlQ2FwdGlvbkNvbXBvbmVudCA9IHN0eWxlZC5kaXZgXG4gICAgLnRhYmxlLWNhcHRpb24taW5uZXIge1xuICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgIH1cbmA7XG4iLCJpbXBvcnQgeyB1c2VMb2NhdGlvbiB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuXG4vLyBBIGN1c3RvbSBob29rIHRoYXQgYnVpbGRzIG9uIHVzZUxvY2F0aW9uIHRvIHBhcnNlIHRoZSBxdWVyeSBzdHJpbmcgZm9yIHlvdS5cbmZ1bmN0aW9uIHVzZVF1ZXJ5KCkge1xuICAgIHJldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKHVzZUxvY2F0aW9uKCkuc2VhcmNoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlUXVlcnk7XG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBCdXR0b24gZnJvbSAnQHNwbHVuay9yZWFjdC11aS9CdXR0b24nO1xuaW1wb3J0IE1vZGFsIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvTW9kYWwnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgV2FpdFNwaW5uZXIgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9XYWl0U3Bpbm5lcic7XG5pbXBvcnQgeyBfIH0gZnJvbSAnQHNwbHVuay91aS11dGlscy9pMThuJztcblxuaW1wb3J0IHsgTU9ERV9DTE9ORSwgTU9ERV9DUkVBVEUsIE1PREVfRURJVCB9IGZyb20gJy4uL2NvbnN0YW50cy9tb2Rlcyc7XG5pbXBvcnQgQmFzZUZvcm1WaWV3IGZyb20gJy4vQmFzZUZvcm1WaWV3JztcblxuY29uc3QgTW9kYWxXcmFwcGVyID0gc3R5bGVkKE1vZGFsKWBcbiAgICB3aWR0aDogODAwcHg7XG5gO1xuXG5jbGFzcyBFbnRpdHlNb2RhbCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICAvLyBSZWYgaXMgdXNlZCBoZXJlIHRvIGNhbGwgc3VibWl0IG1ldGhvZCBvZiBmb3JtIG9ubHlcbiAgICAgICAgdGhpcy5mb3JtID0gUmVhY3QuY3JlYXRlUmVmKCk7IC8vIG5vc2VtZ3JlcDogdHlwZXNjcmlwdC5yZWFjdC5zZWN1cml0eS5hdWRpdC5yZWFjdC1uby1yZWZzLnJlYWN0LW5vLXJlZnNcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHsgaXNTdWJtaXRpdG5nOiBmYWxzZSB9O1xuXG4gICAgICAgIGlmIChwcm9wcy5tb2RlID09PSBNT0RFX0NSRUFURSkge1xuICAgICAgICAgICAgdGhpcy5idXR0b25UZXh0ID0gXygnQWRkJyk7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvcHMubW9kZSA9PT0gTU9ERV9DTE9ORSkge1xuICAgICAgICAgICAgdGhpcy5idXR0b25UZXh0ID0gXygnU2F2ZScpO1xuICAgICAgICB9IGVsc2UgaWYgKHByb3BzLm1vZGUgPT09IE1PREVfRURJVCkge1xuICAgICAgICAgICAgdGhpcy5idXR0b25UZXh0ID0gXygnVXBkYXRlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJ1dHRvblRleHQgPSBfKCdTdWJtaXQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVJlcXVlc3RDbG9zZSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVSZXF1ZXN0Q2xvc2UoKTtcbiAgICB9O1xuXG4gICAgaGFuZGxlU3VibWl0ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmZvcm0uY3VycmVudC5oYW5kbGVTdWJtaXQoKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXF1ZXN0Q2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2V0OiB3aGV0aGVyIGZvcm0gaXMgc3VibWl0dGluZ1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xvc2UgOiBjbG9zZSB0aGUgRW50aXR5IG1vZGFsXG4gICAgICovXG4gICAgaGFuZGxlRm9ybVN1Ym1pdCA9IChzZXQsIGNsb3NlKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1N1Ym1pdGl0bmc6IHNldCB9KTtcbiAgICAgICAgaWYgKGNsb3NlKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVJlcXVlc3RDbG9zZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxNb2RhbFdyYXBwZXIgb3Blbj17dGhpcy5wcm9wcy5vcGVufT5cbiAgICAgICAgICAgICAgICA8TW9kYWwuSGVhZGVyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmZvcm1MYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgb25SZXF1ZXN0Q2xvc2U9e3RoaXMuaGFuZGxlUmVxdWVzdENsb3NlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPE1vZGFsLkJvZHk+XG4gICAgICAgICAgICAgICAgICAgIDxCYXNlRm9ybVZpZXcgLy8gbm9zZW1ncmVwOiB0eXBlc2NyaXB0LnJlYWN0LnNlY3VyaXR5LmF1ZGl0LnJlYWN0LW5vLXJlZnMucmVhY3Qtbm8tcmVmc1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXt0aGlzLmZvcm19XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlPXt0aGlzLnByb3BzLnBhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZT17dGhpcy5wcm9wcy5zZXJ2aWNlTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU9e3RoaXMucHJvcHMubW9kZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YW56YU5hbWU9e3RoaXMucHJvcHMuc3RhbnphTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUZvcm1TdWJtaXQ9e3RoaXMuaGFuZGxlRm9ybVN1Ym1pdH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L01vZGFsLkJvZHk+XG4gICAgICAgICAgICAgICAgPE1vZGFsLkZvb3Rlcj5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZWFyYW5jZT1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZVJlcXVlc3RDbG9zZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtfKCdDYW5jZWwnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzU3VibWl0aXRuZ31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2F2ZUJ0blwiXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlYXJhbmNlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17dGhpcy5zdGF0ZS5pc1N1Ym1pdGl0bmcgPyA8V2FpdFNwaW5uZXIgLz4gOiB0aGlzLmJ1dHRvblRleHR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZVN1Ym1pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzU3VibWl0aXRuZ31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L01vZGFsLkZvb3Rlcj5cbiAgICAgICAgICAgIDwvTW9kYWxXcmFwcGVyPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuRW50aXR5TW9kYWwucHJvcFR5cGVzID0ge1xuICAgIHBhZ2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgb3BlbjogUHJvcFR5cGVzLmJvb2wsXG4gICAgaGFuZGxlUmVxdWVzdENsb3NlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBzZXJ2aWNlTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBtb2RlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHN0YW56YU5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgZm9ybUxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgRW50aXR5TW9kYWw7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IExpbmsgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9MaW5rJztcblxuY29uc3QgTWFya2Rvd25XcmFwcGVyID0gc3R5bGVkLnNwYW5gXG4gICAgY29sb3I6ICR7KHByb3BzKSA9PiBwcm9wcy5jb2xvcn07XG5gO1xuXG5mdW5jdGlvbiBNYXJrZG93bk1lc3NhZ2UocHJvcHMpIHtcbiAgICAvLyBmbGF0TWFwIGFkZHMgdGhlIGxpbmsgdG8gdGhlIHBhcnQgb2YgdGV4dCB0aGF0IGhhcyBiZWVuIHNwbGl0IGZyb20gdGV4dFxuICAgIC8vIGFuZCByZXR1cm5zIGEgbmV3IGFycmF5IGZvcm1lZCBieSBhcHBseWluZyBhIGdpdmVuIGZ1bmN0aW9uIHRvIGVhY2ggZWxlbWVudCBvZiB0aGUgYXJyYXksXG4gICAgLy8gYW5kIHRoZW4gZmxhdHRlbmluZyB0aGUgcmVzdWx0IGJ5IG9uZSBsZXZlbFxuICAgIGZ1bmN0aW9uIGZsYXRNYXAoYXJyYXksIGZuKSB7XG4gICAgICAgIGxldCBtYXJrZG93blRleHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgbWFwcGluZyA9IGZuKGFycmF5W2ldKTtcbiAgICAgICAgICAgIG1hcmtkb3duVGV4dCA9IG1hcmtkb3duVGV4dC5jb25jYXQobWFwcGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcmtkb3duVGV4dDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRNYXJrZG93blRleHQoKSB7XG4gICAgICAgIGxldCBtYXJrZG93blRleHQgPSBwcm9wcy50ZXh0O1xuICAgICAgICBpZiAocHJvcHMubWFya2Rvd25UeXBlID09PSAnbGluaycpIHtcbiAgICAgICAgICAgIG1hcmtkb3duVGV4dCA9IDxMaW5rIHRvPXtwcm9wcy5saW5rfT57cHJvcHMudGV4dH08L0xpbms+O1xuICAgICAgICB9IGVsc2UgaWYgKHByb3BzLm1hcmtkb3duVHlwZSA9PT0gJ2h5YnJpZCcpIHtcbiAgICAgICAgICAgIC8vIG1hcmtkb3duVHlwZSBoeWJyaWQgaXMgZm9yIHN1cHBvcnQgb2YgYm90aCB0ZXh0IGFuZCBsaW5rXG4gICAgICAgICAgICBtYXJrZG93blRleHQgPSBmbGF0TWFwKG1hcmtkb3duVGV4dC5zcGxpdChwcm9wcy50b2tlbiksIChwYXJ0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgcGFydCxcbiAgICAgICAgICAgICAgICAgICAgPExpbmsga2V5PXtwYXJ0fSB0bz17cHJvcHMubGlua30+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cHJvcHMubGlua1RleHR9XG4gICAgICAgICAgICAgICAgICAgIDwvTGluaz4sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbWFya2Rvd25UZXh0LnBvcCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHByb3BzLm1hcmtkb3duVHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICBtYXJrZG93blRleHQgPSA8TWFya2Rvd25XcmFwcGVyIGNvbG9yPXtwcm9wcy5jb2xvcn0+e3Byb3BzLnRleHR9PC9NYXJrZG93bldyYXBwZXI+O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1hcmtkb3duVGV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gPGRpdiBkYXRhLXRlc3Q9XCJtc2ctbWFya2Rvd25cIj57Z2V0TWFya2Rvd25UZXh0KCl9PC9kaXY+O1xufVxuXG5NYXJrZG93bk1lc3NhZ2UucHJvcFR5cGVzID0ge1xuICAgIHRleHQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbGluazogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBtYXJrZG93blR5cGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgdG9rZW46IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbGlua1RleHQ6IFByb3BUeXBlcy5zdHJpbmcsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZWFjdC5tZW1vKE1hcmtkb3duTWVzc2FnZSk7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBMaW5rIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvTGluayc7XG5cbmZ1bmN0aW9uIEhlbHBMaW5rQ29tcG9uZW50KHByb3BzKSB7XG4gICAgY29uc3QgeyB0ZXh0LCBsaW5rIH0gPSBwcm9wcy5jb250cm9sT3B0aW9ucztcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxMaW5rIHRvPXtsaW5rfSBvcGVuSW5OZXdDb250ZXh0PlxuICAgICAgICAgICAge3RleHR9XG4gICAgICAgIDwvTGluaz5cbiAgICApO1xufVxuXG5IZWxwTGlua0NvbXBvbmVudC5wcm9wVHlwZXMgPSB7XG4gICAgY29udHJvbE9wdGlvbnM6IFByb3BUeXBlcy5vYmplY3Rcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEhlbHBMaW5rQ29tcG9uZW50O1xuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgVGV4dCBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL1RleHQnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5cbmNvbnN0IFRleHRXcmFwcGVyID0gc3R5bGVkKFRleHQpYFxuICAgIHdpZHRoOiAzMjBweCAhaW1wb3J0YW50O1xuYDtcblxuY2xhc3MgVGV4dENvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgaGFuZGxlQ2hhbmdlID0gKGUsIHsgdmFsdWUgfSkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLmhhbmRsZUNoYW5nZSh0aGlzLnByb3BzLmZpZWxkLCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxUZXh0V3JhcHBlclxuICAgICAgICAgICAgICAgIGlubGluZVxuICAgICAgICAgICAgICAgIGVycm9yPXt0aGlzLnByb3BzLmVycm9yfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzPy5jb250cm9sT3B0aW9ucz8ucGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmZpZWxkfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgICAgIHZhbHVlPXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy52YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdGhpcy5wcm9wcy52YWx1ZSA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5wcm9wcy52YWx1ZS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICB0eXBlPXt0aGlzLnByb3BzLmVuY3J5cHRlZCA/ICdwYXNzd29yZCcgOiAndGV4dCd9XG4gICAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuVGV4dENvbXBvbmVudC5wcm9wVHlwZXMgPSB7XG4gICAgLy8gTnVtYmVyIGlzIGV4cGVjdGVkIGlmIHByb3ZpZGVkIG51bWJlciBpbiBnbG9iYWxDb25maWcuanNvbiBpbnN0ZWFkIG9mIGEgc3RyaW5nLlxuICAgIHZhbHVlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubnVtYmVyXSksXG4gICAgaGFuZGxlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIGZpZWxkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGVycm9yOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBjb250cm9sT3B0aW9uczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBlbmNyeXB0ZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRleHRDb21wb25lbnQ7XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgU2VsZWN0IGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvU2VsZWN0JztcbmltcG9ydCBDb21ib0JveCBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL0NvbWJvQm94JztcbmltcG9ydCBCdXR0b24gZnJvbSAnQHNwbHVuay9yZWFjdC11aS9CdXR0b24nO1xuaW1wb3J0IENsZWFyIGZyb20gJ0BzcGx1bmsvcmVhY3QtaWNvbnMvQ2xlYXInO1xuaW1wb3J0IHsgXyB9IGZyb20gJ0BzcGx1bmsvdWktdXRpbHMvaTE4bic7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5cbmltcG9ydCB7IGF4aW9zQ2FsbFdyYXBwZXIgfSBmcm9tICcuLi91dGlsL2F4aW9zQ2FsbFdyYXBwZXInO1xuaW1wb3J0IHsgZmlsdGVyUmVzcG9uc2UgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuXG5jb25zdCBTZWxlY3RXcmFwcGVyID0gc3R5bGVkKFNlbGVjdClgXG4gICAgd2lkdGg6IDMyMHB4ICFpbXBvcnRhbnQ7XG5gO1xuXG5jb25zdCBTdHlsZWREaXYgPSBzdHlsZWQuZGl2YFxuICAgIGRpdjpmaXJzdC1jaGlsZCB7XG4gICAgICAgIHdpZHRoOiAzMjBweCAhaW1wb3J0YW50O1xuICAgIH1cbmA7XG5cbmZ1bmN0aW9uIFNpbmdsZUlucHV0Q29tcG9uZW50KHByb3BzKSB7XG4gICAgY29uc3Qge1xuICAgICAgICBmaWVsZCxcbiAgICAgICAgZGlzYWJsZWQgPSBmYWxzZSxcbiAgICAgICAgZXJyb3IgPSBmYWxzZSxcbiAgICAgICAgY29udHJvbE9wdGlvbnMsXG4gICAgICAgIGRlcGVuZGVuY3lWYWx1ZXMsXG4gICAgICAgIC4uLnJlc3RQcm9wc1xuICAgIH0gPSBwcm9wcztcbiAgICBjb25zdCB7XG4gICAgICAgIGVuZHBvaW50VXJsLFxuICAgICAgICBkZW55TGlzdCxcbiAgICAgICAgYWxsb3dMaXN0LFxuICAgICAgICBwbGFjZWhvbGRlciA9IF8oJ1NlbGVjdCBhIHZhbHVlJyksXG4gICAgICAgIGRlcGVuZGVuY2llcyxcbiAgICAgICAgY3JlYXRlU2VhcmNoQ2hvaWNlLFxuICAgICAgICByZWZlcmVuY2VOYW1lLFxuICAgICAgICBkaXNhYmxlU2VhcmNoLFxuICAgICAgICBsYWJlbEZpZWxkLFxuICAgICAgICBhdXRvQ29tcGxldGVGaWVsZHMsXG4gICAgICAgIGlzQ2xlYXJhYmxlLFxuICAgIH0gPSBjb250cm9sT3B0aW9ucztcblxuICAgIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZShlLCBvYmopIHtcbiAgICAgICAgcmVzdFByb3BzLmhhbmRsZUNoYW5nZShmaWVsZCwgb2JqLnZhbHVlKTtcbiAgICB9XG4gICAgY29uc3QgT3B0aW9uID0gY3JlYXRlU2VhcmNoQ2hvaWNlID8gQ29tYm9Cb3guT3B0aW9uIDogU2VsZWN0Lk9wdGlvbjtcbiAgICBjb25zdCBIZWFkaW5nID0gY3JlYXRlU2VhcmNoQ2hvaWNlID8gQ29tYm9Cb3guSGVhZGluZyA6IFNlbGVjdC5IZWFkaW5nO1xuXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVPcHRpb25zKGl0ZW1zKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBbXTtcbiAgICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgLy8gS25vd24gaXNzdWUoQURET04tMzcwMzYpOiBJbiBjYXNlIG9mIENvbWJvQm94LCBsYWJlbC92YWx1ZSBhYnN0cmFjdGlvbiBpcyBub3Qgc3VwcG9ydGVkXG4gICAgICAgICAgICAvLyBTbyBwcm9wIGxhYmVsIGlzIGp1c3QgYSBkdW1teSBwcm9wIGZvciBDb21ib0JveC5PcHRpb24gb3IgQ29tYm9Cb3guSGVhZGluZ1xuICAgICAgICAgICAgaWYgKGl0ZW0udmFsdWUgJiYgaXRlbS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGRhdGEucHVzaCg8T3B0aW9uIGxhYmVsPXtpdGVtLmxhYmVsfSB2YWx1ZT17aXRlbS52YWx1ZX0ga2V5PXtpdGVtLnZhbHVlfSAvPik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKDxIZWFkaW5nIGtleT17aXRlbS5sYWJlbH0+e2l0ZW0ubGFiZWx9PC9IZWFkaW5nPik7XG4gICAgICAgICAgICAgICAgaXRlbS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2goPE9wdGlvbiBsYWJlbD17Y2hpbGQubGFiZWx9IHZhbHVlPXtjaGlsZC52YWx1ZX0ga2V5PXtjaGlsZC52YWx1ZX0gLz4pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtvcHRpb25zLCBzZXRPcHRpb25zXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFlbmRwb2ludFVybCAmJiAhcmVmZXJlbmNlTmFtZSAmJiBhdXRvQ29tcGxldGVGaWVsZHMpIHtcbiAgICAgICAgICAgIHNldE9wdGlvbnMoZ2VuZXJhdGVPcHRpb25zKGF1dG9Db21wbGV0ZUZpZWxkcykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0cnVlO1xuICAgICAgICBjb25zdCBzb3VyY2UgPSBheGlvcy5DYW5jZWxUb2tlbi5zb3VyY2UoKTtcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7IENhbmNlbFRva2VuOiBzb3VyY2UudG9rZW4sIGhhbmRsZUVycm9yOiB0cnVlIH07XG4gICAgICAgIGlmIChyZWZlcmVuY2VOYW1lKSB7XG4gICAgICAgICAgICBvcHRpb25zLnNlcnZpY2VOYW1lID0gcmVmZXJlbmNlTmFtZTtcbiAgICAgICAgfSBlbHNlIGlmIChlbmRwb2ludFVybCkge1xuICAgICAgICAgICAgb3B0aW9ucy5lbmRwb2ludFVybCA9IGVuZHBvaW50VXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlcGVuZGVuY3lWYWx1ZXMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMucGFyYW1zID0gZGVwZW5kZW5jeVZhbHVlcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlcGVuZGVuY2llcyB8fCBkZXBlbmRlbmN5VmFsdWVzKSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgYXhpb3NDYWxsV3JhcHBlcihvcHRpb25zKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0T3B0aW9ucyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZU9wdGlvbnMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclJlc3BvbnNlKHJlc3BvbnNlLmRhdGEuZW50cnksIGxhYmVsRmllbGQsIGFsbG93TGlzdCwgZGVueUxpc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHNvdXJjZS5jYW5jZWwoJ09wZXJhdGlvbiBjYW5jZWxlZC4nKTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIH0sIFtkZXBlbmRlbmN5VmFsdWVzXSk7XG5cbiAgICBjb25zdCBlZmZlY3RpdmVEaXNhYmxlZCA9IGxvYWRpbmcgPyB0cnVlIDogZGlzYWJsZWQ7XG4gICAgY29uc3QgZWZmZWN0aXZlUGxhY2Vob2xkZXIgPSBsb2FkaW5nID8gXygnTG9hZGluZycpIDogcGxhY2Vob2xkZXI7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8PlxuICAgICAgICAgICAge2NyZWF0ZVNlYXJjaENob2ljZSA/IChcbiAgICAgICAgICAgICAgICA8U3R5bGVkRGl2IGNsYXNzTmFtZT1cImRyb3Bkb3duQm94XCI+XG4gICAgICAgICAgICAgICAgICAgIDxDb21ib0JveFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3Byb3BzLnZhbHVlID09PSBudWxsID8gJycgOiBwcm9wcy52YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e2ZpZWxkfVxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I9e2Vycm9yfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2VmZmVjdGl2ZVBsYWNlaG9sZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2VmZmVjdGl2ZURpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7b3B0aW9ucyAmJiBvcHRpb25zLmxlbmd0aCA+IDAgJiYgb3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgPC9Db21ib0JveD5cbiAgICAgICAgICAgICAgICA8L1N0eWxlZERpdj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFdyYXBwZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duQm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdC1sb2FkaW5nPXtsb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3Byb3BzLnZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT17ZmllbGR9XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcj17ZXJyb3J9XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17ZWZmZWN0aXZlUGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZWZmZWN0aXZlRGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyPXshZGlzYWJsZVNlYXJjaH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7b3B0aW9ucyAmJiBvcHRpb25zLmxlbmd0aCA+IDAgJiYgb3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RXcmFwcGVyPlxuICAgICAgICAgICAgICAgICAgICB7aXNDbGVhcmFibGUgIT09IHRydWUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0PVwiY2xlYXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxDbGVhciAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByZXN0UHJvcHMuaGFuZGxlQ2hhbmdlKGZpZWxkLCAnJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgIDwvPlxuICAgICk7XG59XG5cblNpbmdsZUlucHV0Q29tcG9uZW50LnByb3BUeXBlcyA9IHtcbiAgICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgdmFsdWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgZXJyb3I6IFByb3BUeXBlcy5ib29sLFxuICAgIGhhbmRsZUNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBmaWVsZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBkZXBlbmRlbmN5VmFsdWVzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGNvbnRyb2xPcHRpb25zOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICBhdXRvQ29tcGxldGVGaWVsZHM6IFByb3BUeXBlcy5hcnJheSxcbiAgICAgICAgZW5kcG9pbnRVcmw6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGRlbnlMaXN0OiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBhbGxvd0xpc3Q6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBkZXBlbmRlbmNpZXM6IFByb3BUeXBlcy5hcnJheSxcbiAgICAgICAgY3JlYXRlU2VhcmNoQ2hvaWNlOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAgICAgcmVmZXJlbmNlTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgZGlzYWJsZVNlYXJjaDogUHJvcFR5cGVzLmJvb2wsXG4gICAgICAgIGxhYmVsRmllbGQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGlzQ2xlYXJhYmxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgICB9KSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNpbmdsZUlucHV0Q29tcG9uZW50O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IE11bHRpc2VsZWN0IGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvTXVsdGlzZWxlY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5pbXBvcnQgeyBheGlvc0NhbGxXcmFwcGVyIH0gZnJvbSAnLi4vdXRpbC9heGlvc0NhbGxXcmFwcGVyJztcbmltcG9ydCB7IGZpbHRlclJlc3BvbnNlIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCB7IGdldEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICcuLi91dGlsL21lc3NhZ2VVdGlsJztcblxuY29uc3QgTXVsdGlTZWxlY3RXcmFwcGVyID0gc3R5bGVkKE11bHRpc2VsZWN0KWBcbiAgICB3aWR0aDogMzIwcHggIWltcG9ydGFudDtcbmA7XG5cbmZ1bmN0aW9uIE11bHRpSW5wdXRDb21wb25lbnQocHJvcHMpIHtcbiAgICBjb25zdCB7XG4gICAgICAgIGZpZWxkLFxuICAgICAgICBkaXNhYmxlZCA9IGZhbHNlLFxuICAgICAgICBlcnJvciA9IGZhbHNlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgY29udHJvbE9wdGlvbnMsXG4gICAgICAgIGRlcGVuZGVuY3lWYWx1ZXMsXG4gICAgICAgIC4uLnJlc3RQcm9wc1xuICAgIH0gPSBwcm9wcztcbiAgICBjb25zdCB7XG4gICAgICAgIGVuZHBvaW50VXJsLFxuICAgICAgICBkZW55TGlzdCxcbiAgICAgICAgYWxsb3dMaXN0LFxuICAgICAgICBpdGVtcyxcbiAgICAgICAgZGVwZW5kZW5jaWVzLFxuICAgICAgICByZWZlcmVuY2VOYW1lLFxuICAgICAgICBwbGFjZWhvbGRlcixcbiAgICAgICAgY3JlYXRlU2VhcmNoQ2hvaWNlLFxuICAgICAgICBsYWJlbEZpZWxkLFxuICAgICAgICBkZWxpbWl0ZXIgPSAnLCcsXG4gICAgfSA9IGNvbnRyb2xPcHRpb25zO1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUsIHsgdmFsdWVzIH0pIHtcbiAgICAgICAgcmVzdFByb3BzLmhhbmRsZUNoYW5nZShmaWVsZCwgdmFsdWVzLmpvaW4oZGVsaW1pdGVyKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVPcHRpb25zKGl0ZW1MaXN0KSB7XG4gICAgICAgIHJldHVybiBpdGVtTGlzdC5tYXAoKGl0ZW0pID0+IChcbiAgICAgICAgICAgIDxNdWx0aXNlbGVjdC5PcHRpb24gbGFiZWw9e2l0ZW0ubGFiZWx9IHZhbHVlPXtpdGVtLnZhbHVlfSBrZXk9e2l0ZW0udmFsdWV9IC8+XG4gICAgICAgICkpO1xuICAgIH1cblxuICAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbb3B0aW9ucywgc2V0T3B0aW9uc10gPSB1c2VTdGF0ZShudWxsKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghZW5kcG9pbnRVcmwgJiYgaXRlbXMpIHtcbiAgICAgICAgICAgIHNldE9wdGlvbnMoZ2VuZXJhdGVPcHRpb25zKGl0ZW1zKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3VycmVudCA9IHRydWU7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IGF4aW9zLkNhbmNlbFRva2VuLnNvdXJjZSgpO1xuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3dcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgQ2FuY2VsVG9rZW46IHNvdXJjZS50b2tlbiwgaGFuZGxlRXJyb3I6IHRydWUgfTtcbiAgICAgICAgaWYgKHJlZmVyZW5jZU5hbWUpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuc2VydmljZU5hbWUgPSByZWZlcmVuY2VOYW1lO1xuICAgICAgICB9IGVsc2UgaWYgKGVuZHBvaW50VXJsKSB7XG4gICAgICAgICAgICBvcHRpb25zLmVuZHBvaW50VXJsID0gZW5kcG9pbnRVcmw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVwZW5kZW5jeVZhbHVlcykge1xuICAgICAgICAgICAgb3B0aW9ucy5wYXJhbXMgPSBkZXBlbmRlbmN5VmFsdWVzO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVwZW5kZW5jaWVzIHx8IGRlcGVuZGVuY3lWYWx1ZXMpIHtcbiAgICAgICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICBheGlvc0NhbGxXcmFwcGVyKG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRPcHRpb25zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlT3B0aW9ucyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyUmVzcG9uc2UocmVzcG9uc2UuZGF0YS5lbnRyeSwgbGFiZWxGaWVsZCwgYWxsb3dMaXN0LCBkZW55TGlzdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgc291cmNlLmNhbmNlbCgnT3BlcmF0aW9uIGNhbmNlbGVkLicpO1xuICAgICAgICAgICAgY3VycmVudCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgfSwgW2RlcGVuZGVuY3lWYWx1ZXNdKTtcblxuICAgIGNvbnN0IGVmZmVjdGl2ZURpc2FibGVkID0gbG9hZGluZyA/IHRydWUgOiBkaXNhYmxlZDtcbiAgICBjb25zdCBlZmZlY3RpdmVQbGFjZWhvbGRlciA9IGxvYWRpbmcgPyBnZXRGb3JtYXR0ZWRNZXNzYWdlKDExNSkgOiBwbGFjZWhvbGRlcjtcblxuICAgIGNvbnN0IHZhbHVlTGlzdCA9IHZhbHVlID8gdmFsdWUuc3BsaXQoZGVsaW1pdGVyKSA6IFtdO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPE11bHRpU2VsZWN0V3JhcHBlclxuICAgICAgICAgICAgdmFsdWVzPXt2YWx1ZUxpc3R9XG4gICAgICAgICAgICBlcnJvcj17ZXJyb3J9XG4gICAgICAgICAgICBuYW1lPXtmaWVsZH1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtlZmZlY3RpdmVQbGFjZWhvbGRlcn1cbiAgICAgICAgICAgIGRpc2FibGVkPXtlZmZlY3RpdmVEaXNhYmxlZH1cbiAgICAgICAgICAgIGFsbG93TmV3VmFsdWVzPXtjcmVhdGVTZWFyY2hDaG9pY2V9XG4gICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgaW5saW5lXG4gICAgICAgID5cbiAgICAgICAgICAgIHtvcHRpb25zICYmIG9wdGlvbnMubGVuZ3RoID4gMCAmJiBvcHRpb25zfVxuICAgICAgICA8L011bHRpU2VsZWN0V3JhcHBlcj5cbiAgICApO1xufVxuXG5NdWx0aUlucHV0Q29tcG9uZW50LnByb3BUeXBlcyA9IHtcbiAgICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgdmFsdWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgZXJyb3I6IFByb3BUeXBlcy5ib29sLFxuICAgIGhhbmRsZUNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBmaWVsZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBkZXBlbmRlbmN5VmFsdWVzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGNvbnRyb2xPcHRpb25zOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICBkZWxpbWl0ZXI6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBjcmVhdGVTZWFyY2hDaG9pY2U6IFByb3BUeXBlcy5ib29sLFxuICAgICAgICByZWZlcmVuY2VOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBkZXBlbmRlbmNpZXM6IFByb3BUeXBlcy5hcnJheSxcbiAgICAgICAgZW5kcG9pbnRVcmw6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGRlbnlMaXN0OiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBhbGxvd0xpc3Q6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGxhYmVsRmllbGQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGl0ZW1zOiBQcm9wVHlwZXMuYXJyYXlPZihcbiAgICAgICAgICAgIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgICAgICAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKSxcbiAgICB9KSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE11bHRpSW5wdXRDb21wb25lbnQ7XG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBTd2l0Y2ggZnJvbSAnQHNwbHVuay9yZWFjdC11aS9Td2l0Y2gnO1xuaW1wb3J0IHsgaXNGYWxzZSB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5cbmNsYXNzIENoZWNrQm94Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBoYW5kbGVDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnZhbHVlICYmICFpc0ZhbHNlKHRoaXMucHJvcHMudmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmhhbmRsZUNoYW5nZSh0aGlzLnByb3BzLmZpZWxkLCAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaGFuZGxlQ2hhbmdlKHRoaXMucHJvcHMuZmllbGQsIDEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxTd2l0Y2hcbiAgICAgICAgICAgICAgICBrZXk9e3RoaXMucHJvcHMuZmllbGR9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMuZmllbGR9XG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ9eyEodGhpcy5wcm9wcy52YWx1ZSA/IGlzRmFsc2UodGhpcy5wcm9wcy52YWx1ZSkgOiB0cnVlKX1cbiAgICAgICAgICAgICAgICBhcHBlYXJhbmNlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbkNoZWNrQm94Q29tcG9uZW50LnByb3BUeXBlcyA9IHtcbiAgICB2YWx1ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgICBoYW5kbGVDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgZmllbGQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2hlY2tCb3hDb21wb25lbnQ7XG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSYWRpb0JhciBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL1JhZGlvQmFyJztcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuXG5jb25zdCBSYWRpb0JhcldyYXBwZXIgPSBzdHlsZWQoUmFkaW9CYXIpYFxuICAgIHdpZHRoOiAzMjBweDtcbmA7XG5cbmNsYXNzIFJhZGlvQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBoYW5kbGVDaGFuZ2UgPSAoZSwgeyB2YWx1ZSB9KSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlQ2hhbmdlKHRoaXMucHJvcHMuZmllbGQsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFJhZGlvQmFyV3JhcHBlclxuICAgICAgICAgICAgICAgIGlubGluZVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy52YWx1ZX1cbiAgICAgICAgICAgICAgICBrZXk9e3RoaXMucHJvcHMuZmllbGR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY29udHJvbE9wdGlvbnMuaXRlbXMubWFwKChpdGVtKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxSYWRpb0Jhci5PcHRpb24ga2V5PXtpdGVtLnZhbHVlfSB2YWx1ZT17aXRlbS52YWx1ZX0gbGFiZWw9e2l0ZW0ubGFiZWx9IC8+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L1JhZGlvQmFyV3JhcHBlcj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblJhZGlvQ29tcG9uZW50LnByb3BUeXBlcyA9IHtcbiAgICB2YWx1ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBoYW5kbGVDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgZmllbGQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY29udHJvbE9wdGlvbnM6IFByb3BUeXBlcy5vYmplY3QsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBSYWRpb0NvbXBvbmVudDtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFN0YXRpY0NvbnRlbnQgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9TdGF0aWNDb250ZW50JztcblxuZnVuY3Rpb24gUGxhY2Vob2xkZXJDb21wb25lbnQocHJvcHMpIHtcbiAgICBjb25zdCB7IGRlZmF1bHRWYWx1ZSB9ID0gcHJvcHMuY29udHJvbE9wdGlvbnM7XG5cbiAgICByZXR1cm4gPFN0YXRpY0NvbnRlbnQ+e2RlZmF1bHRWYWx1ZX08L1N0YXRpY0NvbnRlbnQ+O1xufVxuXG5QbGFjZWhvbGRlckNvbXBvbmVudC5wcm9wVHlwZXMgPSB7XG4gICAgY29udHJvbE9wdGlvbnM6IFByb3BUeXBlcy5vYmplY3QsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBQbGFjZWhvbGRlckNvbXBvbmVudDtcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgXyB9IGZyb20gJ0BzcGx1bmsvdWktdXRpbHMvaTE4bic7XG5cbmltcG9ydCB7IGdldFVuaWZpZWRDb25maWdzIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCB7IGdldEJ1aWxkRGlyUGF0aCB9IGZyb20gJy4uL3V0aWwvc2NyaXB0JztcblxuY2xhc3MgQ3VzdG9tQ29udHJvbCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zaG91bGRSZW5kZXIgPSB0cnVlO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBjb25zdCBnbG9iYWxDb25maWcgPSBnZXRVbmlmaWVkQ29uZmlncygpO1xuICAgICAgICBjb25zdCBhcHBOYW1lID0gZ2xvYmFsQ29uZmlnLm1ldGEubmFtZTtcblxuICAgICAgICB0aGlzLmxvYWRDdXN0b21Db250cm9sKFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5jb250cm9sT3B0aW9ucy5zcmMsXG4gICAgICAgICAgICB0aGlzLnByb3BzLmNvbnRyb2xPcHRpb25zLnR5cGUsXG4gICAgICAgICAgICBhcHBOYW1lXG4gICAgICAgICkudGhlbigoQ29udHJvbCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tQ29udHJvbCA9IG5ldyBDb250cm9sKFxuICAgICAgICAgICAgICAgIGdsb2JhbENvbmZpZyxcbiAgICAgICAgICAgICAgICB0aGlzLmVsLFxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZGF0YSxcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZhbHVlLFxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudXRpbEN1c3RvbUZ1bmN0aW9uc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGN1c3RvbUNvbnRyb2wucmVuZGVyKCk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY3VzdG9tQ29udHJvbC52YWxpZGF0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5hZGRDdXN0b21WYWxpZGF0b3IodGhpcy5wcm9wcy5maWVsZCwgY3VzdG9tQ29udHJvbC52YWxpZGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgICAgIGlmICghbmV4dFN0YXRlLmxvYWRpbmcgJiYgdGhpcy5zaG91bGRSZW5kZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvdWxkUmVuZGVyID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbG9hZEN1c3RvbUNvbnRyb2wgPSAobW9kdWxlLCB0eXBlLCBhcHBOYW1lKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdleHRlcm5hbCcpIHtcbiAgICAgICAgICAgICAgICBpbXBvcnQoLyogd2VicGFja0lnbm9yZTogdHJ1ZSAqLyBgJHtnZXRCdWlsZERpclBhdGgoKX0vY3VzdG9tLyR7bW9kdWxlfS5qc2ApLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgIChleHRlcm5hbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgQ29udHJvbCA9IGV4dGVybmFsLmRlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKENvbnRyb2wpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX19ub25fd2VicGFja19yZXF1aXJlX18oW2BhcHAvJHthcHBOYW1lfS9qcy9idWlsZC9jdXN0b20vJHttb2R1bGV9YF0sIChDb250cm9sKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoQ29udHJvbCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBzZXRWYWx1ZSA9IChuZXdWYWx1ZSkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLmhhbmRsZUNoYW5nZSh0aGlzLnByb3BzLmZpZWxkLCBuZXdWYWx1ZSk7XG4gICAgfTtcblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUubG9hZGluZyAmJiBfKCdMb2FkaW5nLi4uJyl9XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICA8c3BhbiAvLyBub3NlbWdyZXA6IHR5cGVzY3JpcHQucmVhY3Quc2VjdXJpdHkuYXVkaXQucmVhY3Qtbm8tcmVmcy5yZWFjdC1uby1yZWZzXG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9eyhlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWwgPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB2aXNpYmlsaXR5OiB0aGlzLnN0YXRlLmxvYWRpbmcgPyAnaGlkZGVuJyA6ICd2aXNpYmxlJyB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuQ3VzdG9tQ29udHJvbC5wcm9wVHlwZXMgPSB7XG4gICAgZGF0YTogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBmaWVsZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBoYW5kbGVDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICAgIGNvbnRyb2xPcHRpb25zOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGFkZEN1c3RvbVZhbGlkYXRvcjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgdXRpbEN1c3RvbUZ1bmN0aW9uczogUHJvcFR5cGVzLm9iamVjdCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEN1c3RvbUNvbnRyb2w7XG4iLCJpbXBvcnQgSGVscExpbmtDb21wb25lbnQgZnJvbSAnLi4vY29tcG9uZW50cy9IZWxwTGlua0NvbXBvbmVudCc7XG5pbXBvcnQgVGV4dENvbXBvbmVudCBmcm9tICcuLi9jb21wb25lbnRzL1RleHRDb21wb25lbnQnO1xuaW1wb3J0IFNpbmdsZUlucHV0Q29tcG9uZW50IGZyb20gJy4uL2NvbXBvbmVudHMvU2luZ2xlSW5wdXRDb21wb25lbnQnO1xuaW1wb3J0IE11bHRpSW5wdXRDb21wb25lbnQgZnJvbSAnLi4vY29tcG9uZW50cy9NdWx0aUlucHV0Q29tcG9uZW50JztcbmltcG9ydCBDaGVja0JveENvbXBvbmVudCBmcm9tICcuLi9jb21wb25lbnRzL0NoZWNrQm94Q29tcG9uZW50JztcbmltcG9ydCBSYWRpb0NvbXBvbmVudCBmcm9tICcuLi9jb21wb25lbnRzL1JhZGlvQ29tcG9uZW50JztcbmltcG9ydCBQbGFjZWhvbGRlckNvbXBvbmVudCBmcm9tICcuLi9jb21wb25lbnRzL1BsYWNlaG9sZGVyQ29tcG9uZW50JztcbmltcG9ydCBDdXN0b21Db250cm9sIGZyb20gJy4uL2NvbXBvbmVudHMvQ3VzdG9tQ29udHJvbCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICB0ZXh0OiBUZXh0Q29tcG9uZW50LFxuICAgIHNpbmdsZVNlbGVjdDogU2luZ2xlSW5wdXRDb21wb25lbnQsXG4gICAgaGVscExpbms6IEhlbHBMaW5rQ29tcG9uZW50LFxuICAgIG11bHRpcGxlU2VsZWN0OiBNdWx0aUlucHV0Q29tcG9uZW50LFxuICAgIGNoZWNrYm94OiBDaGVja0JveENvbXBvbmVudCxcbiAgICByYWRpbzogUmFkaW9Db21wb25lbnQsXG4gICAgcGxhY2Vob2xkZXI6IFBsYWNlaG9sZGVyQ29tcG9uZW50LFxuICAgIGN1c3RvbTogQ3VzdG9tQ29udHJvbCxcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBDb250cm9sR3JvdXAgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9Db250cm9sR3JvdXAnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5cbmltcG9ydCBNYXJrZG93bk1lc3NhZ2UgZnJvbSAnLi9NYXJrZG93bk1lc3NhZ2UnO1xuaW1wb3J0IENPTlRST0xfVFlQRV9NQVAgZnJvbSAnLi4vY29uc3RhbnRzL0NvbnRyb2xUeXBlTWFwJztcblxuY29uc3QgQ3VzdG9tRWxlbWVudCA9IHN0eWxlZC5kaXZgXG4gICAgbWFyZ2luLWxlZnQ6IDMwcHg7XG5gO1xuXG5jb25zdCBDb250cm9sR3JvdXBXcmFwcGVyID0gc3R5bGVkKENvbnRyb2xHcm91cCkuYXR0cnMoKHByb3BzKSA9PiAoe1xuICAgICdkYXRhLW5hbWUnOiBwcm9wcy5kYXRhTmFtZSxcbn0pKWBcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG5cbiAgICA+ICoge1xuICAgICAgICAmOmZpcnN0LWNoaWxkIHtcbiAgICAgICAgICAgIHdpZHRoOiAyNDBweCAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICAgICY6bnRoLWNoaWxkKDMpIHtcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAyNzBweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgd2lkdGg6IDMyMHB4O1xuICAgICAgICB9XG4gICAgfVxuYDtcblxuY2xhc3MgQ29udHJvbFdyYXBwZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuY29udHJvbFR5cGUgPSB0aGlzLmlzU3RyaW5nKHByb3BzLmVudGl0eS50eXBlKVxuICAgICAgICAgICAgPyBDT05UUk9MX1RZUEVfTUFQW3Byb3BzLmVudGl0eS50eXBlXVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAvLyBBZGQgJ29wdGlvbmFsJyBwbGFjZWhvbGRlciBmb3Igb3B0aW9uYWwgZmllbGRcbiAgICAgICAgLy8gTm90ZTogZm9yIG9hdXRoIGZpZWxkIGl0IGlzIHBvc3NpYmxlIHJlcXVpcmVkIGlzIGZhbHNlIGJ1dCB0aGUgZmllbGQgaXMgYWN0dWFsbHkgcmVxdWlyZWRcbiAgICAgICAgLy8gYmFzZWQgb24gd2hhdCB0eXBlIG9mIGF1dGhlbnRpY2F0aW9uIGlzIHNlbGVjdGVkXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHRoaXMucHJvcHMuZW50aXR5Lm9wdGlvbnM7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICF0aGlzLnByb3BzLmVudGl0eS5yZXF1aXJlZCAmJlxuICAgICAgICAgICAgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnByb3BzLmVudGl0eSwgJ29hdXRoX2ZpZWxkJykgJiZcbiAgICAgICAgICAgICF0aGlzLm9wdGlvbnM/LnBsYWNlaG9sZGVyXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ29wdGlvbmFsJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc1N0cmluZyA9IChzdHIpID0+IHtcbiAgICAgICAgcmV0dXJuICEhKHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnIHx8IHN0ciBpbnN0YW5jZW9mIFN0cmluZyk7XG4gICAgfTtcblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBmaWVsZCwgdHlwZSwgbGFiZWwsIHRvb2x0aXAsIGhlbHAsIGVuY3J5cHRlZCA9IGZhbHNlIH0gPSB0aGlzLnByb3BzLmVudGl0eTtcbiAgICAgICAgY29uc3QgeyBoYW5kbGVDaGFuZ2UsIGFkZEN1c3RvbVZhbGlkYXRvciwgdXRpbEN1c3RvbUZ1bmN0aW9ucyB9ID0gdGhpcy5wcm9wcy51dGlsaXR5RnVuY3RzO1xuICAgICAgICAvLyBXZSBoYXZlIHRvIHB1dCBlbXB0eSBvYmplY3QgYmVjYXVzZSBtYXJrRG93bk1lc3NhZ2UgcHJvcCBjYW4gYmUgdW5kZWZpbmVkXG4gICAgICAgIC8vIGJlY2F1c2Ugd2UgYXJlIG5vdCBleHBsaWNpdGx5IHNldHRpbmcgaXQgYnV0IGV4cGVjdGluZyBpdCBmcm9tIGN1c3RvbSBob29rcyBvbmx5LlxuICAgICAgICBjb25zdCB7IHRleHQsIGxpbmssIGNvbG9yLCBtYXJrZG93blR5cGUsIHRva2VuLCBsaW5rVGV4dCB9ID1cbiAgICAgICAgICAgIHRoaXMucHJvcHMubWFya2Rvd25NZXNzYWdlIHx8IHt9O1xuICAgICAgICBsZXQgcm93VmlldztcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuZW50aXR5LnR5cGUgPT09ICdjdXN0b20nKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnByb3BzLnZhbHVlLFxuICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMucHJvcHMubW9kZSxcbiAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZTogdGhpcy5wcm9wcy5zZXJ2aWNlTmFtZSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJvd1ZpZXcgPSB0aGlzLmNvbnRyb2xUeXBlXG4gICAgICAgICAgICAgICAgPyBSZWFjdC5jcmVhdGVFbGVtZW50KHRoaXMuY29udHJvbFR5cGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICBhZGRDdXN0b21WYWxpZGF0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgdXRpbEN1c3RvbUZ1bmN0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sT3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICA6IGBObyBWaWV3IEZvdW5kIGZvciAke3R5cGV9IHR5cGVgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcm93VmlldyA9IHRoaXMuY29udHJvbFR5cGVcbiAgICAgICAgICAgICAgICA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQodGhpcy5jb250cm9sVHlwZSwge1xuICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5wcm9wcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sT3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiB0aGlzLnByb3BzLmVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0aGlzLnByb3BzLmRpc2FibGVkLFxuICAgICAgICAgICAgICAgICAgICAgIGVuY3J5cHRlZCxcbiAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmN5VmFsdWVzOiB0aGlzLnByb3BzLmRlcGVuZGVuY3lWYWx1ZXMsXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIDogYE5vIFZpZXcgRm91bmQgZm9yICR7dHlwZX0gdHlwZWA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoZWxwVGV4dCA9IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPE1hcmtkb3duTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICB0ZXh0PXt0ZXh0IHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICBsaW5rPXtsaW5rIHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICBjb2xvcj17Y29sb3IgfHwgJyd9XG4gICAgICAgICAgICAgICAgICAgIG1hcmtkb3duVHlwZT17bWFya2Rvd25UeXBlIHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICB0b2tlbj17dG9rZW4gfHwgJyd9XG4gICAgICAgICAgICAgICAgICAgIGxpbmtUZXh0PXtsaW5rVGV4dCB8fCAnJ31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIHtoZWxwfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZGlzcGxheSAmJiAoXG4gICAgICAgICAgICAgICAgPENvbnRyb2xHcm91cFdyYXBwZXJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2xhYmVsfVxuICAgICAgICAgICAgICAgICAgICBoZWxwPXtoZWxwVGV4dH1cbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcD17dG9vbHRpcH1cbiAgICAgICAgICAgICAgICAgICAgZXJyb3I9e3RoaXMucHJvcHMuZXJyb3J9XG4gICAgICAgICAgICAgICAgICAgIGRhdGFOYW1lPXtmaWVsZH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxDdXN0b21FbGVtZW50Pntyb3dWaWV3fTwvQ3VzdG9tRWxlbWVudD5cbiAgICAgICAgICAgICAgICA8L0NvbnRyb2xHcm91cFdyYXBwZXI+XG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5Db250cm9sV3JhcHBlci5wcm9wVHlwZXMgPSB7XG4gICAgbW9kZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB1dGlsaXR5RnVuY3RzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIHZhbHVlOiBQcm9wVHlwZXMuYW55LFxuICAgIGRpc3BsYXk6IFByb3BUeXBlcy5ib29sLFxuICAgIGVycm9yOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBlbnRpdHk6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgIG1hcmtkb3duTWVzc2FnZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBzZXJ2aWNlTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBkZXBlbmRlbmN5VmFsdWVzOiBQcm9wVHlwZXMub2JqZWN0LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbFdyYXBwZXI7XG4iLCJpbXBvcnQgeyBnZXRGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAnLi4vdXRpbC9tZXNzYWdlVXRpbCc7XG5cbi8vIFJlZ2V4IG9mIGlwdjQsIGVtYWlsIGFuZCBkYXRlIGNvbWUgZnJvbVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2FsZGVlZC9tZXRlb3Itc2ltcGxlLXNjaGVtYS9ibG9iLzRjMWUyNTcwYjEwNTVhZDYwZTFlNjU0MDU4MmI4ODJmNzY1ZmRlMTMvc2ltcGxlLXNjaGVtYS5qcyNMNTI1XG5leHBvcnQgY29uc3QgUkVHRVhfSVBWNCA9IC9eKD86KD86WzAtMV0/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pKD86XFwufCQpKXs0fSQvO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbmV4cG9ydCBjb25zdCBSRUdFWF9FTUFJTCA9IC9eW2EtekEtWjAtOS4hIyQlJicqK1xcLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiQvO1xuXG4vLyBDb2RlUUw6IFRoaXMgUmVnZXggd2lsbCBiZSBleGVjdXRlZCBhdCBjbGllbnQgc2lkZSBhbmQgdG8gYXZvaWQgcmVncmVzc2lvbiB3ZSB3b24ndCBmaXguXG5leHBvcnQgY29uc3QgUkVHRVhfVVJMID0gL14oPzooPzpodHRwcz98ZnRwfG9wY1xcLnRjcCk6XFwvXFwvKT8oPzpcXFMrKD86OlxcUyopP0ApPyg/Oig/OlsxLTldXFxkP3wxXFxkXFxkfDJbMDFdXFxkfDIyWzAtM10pKD86XFwuKD86MT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkpezJ9KD86XFwuKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNF0pKXwoPzooPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSstP18/KSpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSspKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rLT8pKlthLXpcXHUwMGExLVxcdWZmZmYwLTldKykqKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZl17Mix9KSk/KSg/OjpcXGR7Miw1fSk/KD86XFwvW15cXHNdKik/JC87XG5cbi8vIEZyb20gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvYmxvYi8yLjE3LjEvbW9tZW50LmpzI0wxOTgwIG1vbWVudC5qcyBpcyB1c2luZyByZWdleCBiZWxvdyBmb3IgY2hlY2tpbmcgSVNPODYwMSBkYXRlIHN0cmluZ1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG5leHBvcnQgY29uc3QgUkVHRVhfREFURSA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSktKD86XFxkXFxkLVxcZFxcZHxXXFxkXFxkLVxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGQpKSg/OihUfCApKFxcZFxcZCg/OjpcXGRcXGQoPzo6XFxkXFxkKD86Wy4sXVxcZCspPyk/KT8pKFtcXCtcXC1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8kLztcblxuZXhwb3J0IGNvbnN0IFBSRURFRklORURfVkFMSURBVE9SU19ESUNUID0ge1xuICAgIHVybDogeyByZWdleDogUkVHRVhfVVJMLCBpbnB1dFZhbHVlVHlwZTogZ2V0Rm9ybWF0dGVkTWVzc2FnZSgxMTEpIH0sXG4gICAgZW1haWw6IHsgcmVnZXg6IFJFR0VYX0VNQUlMLCBpbnB1dFZhbHVlVHlwZTogZ2V0Rm9ybWF0dGVkTWVzc2FnZSgxMTIpIH0sXG4gICAgaXB2NDogeyByZWdleDogUkVHRVhfSVBWNCwgaW5wdXRWYWx1ZVR5cGU6IGdldEZvcm1hdHRlZE1lc3NhZ2UoMTEzKSB9LFxuICAgIGRhdGU6IHsgcmVnZXg6IFJFR0VYX0RBVEUsIGlucHV0VmFsdWVUeXBlOiBnZXRGb3JtYXR0ZWRNZXNzYWdlKDExNCkgfSxcbn07XG4iLCJpbXBvcnQgeyBQUkVERUZJTkVEX1ZBTElEQVRPUlNfRElDVCB9IGZyb20gJy4uL2NvbnN0YW50cy9wcmVEZWZpbmVkUmVnZXgnO1xuaW1wb3J0IHsgZ2V0Rm9ybWF0dGVkTWVzc2FnZSB9IGZyb20gJy4vbWVzc2FnZVV0aWwnO1xuaW1wb3J0IHtcbiAgICBwYXJzZU51bWJlclZhbGlkYXRvcixcbiAgICBwYXJzZVJlZ2V4UmF3U3RyLFxuICAgIHBhcnNlU3RyaW5nVmFsaWRhdG9yLFxuICAgIHBhcnNlRnVuY3Rpb25SYXdTdHIsXG59IGZyb20gJy4vdWNjQ29uZmlndXJhdGlvblZhbGlkYXRvcnMnO1xuXG4vLyBWYWxpZGF0ZSBwcm92aWRlZCBzYXZlVmFsaWRhdG9yIGZ1bmN0aW9uXG5leHBvcnQgZnVuY3Rpb24gU2F2ZVZhbGlkYXRvcih2YWxpZGF0b3JGdW5jLCBmb3JtRGF0YSkge1xuICAgIGNvbnN0IHsgZXJyb3IsIHJlc3VsdCB9ID0gcGFyc2VGdW5jdGlvblJhd1N0cih2YWxpZGF0b3JGdW5jKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHsgZXJyb3JNc2c6IGVycm9yIH07XG4gICAgfVxuICAgIGNvbnN0IHJldCA9IHJlc3VsdChmb3JtRGF0YSk7XG4gICAgaWYgKHR5cGVvZiByZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB7IGVycm9yTXNnOiByZXQgfTtcbiAgICB9XG59XG5cbmNsYXNzIFZhbGlkYXRvciB7XG4gICAgY29uc3RydWN0b3IoZW50aXRpZXMpIHtcbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IGVudGl0aWVzO1xuICAgICAgICB0aGlzLmlzTmFtZSA9IGVudGl0aWVzLmZpbmQoKGUpID0+IGUuZmllbGQgPT09ICduYW1lJyk7XG4gICAgfVxuXG4gICAgY2hlY2tJc0ZpZWxkSGFzSW5wdXQgPSAoYXR0clZhbHVlKSA9PiB7XG4gICAgICAgIHJldHVybiBhdHRyVmFsdWUgIT09IHVuZGVmaW5lZCAmJiBhdHRyVmFsdWUgIT09ICcnICYmIGF0dHJWYWx1ZSAhPT0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gVmFsaWRhdGUgdGhlIHJlcXVpcmVkIGZpZWxkIGhhcyB2YWx1ZVxuICAgIFJlcXVpcmVkVmFsaWRhdG9yKGZpZWxkLCBsYWJlbCwgZGF0YSkge1xuICAgICAgICBpZiAoIXRoaXMuY2hlY2tJc0ZpZWxkSGFzSW5wdXQoZGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGVycm9yRmllbGQ6IGZpZWxkLCBlcnJvck1zZzogZ2V0Rm9ybWF0dGVkTWVzc2FnZSg2LCBbbGFiZWxdKSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSB0aGUgc3RyaW5nIGxlbmd0aCBvZiBmaWVsZFxuICAgIFN0cmluZ1ZhbGlkYXRvcihmaWVsZCwgbGFiZWwsIHZhbGlkYXRvciwgZGF0YSkge1xuICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBwYXJzZVN0cmluZ1ZhbGlkYXRvcih2YWxpZGF0b3IubWluTGVuZ3RoLCB2YWxpZGF0b3IubWF4TGVuZ3RoKTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4geyBlcnJvckZpZWxkOiBmaWVsZCwgZXJyb3JNc2c6IGVycm9yIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tJc0ZpZWxkSGFzSW5wdXQoZGF0YSkgJiYgZGF0YS5sZW5ndGggPiB2YWxpZGF0b3IubWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGVycm9yRmllbGQ6IGZpZWxkLFxuICAgICAgICAgICAgICAgIGVycm9yTXNnOiB2YWxpZGF0b3IuZXJyb3JNc2dcbiAgICAgICAgICAgICAgICAgICAgPyB2YWxpZGF0b3IuZXJyb3JNc2dcbiAgICAgICAgICAgICAgICAgICAgOiBnZXRGb3JtYXR0ZWRNZXNzYWdlKDE4LCBbbGFiZWwsIHZhbGlkYXRvci5tYXhMZW5ndGhdKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tJc0ZpZWxkSGFzSW5wdXQoZGF0YSkgJiYgZGF0YS5sZW5ndGggPCB2YWxpZGF0b3IubWluTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGVycm9yRmllbGQ6IGZpZWxkLFxuICAgICAgICAgICAgICAgIGVycm9yTXNnOiB2YWxpZGF0b3IuZXJyb3JNc2dcbiAgICAgICAgICAgICAgICAgICAgPyB2YWxpZGF0b3IuZXJyb3JNc2dcbiAgICAgICAgICAgICAgICAgICAgOiBnZXRGb3JtYXR0ZWRNZXNzYWdlKDE3LCBbbGFiZWwsIHZhbGlkYXRvci5taW5MZW5ndGhdKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHRoZSBmaWVsZCBzaG91bGQgbWF0Y2ggdGhlIHByb3ZpZGVkIFJlZ2V4XG4gICAgUmVnZXhWYWxpZGF0b3IoZmllbGQsIGxhYmVsLCB2YWxpZGF0b3IsIGRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBlcnJvciwgcmVzdWx0OiByZWdleCB9ID0gcGFyc2VSZWdleFJhd1N0cih2YWxpZGF0b3IucGF0dGVybik7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3JGaWVsZDogZmllbGQsIGVycm9yTXNnOiBlcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoZWNrSXNGaWVsZEhhc0lucHV0KGRhdGEpICYmICFyZWdleC50ZXN0KGRhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGVycm9yRmllbGQ6IGZpZWxkLFxuICAgICAgICAgICAgICAgIGVycm9yTXNnOiB2YWxpZGF0b3IuZXJyb3JNc2dcbiAgICAgICAgICAgICAgICAgICAgPyB2YWxpZGF0b3IuZXJyb3JNc2dcbiAgICAgICAgICAgICAgICAgICAgOiBnZXRGb3JtYXR0ZWRNZXNzYWdlKDE1LCBbbGFiZWwsIHZhbGlkYXRvci5wYXR0ZXJuXSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSB0aGUgY3VzdG9tIGNvbXBvbmVudFxuICAgIHN0YXRpYyBDdXN0b21WYWxpZGF0b3IodmFsaWRhdG9yRnVuYywgZmllbGQsIGRhdGEpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gdmFsaWRhdG9yRnVuYyhmaWVsZCwgZGF0YSk7XG4gICAgICAgIGlmICh0eXBlb2YgcmV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3JGaWVsZDogZmllbGQsIGVycm9yTXNnOiByZXQgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgdGhlIGZpZWxkIHNob3VsZCBtYXRjaCBwcmVkZWZpbmVkIFJlZ2V4ZXNcbiAgICBQcmVEZWZpbmVkUmVnZXhWYWxpZGF0b3IoZmllbGQsIGxhYmVsLCB2YWxpZGF0b3IsIGRhdGEsIHBhdHRlcm4sIGlucHV0VmFsdWVUeXBlKSB7XG4gICAgICAgIGNvbnN0IHsgZXJyb3IsIHJlc3VsdDogcmVnZXggfSA9IHBhcnNlUmVnZXhSYXdTdHIocGF0dGVybik7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3JGaWVsZDogZmllbGQsIGVycm9yTXNnOiBlcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoZWNrSXNGaWVsZEhhc0lucHV0KGRhdGEpICYmICFyZWdleC50ZXN0KGRhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGVycm9yRmllbGQ6IGZpZWxkLFxuICAgICAgICAgICAgICAgIGVycm9yTXNnOiB2YWxpZGF0b3IuZXJyb3JNc2dcbiAgICAgICAgICAgICAgICAgICAgPyB2YWxpZGF0b3IuZXJyb3JNc2dcbiAgICAgICAgICAgICAgICAgICAgOiBnZXRGb3JtYXR0ZWRNZXNzYWdlKDE5LCBbbGFiZWwsIGlucHV0VmFsdWVUeXBlXSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSB0aGUgcmFuZ2Ugb2YgbnVtZXJpYyBmaWVsZFxuICAgIE51bWJlclZhbGlkYXRvcihmaWVsZCwgbGFiZWwsIHZhbGlkYXRvciwgZGF0YSkge1xuICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBwYXJzZU51bWJlclZhbGlkYXRvcih2YWxpZGF0b3IucmFuZ2UpO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGVycm9yRmllbGQ6IGZpZWxkLCBlcnJvck1zZzogZXJyb3IgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZhbCA9IE51bWJlcihkYXRhKTtcbiAgICAgICAgaWYgKE51bWJlci5pc05hTih2YWwpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGVycm9yRmllbGQ6IGZpZWxkLFxuICAgICAgICAgICAgICAgIGVycm9yTXNnOiB2YWxpZGF0b3IuZXJyb3JNc2dcbiAgICAgICAgICAgICAgICAgICAgPyB2YWxpZGF0b3IuZXJyb3JNc2dcbiAgICAgICAgICAgICAgICAgICAgOiBnZXRGb3JtYXR0ZWRNZXNzYWdlKDE2LCBbbGFiZWxdKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgKHRoaXMuY2hlY2tJc0ZpZWxkSGFzSW5wdXQoZGF0YSkgJiYgdmFsID4gdmFsaWRhdG9yLnJhbmdlWzFdKSB8fFxuICAgICAgICAgICAgdmFsIDwgdmFsaWRhdG9yLnJhbmdlWzBdXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBlcnJvckZpZWxkOiBmaWVsZCxcbiAgICAgICAgICAgICAgICBlcnJvck1zZzogdmFsaWRhdG9yLmVycm9yTXNnXG4gICAgICAgICAgICAgICAgICAgID8gdmFsaWRhdG9yLmVycm9yTXNnXG4gICAgICAgICAgICAgICAgICAgIDogZ2V0Rm9ybWF0dGVkTWVzc2FnZSg4LCBbbGFiZWwsIHZhbGlkYXRvci5yYW5nZVswXSwgdmFsaWRhdG9yLnJhbmdlWzFdXSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBkb1ZhbGlkYXRpb24oZGF0YSkge1xuICAgICAgICBpZiAodGhpcy5pc05hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldFZhbHVlID0gZGF0YS5uYW1lO1xuICAgICAgICAgICAgY29uc3QgbmFtZUZpZWxkTGFiZWwgPSB0aGlzLmlzTmFtZS5sYWJlbDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdGFyZ2V0VmFsdWUgPT09ICcnIHx8IHRhcmdldFZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBlcnJvckZpZWxkOiAnbmFtZScsIGVycm9yTXNnOiBnZXRGb3JtYXR0ZWRNZXNzYWdlKDAsIFtuYW1lRmllbGRMYWJlbF0pIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoISh0eXBlb2YgdGFyZ2V0VmFsdWUgPT09ICdzdHJpbmcnIHx8IHRhcmdldFZhbHVlIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGVycm9yRmllbGQ6ICduYW1lJywgZXJyb3JNc2c6IGdldEZvcm1hdHRlZE1lc3NhZ2UoMSwgW25hbWVGaWVsZExhYmVsXSkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0YXJnZXRWYWx1ZS5zdGFydHNXaXRoKCdfJykgfHxcbiAgICAgICAgICAgICAgICB0YXJnZXRWYWx1ZSA9PT0gJy4nIHx8XG4gICAgICAgICAgICAgICAgdGFyZ2V0VmFsdWUgPT09ICcuLicgfHxcbiAgICAgICAgICAgICAgICB0YXJnZXRWYWx1ZS50b0xvd2VyQ2FzZSgpID09PSAnZGVmYXVsdCdcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGVycm9yRmllbGQ6ICduYW1lJywgZXJyb3JNc2c6IGdldEZvcm1hdHRlZE1lc3NhZ2UoMywgW25hbWVGaWVsZExhYmVsXSkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlZ2V4TWV0YUNoYXJhY3RlcnMgPSBbJyonLCAnXFxcXCcsICdbJywgJ10nLCAnKCcsICcpJywgJz8nLCAnOiddO1xuICAgICAgICAgICAgaWYgKHJlZ2V4TWV0YUNoYXJhY3RlcnMuc29tZSgoZCkgPT4gdGFyZ2V0VmFsdWUuaW5kZXhPZihkKSA+IC0xKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGVycm9yRmllbGQ6ICduYW1lJywgZXJyb3JNc2c6IGdldEZvcm1hdHRlZE1lc3NhZ2UoMywgW25hbWVGaWVsZExhYmVsXSkgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRhcmdldFZhbHVlLmxlbmd0aCA+PSAxMDI0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3JGaWVsZDogJ25hbWUnLCBlcnJvck1zZzogZ2V0Rm9ybWF0dGVkTWVzc2FnZSgyMiwgW25hbWVGaWVsZExhYmVsXSkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXQ7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBsZXQgajtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5lbnRpdGllcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZW50aXRpZXNbaV0ucmVxdWlyZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXQgPSB0aGlzLlJlcXVpcmVkVmFsaWRhdG9yKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLmZpZWxkLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICBkYXRhW3RoaXMuZW50aXRpZXNbaV0uZmllbGRdXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGFbdGhpcy5lbnRpdGllc1tpXS5maWVsZF0gPT09ICcnIHx8IGRhdGFbdGhpcy5lbnRpdGllc1tpXS5maWVsZF0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmVudGl0aWVzW2ldLnZhbGlkYXRvcnMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgdGhpcy5lbnRpdGllc1tpXS52YWxpZGF0b3JzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5lbnRpdGllc1tpXS52YWxpZGF0b3JzW2pdLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5TdHJpbmdWYWxpZGF0b3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNbaV0uZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNbaV0ubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNbaV0udmFsaWRhdG9yc1tqXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVt0aGlzLmVudGl0aWVzW2ldLmZpZWxkXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlZ2V4JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQgPSB0aGlzLlJlZ2V4VmFsaWRhdG9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLmZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLnZhbGlkYXRvcnNbal0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbdGhpcy5lbnRpdGllc1tpXS5maWVsZF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHRoaXMuTnVtYmVyVmFsaWRhdG9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLmZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLnZhbGlkYXRvcnNbal0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbdGhpcy5lbnRpdGllc1tpXS5maWVsZF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd1cmwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHRoaXMuUHJlRGVmaW5lZFJlZ2V4VmFsaWRhdG9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLmZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLnZhbGlkYXRvcnNbal0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbdGhpcy5lbnRpdGllc1tpXS5maWVsZF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBSRURFRklORURfVkFMSURBVE9SU19ESUNULnVybC5yZWdleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJFREVGSU5FRF9WQUxJREFUT1JTX0RJQ1QudXJsLmlucHV0VmFsdWVUeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5QcmVEZWZpbmVkUmVnZXhWYWxpZGF0b3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNbaV0uZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNbaV0ubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNbaV0udmFsaWRhdG9yc1tqXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVt0aGlzLmVudGl0aWVzW2ldLmZpZWxkXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJFREVGSU5FRF9WQUxJREFUT1JTX0RJQ1QuZGF0ZS5yZWdleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJFREVGSU5FRF9WQUxJREFUT1JTX0RJQ1QuZGF0ZS5pbnB1dFZhbHVlVHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQgPSB0aGlzLlByZURlZmluZWRSZWdleFZhbGlkYXRvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllc1tpXS5maWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllc1tpXS5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllc1tpXS52YWxpZGF0b3JzW2pdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW3RoaXMuZW50aXRpZXNbaV0uZmllbGRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUkVERUZJTkVEX1ZBTElEQVRPUlNfRElDVC5lbWFpbC5yZWdleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJFREVGSU5FRF9WQUxJREFUT1JTX0RJQ1QuZW1haWwuaW5wdXRWYWx1ZVR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdpcHY0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQgPSB0aGlzLlByZURlZmluZWRSZWdleFZhbGlkYXRvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllc1tpXS5maWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllc1tpXS5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllc1tpXS52YWxpZGF0b3JzW2pdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW3RoaXMuZW50aXRpZXNbaV0uZmllbGRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUkVERUZJTkVEX1ZBTElEQVRPUlNfRElDVC5pcHY0LnJlZ2V4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUkVERUZJTkVEX1ZBTElEQVRPUlNfRElDVC5pcHY0LmlucHV0VmFsdWVUeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY3VzdG9tJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQgPSBWYWxpZGF0b3IuQ3VzdG9tVmFsaWRhdG9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLnZhbGlkYXRvcnNbal0udmFsaWRhdG9yRnVuYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllc1tpXS5maWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVt0aGlzLmVudGl0aWVzW2ldLmZpZWxkXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmFsaWRhdG9yO1xuIiwiaW1wb3J0IFJlYWN0LCB7IFB1cmVDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHVwZGF0ZSBmcm9tICdpbW11dGFiaWxpdHktaGVscGVyJztcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuXG5pbXBvcnQgQ29sbGFwc2libGVQYW5lbCBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL0NvbGxhcHNpYmxlUGFuZWwnO1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9NZXNzYWdlJztcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuXG5pbXBvcnQgQ29udHJvbFdyYXBwZXIgZnJvbSAnLi9Db250cm9sV3JhcHBlcic7XG5pbXBvcnQgVmFsaWRhdG9yLCB7IFNhdmVWYWxpZGF0b3IgfSBmcm9tICcuLi91dGlsL1ZhbGlkYXRvcic7XG5pbXBvcnQgeyBnZXRVbmlmaWVkQ29uZmlncywgZ2VuZXJhdGVUb2FzdCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyBNT0RFX0NMT05FLCBNT0RFX0NSRUFURSwgTU9ERV9FRElULCBNT0RFX0NPTkZJRyB9IGZyb20gJy4uL2NvbnN0YW50cy9tb2Rlcyc7XG5pbXBvcnQgeyBQQUdFX0lOUFVULCBQQUdFX0NPTkYgfSBmcm9tICcuLi9jb25zdGFudHMvcGFnZXMnO1xuaW1wb3J0IHsgYXhpb3NDYWxsV3JhcHBlciB9IGZyb20gJy4uL3V0aWwvYXhpb3NDYWxsV3JhcHBlcic7XG5pbXBvcnQgeyBwYXJzZUVycm9yTXNnLCBnZXRGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAnLi4vdXRpbC9tZXNzYWdlVXRpbCc7XG5pbXBvcnQgeyBnZXRCdWlsZERpclBhdGggfSBmcm9tICcuLi91dGlsL3NjcmlwdCc7XG5cbmltcG9ydCB7XG4gICAgRVJST1JfUkVRVUVTVF9USU1FT1VUX1RSWV9BR0FJTixcbiAgICBFUlJPUl9SRVFVRVNUX1RJTUVPVVRfQUNDRVNTX1RPS0VOX1RSWV9BR0FJTixcbiAgICBFUlJPUl9PQ0NVUlJFRF9UUllfQUdBSU4sXG4gICAgRVJST1JfQVVUSF9QUk9DRVNTX1RFUk1JTkFURURfVFJZX0FHQUlOLFxuICAgIEVSUk9SX1NUQVRFX01JU1NJTkdfVFJZX0FHQUlOLFxufSBmcm9tICcuLi9jb25zdGFudHMvb0F1dGhFcnJvck1lc3NhZ2UnO1xuaW1wb3J0IFRhYmxlQ29udGV4dCBmcm9tICcuLi9jb250ZXh0L1RhYmxlQ29udGV4dCc7XG5cbmNvbnN0IENvbGxhcHNpYmxlUGFuZWxXcmFwcGVyID0gc3R5bGVkKENvbGxhcHNpYmxlUGFuZWwpYFxuICAgIHNwYW4ge1xuICAgICAgICBidXR0b24ge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgICAgICBtYXJnaW46IDEwcHggMDtcblxuICAgICAgICAgICAgJjpob3Zlcjpub3QoW2Rpc2FibGVkXSksXG4gICAgICAgICAgICAmOmZvY3VzOm5vdChbZGlzYWJsZWRdKSxcbiAgICAgICAgICAgICY6YWN0aXZlOm5vdChbZGlzYWJsZWRdKSB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgICAgICAgYm94LXNoYWRvdzogbm9uZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC5jb2xsYXBzaWJsZS1lbGVtZW50IHtcbiAgICAgICAgcGFkZGluZy10b3A6IDE1cHg7XG4gICAgfVxuYDtcblxuY29uc3QgQ3VzdG9tR3JvdXBMYWJlbCA9IHN0eWxlZC5kaXZgXG4gICAgcGFkZGluZzogNnB4IDEwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjRmNTtcbmA7XG5cbmNsYXNzIEJhc2VGb3JtVmlldyBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBjb250ZXh0VHlwZSA9IFRhYmxlQ29udGV4dDtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgLy8gZmxhZyBmb3IgdG8gcmVuZGVyIGhvb2sgbWV0aG9kIGZvciBvbmNlXG4gICAgICAgIHRoaXMuZmxhZyA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICAgICAgdGhpcy5jdXJyZW50SW5wdXQgPSB7fTtcbiAgICAgICAgY29uc3QgZ2xvYmFsQ29uZmlnID0gZ2V0VW5pZmllZENvbmZpZ3MoKTtcbiAgICAgICAgdGhpcy5hcHBOYW1lID0gZ2xvYmFsQ29uZmlnLm1ldGEubmFtZTtcbiAgICAgICAgdGhpcy5lbmRwb2ludCA9XG4gICAgICAgICAgICBwcm9wcy5tb2RlID09PSBNT0RFX0VESVQgfHwgcHJvcHMubW9kZSA9PT0gTU9ERV9DT05GSUdcbiAgICAgICAgICAgICAgICA/IGAke3RoaXMucHJvcHMuc2VydmljZU5hbWV9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMucHJvcHMuc3RhbnphTmFtZSl9YFxuICAgICAgICAgICAgICAgIDogYCR7dGhpcy5wcm9wcy5zZXJ2aWNlTmFtZX1gO1xuXG4gICAgICAgIHRoaXMudXRpbCA9IHtcbiAgICAgICAgICAgIHNldFN0YXRlOiAoY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uU2F2ZVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKChwcmV2aW91c1N0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2socHJldmlvdXNTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIHJlc29sdmUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldEVycm9yRmllbGRNc2c6IHRoaXMuc2V0RXJyb3JGaWVsZE1zZyxcbiAgICAgICAgICAgIGNsZWFyQWxsRXJyb3JNc2c6IHRoaXMuY2xlYXJBbGxFcnJvck1zZyxcbiAgICAgICAgICAgIHNldEVycm9yTXNnOiB0aGlzLnNldEVycm9yTXNnLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMudXRpbENvbnRyb2xXcmFwcGVyID0ge1xuICAgICAgICAgICAgaGFuZGxlQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgICAgIGFkZEN1c3RvbVZhbGlkYXRvcjogdGhpcy5hZGRDdXN0b21WYWxpZGF0b3IsXG4gICAgICAgICAgICB1dGlsQ3VzdG9tRnVuY3Rpb25zOiB0aGlzLnV0aWwsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHByb3BzLnBhZ2UgPT09IFBBR0VfSU5QVVQpIHtcbiAgICAgICAgICAgIGdsb2JhbENvbmZpZy5wYWdlcy5pbnB1dHMuc2VydmljZXMuZm9yRWFjaCgoc2VydmljZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNlLm5hbWUgPT09IHByb3BzLnNlcnZpY2VOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBzID0gc2VydmljZS5ncm91cHM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXMgPSBzZXJ2aWNlLmVudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFbnRpdGllc0Zvckdyb3VwKHNlcnZpY2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBzZXJ2aWNlLm9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNlLmhvb2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG9va0RlZmVycmVkID0gdGhpcy5sb2FkSG9vayhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlLmhvb2suc3JjLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2UuaG9vay50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbENvbmZpZ1xuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcHMubW9kZSA9PT0gTU9ERV9FRElUIHx8IHByb3BzLm1vZGUgPT09IE1PREVfQ0xPTkUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudElucHV0ID0gY29udGV4dC5yb3dEYXRhW3Byb3BzLnNlcnZpY2VOYW1lXVtwcm9wcy5zdGFuemFOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsQ29uZmlnLnBhZ2VzLmNvbmZpZ3VyYXRpb24udGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmbGFnID0gdGFiLnRhYmxlXG4gICAgICAgICAgICAgICAgICAgID8gdGFiLm5hbWUgPT09IHByb3BzLnNlcnZpY2VOYW1lXG4gICAgICAgICAgICAgICAgICAgIDogdGFiLm5hbWUgPT09IHByb3BzLnN0YW56YU5hbWU7XG4gICAgICAgICAgICAgICAgaWYgKGZsYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllcyA9IHRhYi5lbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IHRhYi5vcHRpb25zO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFiLmhvb2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG9va0RlZmVycmVkID0gdGhpcy5sb2FkSG9vayhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWIuaG9vay5zcmMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiLmhvb2sudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxDb25maWdcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhYi50YWJsZSAmJiAocHJvcHMubW9kZSA9PT0gTU9ERV9FRElUIHx8IHByb3BzLm1vZGUgPT09IE1PREVfQ0xPTkUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbnB1dCA9IGNvbnRleHQucm93RGF0YVtwcm9wcy5zZXJ2aWNlTmFtZV1bcHJvcHMuc3RhbnphTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvcHMubW9kZSA9PT0gTU9ERV9DT05GSUcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudElucHV0ID0gcHJvcHMuY3VycmVudFNlcnZpY2VTdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZV9jb25maWdfdGl0bGUgPSB0YWIudGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbnB1dCA9IGNvbnRleHQucm93RGF0YVtwcm9wcy5zZXJ2aWNlTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlcGVuZGVuY3lNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuaXNPQXV0aCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzQXV0aFZhbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmF1dGhNYXAgPSB7fTtcbiAgICAgICAgY29uc3QgdGVtU3RhdGUgPSB7fTtcbiAgICAgICAgY29uc3QgdGVtRW50aXRpZXMgPSBbXTtcblxuICAgICAgICB0aGlzLmVudGl0aWVzLmZvckVhY2goKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT09ICdvYXV0aCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzT0F1dGggPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wcy5wYWdlID09PSBQQUdFX0NPTkYgJiYgcHJvcHMuc2VydmljZU5hbWUgPT09ICdhY2NvdW50Jykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdXRoVHlwZSA9IGU/Lm9wdGlvbnM/LmF1dGhfdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc29hdXRoU3RhdGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGU/Lm9wdGlvbnM/Lm9hdXRoX3N0YXRlX2VuYWJsZWQgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBlPy5vcHRpb25zPy5vYXV0aF9zdGF0ZV9lbmFibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdXRoVHlwZS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQXV0aFZhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWZpbmluZyBzdGF0ZSBmb3IgYXV0aF90eXBlIGluIGNhc2Ugb2YgbXVsdGlwbGUgQXV0aGVudGljYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBFbnRpdHkgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBFbnRpdHkudmFsdWUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLm1vZGUgPT09IE1PREVfQ1JFQVRFID8gYXV0aFR5cGVbMF0gOiB0aGlzLmN1cnJlbnRJbnB1dC5hdXRoX3R5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LmRpc3BsYXkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtU3RhdGUuYXV0aF90eXBlID0gdGVtcEVudGl0eTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVmaW5pbmcgRW50aXR5IGZvciBhdXRoX3R5cGUgaW4gZW50aXR5bGlzdCBvZiBnbG9iYWxDb25maWdcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudGl0eSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LmZpZWxkID0gJ2F1dGhfdHlwZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkudHlwZSA9ICdzaW5nbGVTZWxlY3QnO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LmxhYmVsID0gJ0F1dGggVHlwZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2ljOiAnQmFzaWMgQXV0aGVudGljYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9hdXRoOiAnT0F1dGggMi4wIEF1dGhlbnRpY2F0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkub3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5Lm9wdGlvbnMuaXNDbGVhcmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5Lm9wdGlvbnMuYXV0b0NvbXBsZXRlRmllbGRzID0gYXV0aFR5cGUubWFwKCh0eXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgbGFiZWw6IGNvbnRlbnRbdHlwZV0sIHZhbHVlOiB0eXBlIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbUVudGl0aWVzLnB1c2goZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaW5nbGVPYXV0aCA9IGF1dGhUeXBlLmluY2x1ZGVzKCdvYXV0aCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkaW5nIFN0YXRlIGFuZCBFbnRpdHkoaW4gZW50aXR5bGlzdCkgZm9yIGV2ZXJ5IEZpZWxkcyBvZiBcIm9hdXRoXCIgdHlwZVxuICAgICAgICAgICAgICAgICAgICAvLyBJdGVyYXRpbmcgb3ZlciBldmVyeXR5cGUgb2YgQXV0aGVudGljYXRpb24gdW5kZXIgXCJvYXV0aFwiIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgYXV0aFR5cGUuZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXV0aGZpZWxkcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmllbGRzID0gZT8ub3B0aW9uc1t0eXBlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgUGFydGljYXVsYXIgdHlwZSBpdGVyYXRpbmcgb3ZlciBmaWVsZHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXZlcnkgZmllbGQgZm9yIGF1dGggdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wRW50aXR5ID0ge307XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BzLm1vZGUgPT09IE1PREVfQ1JFQVRFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LnZhbHVlID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgZmllbGQ/LmRlZmF1bHRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmaWVsZC5kZWZhdWx0VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNFbmNyeXB0ZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBmaWVsZD8uZW5jcnlwdGVkICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGZpZWxkPy5lbmNyeXB0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBFbnRpdHkudmFsdWUgPSBpc0VuY3J5cHRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuY3VycmVudElucHV0W2ZpZWxkLmZpZWxkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LmRpc3BsYXkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHRlbVN0YXRlLmF1dGhfdHlwZSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHR5cGUgPT09IHRlbVN0YXRlLmF1dGhfdHlwZS52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbVN0YXRlW2ZpZWxkLmZpZWxkXSA9IHRlbXBFbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5yZXF1aXJlZCA9ICF0aGlzLmlzQXV0aFZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLnR5cGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGZpZWxkPy50eXBlICE9PSAndW5kZWZpbmVkJyA/IGZpZWxkLnR5cGUgOiAndGV4dCc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlZCBzcGVjaWFsIGNhc2UgZm9yIHJlZGlyZWN0X3VybFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuZmllbGQgPT09ICdyZWRpcmVjdF91cmwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LnZhbHVlID0gd2luZG93LmxvY2F0aW9uLmhyZWZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJz8nKVswXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29uZmlndXJhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3RoaXMuYXBwTmFtZS50b0xvd2VyQ2FzZSgpfV9yZWRpcmVjdGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtRW50aXRpZXMucHVzaChmaWVsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhmaWVsZHMucHVzaChmaWVsZC5maWVsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXRoTWFwW3R5cGVdID0gYXV0aGZpZWxkcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdXRoVHlwZS5pbmNsdWRlcygnb2F1dGgnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2F1dGhDb25mRGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmluZyBPLUF1dGggQ29uZmlndXJhdGlvbiBkYXRhIHRvIGNsYXNzIHZhcmlhYmxlIHRvIHVzZSBsYXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgb2F1dGhDb25mRGF0YS5wb3B1cFdpZHRoID0gZS5vcHRpb25zLm9hdXRoX3BvcHVwX3dpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBlLm9wdGlvbnMub2F1dGhfcG9wdXBfd2lkdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDYwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9hdXRoQ29uZkRhdGEucG9wdXBIZWlnaHQgPSBlLm9wdGlvbnMub2F1dGhfcG9wdXBfaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBlLm9wdGlvbnMub2F1dGhfcG9wdXBfaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiA2MDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYXV0aENvbmZEYXRhLmF1dGhUaW1lb3V0ID0gZS5vcHRpb25zLm9hdXRoX3RpbWVvdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGUub3B0aW9ucy5vYXV0aF90aW1lb3V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAxODA7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYXV0aENvbmZEYXRhLmF1dGhDb2RlRW5kcG9pbnQgPSBlLm9wdGlvbnMuYXV0aF9jb2RlX2VuZHBvaW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBlLm9wdGlvbnMuYXV0aF9jb2RlX2VuZHBvaW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2F1dGhDb25mRGF0YS5hY2Nlc3NUb2tlbkVuZHBvaW50ID0gZS5vcHRpb25zLmFjY2Vzc190b2tlbl9lbmRwb2ludFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZS5vcHRpb25zLmFjY2Vzc190b2tlbl9lbmRwb2ludFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYXV0aENvbmYgPSBvYXV0aENvbmZEYXRhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wRW50aXR5ID0ge307XG4gICAgICAgICAgICAgICAgZS5lbmNyeXB0ZWQgPSB0eXBlb2YgZS5lbmNyeXB0ZWQgIT09ICd1bmRlZmluZWQnID8gZS5lbmNyeXB0ZWQgOiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmIChwcm9wcy5tb2RlID09PSBNT0RFX0NSRUFURSkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LnZhbHVlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBlLmRlZmF1bHRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcgPyBlLmRlZmF1bHRWYWx1ZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBFbnRpdHkuZGlzcGxheSA9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgZT8ub3B0aW9ucz8uZGlzcGxheSAhPT0gJ3VuZGVmaW5lZCcgPyBlLm9wdGlvbnMuZGlzcGxheSA6IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBFbnRpdHkuZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0ZW1TdGF0ZVtlLmZpZWxkXSA9IHRlbXBFbnRpdHk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9wcy5tb2RlID09PSBNT0RFX0VESVQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS52YWx1ZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgdGhpcy5jdXJyZW50SW5wdXRbZS5maWVsZF0gIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmN1cnJlbnRJbnB1dFtlLmZpZWxkXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS52YWx1ZSA9IGUuZW5jcnlwdGVkID8gJycgOiB0ZW1wRW50aXR5LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHRlbXBFbnRpdHkuZGlzcGxheSA9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgZT8ub3B0aW9ucz8uZGlzcGxheSAhPT0gJ3VuZGVmaW5lZCcgPyBlLm9wdGlvbnMuZGlzcGxheSA6IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBFbnRpdHkuZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5maWVsZCA9PT0gJ25hbWUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZT8ub3B0aW9ucz8uZGlzYWJsZW9uRWRpdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBFbnRpdHkuZGlzYWJsZWQgPSBlLm9wdGlvbnMuZGlzYWJsZW9uRWRpdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0ZW1TdGF0ZVtlLmZpZWxkXSA9IHRlbXBFbnRpdHk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9wcy5tb2RlID09PSBNT0RFX0NMT05FKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBFbnRpdHkudmFsdWUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgZS5maWVsZCA9PT0gJ25hbWUnIHx8IGUuZW5jcnlwdGVkID8gJycgOiB0aGlzLmN1cnJlbnRJbnB1dFtlLmZpZWxkXTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5kaXNwbGF5ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBlPy5vcHRpb25zPy5kaXNwbGF5ICE9PSAndW5kZWZpbmVkJyA/IGUub3B0aW9ucy5kaXNwbGF5IDogdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRlbVN0YXRlW2UuZmllbGRdID0gdGVtcEVudGl0eTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByb3BzLm1vZGUgPT09IE1PREVfQ09ORklHKSB7XG4gICAgICAgICAgICAgICAgICAgIGUuZGVmYXVsdFZhbHVlID0gdHlwZW9mIGUuZGVmYXVsdFZhbHVlICE9PSAndW5kZWZpbmVkJyA/IGUuZGVmYXVsdFZhbHVlIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS52YWx1ZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgdGhpcy5jdXJyZW50SW5wdXRbZS5maWVsZF0gIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmN1cnJlbnRJbnB1dFtlLmZpZWxkXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZS5kZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBFbnRpdHkudmFsdWUgPSBlLmVuY3J5cHRlZCA/ICcnIDogdGVtcEVudGl0eS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5kaXNwbGF5ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBlPy5vcHRpb25zPy5kaXNwbGF5ICE9PSAndW5kZWZpbmVkJyA/IGUub3B0aW9ucy5kaXNwbGF5IDogdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmZpZWxkID09PSAnbmFtZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBFbnRpdHkuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlPy5vcHRpb25zPy5kaXNhYmxlb25FZGl0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5kaXNhYmxlZCA9IGUub3B0aW9ucy5kaXNhYmxlb25FZGl0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRlbVN0YXRlW2UuZmllbGRdID0gdGVtcEVudGl0eTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbW9kZSA6JywgcHJvcHMubW9kZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlIGRlcGVuZGVudCBmaWVsZHNcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZHMgPSBlLm9wdGlvbnM/LmRlcGVuZGVuY2llcztcbiAgICAgICAgICAgICAgICBpZiAoZmllbGRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkcy5mb3JFYWNoKChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlRmllbGRzID0gdGhpcy5kZXBlbmRlbmN5TWFwLmdldChmaWVsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbmdlRmllbGRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlRmllbGRzW2UuZmllbGRdID0gZmllbGRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlcGVuZGVuY3lNYXAuc2V0KGZpZWxkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtlLmZpZWxkXTogZmllbGRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGVtRW50aXRpZXMucHVzaChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IHRlbUVudGl0aWVzO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBkYXRhOiB0ZW1TdGF0ZSxcbiAgICAgICAgICAgIGVycm9yTXNnOiAnJyxcbiAgICAgICAgICAgIHdhcm5pbmdNc2c6ICcnLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEhvb2sgb24gY3JlYXRlIG1ldGhvZCBjYWxsXG4gICAgICAgIGlmICh0aGlzLmhvb2tEZWZlcnJlZCkge1xuICAgICAgICAgICAgdGhpcy5ob29rRGVmZXJyZWQudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmhvb2sub25DcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG9vay5vbkNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUVudGl0aWVzRm9yR3JvdXAgPSAoc2VydmljZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5ncm91cHMgJiYgdGhpcy5ncm91cHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmdyb3Vwcy5mb3JFYWNoKChncm91cCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChncm91cCAmJiBncm91cC5maWVsZHM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBncm91cC5maWVsZHMuZm9yRWFjaCgoZmllbGROYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHNlcnZpY2UuZW50aXR5LmZpbmRJbmRleCgoZSkgPT4gZS5maWVsZCA9PT0gZmllbGROYW1lKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRPYmogPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHNlcnZpY2UuZW50aXR5W2luZGV4XSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRPYmouaXNHcm91cGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllcy5zcGxpY2UoaW5kZXgsIDEsIHVwZGF0ZWRPYmopO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBoYW5kbGVTdWJtaXQgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xlYXJFcnJvck1zZygpO1xuICAgICAgICB0aGlzLnByb3BzLmhhbmRsZUZvcm1TdWJtaXQoLyogaXNTdWJtaXR0aW5nICovIHRydWUsIC8qIGNsb3NlRW50aXR5ICovIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmRhdGFkaWN0ID0ge307XG5cbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5zdGF0ZS5kYXRhKS5mb3JFYWNoKChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYXRhZGljdFtmaWVsZF0gPSB0aGlzLnN0YXRlLmRhdGFbZmllbGRdLnZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5ob29rICYmIHR5cGVvZiB0aGlzLmhvb2sub25TYXZlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zdCB2YWxpZGF0aW9uUGFzcyA9IHRoaXMuaG9vay5vblNhdmUodGhpcy5kYXRhZGljdCk7XG4gICAgICAgICAgICBpZiAoIXZhbGlkYXRpb25QYXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVGb3JtU3VibWl0KC8qIGlzU3VibWl0dGluZyAqLyBmYWxzZSwgLyogY2xvc2VFbnRpdHkgKi8gZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleGVjdXRlVmFsaWRhdGlvblN1Ym1pdCA9ICgpID0+IHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuc3RhdGUuZGF0YSkuZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFkaWN0W2ZpZWxkXSA9IHRoaXMuc3RhdGUuZGF0YVtmaWVsZF0udmFsdWU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gdmFsaWRhdGlvbiBmb3IgdW5pcXVlIG5hbWVcbiAgICAgICAgICAgIGlmIChbTU9ERV9DUkVBVEUsIE1PREVfQ0xPTkVdLmluY2x1ZGVzKHRoaXMucHJvcHMubW9kZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0V4aXN0aW5nTmFtZSA9IEJvb2xlYW4oXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5jb250ZXh0LnJvd0RhdGEpLmZpbmQoKHZhbCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHZhbCkuZmluZCgobmFtZSkgPT4gbmFtZSA9PT0gdGhpcy5kYXRhZGljdC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGlmIChpc0V4aXN0aW5nTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZW50aXRpZXMuZmluZEluZGV4KChlKSA9PiBlLmZpZWxkID09PSAnbmFtZScpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEVycm9yRmllbGRNc2coXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRGb3JtYXR0ZWRNZXNzYWdlKDIsIFt0aGlzLmVudGl0aWVzW2luZGV4XS5sYWJlbCwgdGhpcy5kYXRhZGljdC5uYW1lXSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVGb3JtU3VibWl0KC8qIGlzU3VibWl0dGluZyAqLyBmYWxzZSwgLyogY2xvc2VFbnRpdHkgKi8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB2YWxpZGF0aW9uIGNvbmRpdGlvbiBvZiByZXF1aXJlZCBmaWVsZHMgaW4gTy1BdXRoXG4gICAgICAgICAgICBsZXQgdGVtRW50aXRpZXM7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0F1dGhWYWwpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVxRmllbGRzID0gW107XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5hdXRoTWFwKS5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSB0aGlzLmRhdGFkaWN0LmF1dGhfdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxRmllbGRzID0gWy4uLnJlcUZpZWxkcywgLi4udGhpcy5hdXRoTWFwW3R5cGVdXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRlbUVudGl0aWVzID0gdGhpcy5lbnRpdGllcy5tYXAoKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcUZpZWxkcy5pbmNsdWRlcyhlLmZpZWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZSwgcmVxdWlyZWQ6IHRydWUgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGVtRW50aXRpZXMgPSB0aGlzLmVudGl0aWVzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBWYWxpZGF0aW9uIG9mIGZvcm0gZmllbGRzIG9uIFN1Ym1pdFxuICAgICAgICAgICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IFZhbGlkYXRvcih0ZW1FbnRpdGllcyk7XG4gICAgICAgICAgICBsZXQgZXJyb3IgPSB2YWxpZGF0b3IuZG9WYWxpZGF0aW9uKHRoaXMuZGF0YWRpY3QpO1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRFcnJvckZpZWxkTXNnKGVycm9yLmVycm9yRmllbGQsIGVycm9yLmVycm9yTXNnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5zYXZlVmFsaWRhdG9yKSB7XG4gICAgICAgICAgICAgICAgZXJyb3IgPSBTYXZlVmFsaWRhdG9yKHRoaXMub3B0aW9ucy5zYXZlVmFsaWRhdG9yLCB0aGlzLmRhdGFkaWN0KTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRFcnJvck1zZyhlcnJvci5lcnJvck1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmhhbmRsZUZvcm1TdWJtaXQoLyogaXNTdWJtaXR0aW5nICovIGZhbHNlLCAvKiBjbG9zZUVudGl0eSAqLyBmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIHRoaXMuaXNPQXV0aCAmJlxuICAgICAgICAgICAgICAgICh0aGlzLmlzU2luZ2xlT2F1dGggfHwgKHRoaXMuaXNBdXRoVmFsICYmIHRoaXMuZGF0YWRpY3QuYXV0aF90eXBlID09PSAnb2F1dGgnKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBvYXV0aCBBdXRoZW50aWNhdGlvblxuICAgICAgICAgICAgICAgIC8vIFBvcHVsYXRlIHRoZSBwYXJhbWV0ZXIgc3RyaW5nIHdpdGggY2xpZW50X2lkLCByZWRpcmVjdF91cmwgYW5kIHJlc3BvbnNlX3R5cGVcbiAgICAgICAgICAgICAgICBsZXQgcGFyYW1ldGVycyA9IGA/cmVzcG9uc2VfdHlwZT1jb2RlJmNsaWVudF9pZD0ke3RoaXMuZGF0YWRpY3QuY2xpZW50X2lkfSZyZWRpcmVjdF91cmk9JHt0aGlzLmRhdGFkaWN0LnJlZGlyZWN0X3VybH1gO1xuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgdmFsdWUgZm9yIHN0YXRlX2VuYWJsZWRcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZUVuYWJsZWQgPSB0aGlzLmlzb2F1dGhTdGF0ZSAhPSBudWxsID8gdGhpcy5pc29hdXRoU3RhdGUgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGVFbmFibGVkID09PSAndHJ1ZScgfHwgc3RhdGVFbmFibGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVfZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRpbmcgYSBjcnlwdG9ncmFwaGljYWxseSBzdHJvbmcgc3RhdGUgcGFyYW1ldGVyLCB3aGljaCB3aWxsIGJlIHVzZWQgT05MWSBkdXJpbmcgY29uZmlndXJhdGlvblxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9hdXRoX3N0YXRlID0gdXVpZHY0KCkucmVwbGFjZSgvLS9nLCAnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQXBwZW5kaW5nIHRoZSBzdGF0ZSBpbiB0aGUgaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzID0gYCR7cGFyYW1ldGVyc30mc3RhdGU9JHt0aGlzLm9hdXRoX3N0YXRlfWA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgaG9zdCA9IGBodHRwczovLyR7dGhpcy5kYXRhZGljdC5lbmRwb2ludH0ke3RoaXMub2F1dGhDb25mLmF1dGhDb2RlRW5kcG9pbnR9JHtwYXJhbWV0ZXJzfWA7XG4gICAgICAgICAgICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NhbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1Jlc3BvbnNlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBhdXRoX3R5cGUgZWxlbWVudCBmcm9tIGdsb2JhbCBjb25maWcganNvblxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE9wZW4gYSBwb3B1cCB0byBtYWtlIGF1dGggcmVxdWVzdFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkV2luID0gd2luZG93Lm9wZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYCR7dGhpcy5hcHBOYW1lfSBPQXV0aGAsXG4gICAgICAgICAgICAgICAgICAgICAgICBgd2lkdGg9JHt0aGlzLm9hdXRoQ29uZi5wb3B1cFdpZHRofSwgaGVpZ2h0PSR7dGhpcy5vYXV0aENvbmYucG9wdXBIZWlnaHR9YFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAvLyBDYWxsYmFjayB0byByZWNlaXZlIGRhdGEgZnJvbSByZWRpcmVjdCB1cmxcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmdldE1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbiBDYWxsIGJhY2sgd2l0aCBBdXRoIGNvZGUgdGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU9hdXRoVG9rZW4obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIC8vIFdhaXQgdGlsbCB3ZSBnZXQgYXV0aF9jb2RlIGZyb20gY2FsbGluZyBzaXRlIHRocm91Z2ggcmVkaXJlY3QgdXJsLCB3ZSB3aWxsIHdhaXQgZm9yIDMgbWluc1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JBdXRoZW50aWNhdGlvbih0aGlzLm9hdXRoQ29uZi5hdXRoVGltZW91dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzQ2FsbGVkICYmIHRoaXMuY2hpbGRXaW4uY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgZXJyb3IgbWVzc2FnZSBpZiB0aGUgdXNlciBoYXMgY2xvc2UgdGhlIGF1dGhlbnRpY2F0aW9uIHdpbmRvdyB3aXRob3V0IHRha2luZyBhbnkgYWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEVycm9yTXNnKEVSUk9SX0FVVEhfUFJPQ0VTU19URVJNSU5BVEVEX1RSWV9BR0FJTik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmhhbmRsZUZvcm1TdWJtaXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogaXNTdWJtaXR0aW5nICovIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGNsb3NlRW50aXR5ICovIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzQ2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGltZW91dCBlcnJvciBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEVycm9yTXNnKEVSUk9SX1JFUVVFU1RfVElNRU9VVF9UUllfQUdBSU4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVGb3JtU3VibWl0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGlzU3VibWl0dGluZyAqLyBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBjbG9zZUVudGl0eSAqLyBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IGNhbGxlZCBmbGFnIGFzIHdlIGhhdmUgdG8gd2FpdCB0aWxsIHdlIGdldCB0aGUgYWNjZXNzX3Rva2VuLCByZWZyZXNoX3Rva2VuIGFuZCBpbnN0YW5jZV91cmxcbiAgICAgICAgICAgICAgICAgICAgLy8gV2FpdCB0aWxsIHdlIGdldCB0aGUgcmVzcG9uc2UsIGhlcmUgd2UgaGF2ZSBhZGRlZCB3YWl0IGZvciAzMCBzZWNzXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2FpdEZvckJhY2tlbmRSZXNwb25zZSgzMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzUmVzcG9uc2UgJiYgIXRoaXMuaXNFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGVycm9yIG1lc3NhZ2UgdG8gcHJldmVudCBzYXZpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzRXJyb3IgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGltZW91dCBlcnJvciBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEVycm9yTXNnKEVSUk9SX1JFUVVFU1RfVElNRU9VVF9BQ0NFU1NfVE9LRU5fVFJZX0FHQUlOKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaGFuZGxlRm9ybVN1Ym1pdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBpc1N1Ym1pdHRpbmcgKi8gZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogY2xvc2VFbnRpdHkgKi8gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSkoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZURhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaGFuZGxlRm9ybVN1Ym1pdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBpc1N1Ym1pdHRpbmcgKi8gZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogY2xvc2VFbnRpdHkgKi8gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlRGF0YSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmhvb2sgJiZcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLmhvb2sub25TYXZlID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5vblNhdmVQcm9taXNlICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMub25TYXZlUHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBleGVjdXRlVmFsaWRhdGlvblN1Ym1pdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleGVjdXRlVmFsaWRhdGlvblN1Ym1pdCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHNhdmVEYXRhID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBib2R5ID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmRhdGFkaWN0KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGFkaWN0W2tleV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvZHkuYXBwZW5kKGtleSwgdGhpcy5kYXRhZGljdFtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNPQXV0aCkge1xuICAgICAgICAgICAgLy8gUHJldmVudCBwYXNzaW5nIHJlZGlyZWN0X3VybCBmaWVsZCB1c2VkIGluIE9BdXRoIHRvIGJhY2tlbmQgY29uZiBmaWxlXG4gICAgICAgICAgICBib2R5LmRlbGV0ZSgncmVkaXJlY3RfdXJsJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHJvcHMubW9kZSA9PT0gTU9ERV9FRElUKSB7XG4gICAgICAgICAgICBib2R5LmRlbGV0ZSgnbmFtZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXhpb3NDYWxsV3JhcHBlcih7XG4gICAgICAgICAgICBzZXJ2aWNlTmFtZTogdGhpcy5lbmRwb2ludCxcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICBjdXN0b21IZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyB9LFxuICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICAgICAgICBoYW5kbGVFcnJvcjogZmFsc2UsXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSByZXNwb25zZT8uZGF0YT8uZW50cnlbMF07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMubW9kZSAhPT0gTU9ERV9DT05GSUcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG1wT2JqID0ge307XG5cbiAgICAgICAgICAgICAgICAgICAgdG1wT2JqW3ZhbC5uYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnZhbC5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHZhbC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHZhbC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZU5hbWU6IHRoaXMucHJvcHMuc2VydmljZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnNldFJvd0RhdGEoXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUodGhpcy5jb250ZXh0LnJvd0RhdGEsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdGhpcy5wcm9wcy5zZXJ2aWNlTmFtZV06IHsgJG1lcmdlOiB0bXBPYmogfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhvb2sgJiYgdHlwZW9mIHRoaXMuaG9vay5vblNhdmVTdWNjZXNzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaG9vay5vblNhdmVTdWNjZXNzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm1vZGUgPT09IE1PREVfRURJVCkge1xuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZVRvYXN0KGBVcGRhdGVkIFwiJHt2YWwubmFtZX1cImAsICdzdWNjZXNzJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLm1vZGUgPT09IE1PREVfQ09ORklHKSB7XG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlVG9hc3QoXG4gICAgICAgICAgICAgICAgICAgICAgICBgVXBkYXRlZCBcIiR7dGhpcy5tb2RlX2NvbmZpZ190aXRsZSA/IHRoaXMubW9kZV9jb25maWdfdGl0bGUgOiB2YWwubmFtZX1cImAsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3VjY2VzcydcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZVRvYXN0KGBDcmVhdGVkIFwiJHt2YWwubmFtZX1cImAsICdzdWNjZXNzJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaGFuZGxlRm9ybVN1Ym1pdCgvKiBpc1N1Ym1pdHRpbmcgKi8gZmFsc2UsIC8qIGNsb3NlRW50aXR5ICovIHRydWUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JTdWJtaXRNc2cgPSBwYXJzZUVycm9yTXNnKGVycik7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVycm9yTXNnOiBlcnJvclN1Ym1pdE1zZyB9KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ob29rICYmIHR5cGVvZiB0aGlzLmhvb2sub25TYXZlRmFpbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvb2sub25TYXZlRmFpbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmhhbmRsZUZvcm1TdWJtaXQoLyogaXNTdWJtaXR0aW5nICovIGZhbHNlLCAvKiBjbG9zZUVudGl0eSAqLyBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgaGFuZGxlQ2hhbmdlID0gKGZpZWxkLCB0YXJnZXRWYWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCBjaGFuZ2VzID0ge307XG4gICAgICAgIGlmIChmaWVsZCA9PT0gJ2F1dGhfdHlwZScpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuYXV0aE1hcCkuZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSB0YXJnZXRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1dGhNYXBbdHlwZV0uZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlc1tlXSA9IHsgZGlzcGxheTogeyAkc2V0OiB0cnVlIH0gfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXRoTWFwW3R5cGVdLmZvckVhY2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZXNbZV0gPSB7IGRpc3BsYXk6IHsgJHNldDogZmFsc2UgfSB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRlcGVuZGVuY3lNYXAuaGFzKGZpZWxkKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmRlcGVuZGVuY3lNYXAuZ2V0KGZpZWxkKTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHZhbHVlKS5mb3JFYWNoKChsb2FkRmllbGQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICAgICAgICAgICAgbGV0IGxvYWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdmFsdWVbbG9hZEZpZWxkXS5mb3JFYWNoKChkZXBlbmRlbmN5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVpcmVkID0gISF0aGlzLmVudGl0aWVzLmZpbmQoKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmZpZWxkID09PSBkZXBlbmRlbmN5O1xuICAgICAgICAgICAgICAgICAgICB9KS5yZXF1aXJlZDtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jeSA9PT0gZmllbGQgPyB0YXJnZXRWYWx1ZSA6IHRoaXMuc3RhdGUuZGF0YVtkZXBlbmRlbmN5XS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVpcmVkICYmICFjdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbZGVwZW5kZW5jeV0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtkZXBlbmRlbmN5XSA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGxvYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlc1tsb2FkRmllbGRdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jeVZhbHVlczogeyAkc2V0OiBkYXRhIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogeyAkc2V0OiBudWxsIH0sXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2hhbmdlc1tmaWVsZF0gPSB7IHZhbHVlOiB7ICRzZXQ6IHRhcmdldFZhbHVlIH0gfTtcblxuICAgICAgICBjb25zdCBuZXdGaWVsZHMgPSB1cGRhdGUodGhpcy5zdGF0ZSwgeyBkYXRhOiBjaGFuZ2VzIH0pO1xuICAgICAgICBjb25zdCB0ZW1wU3RhdGUgPSB0aGlzLmNsZWFyQWxsRXJyb3JNc2cobmV3RmllbGRzKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh0ZW1wU3RhdGUpO1xuXG4gICAgICAgIGlmICh0aGlzLmhvb2tEZWZlcnJlZCkge1xuICAgICAgICAgICAgdGhpcy5ob29rRGVmZXJyZWQudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmhvb2sub25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob29rLm9uQ2hhbmdlKGZpZWxkLCB0YXJnZXRWYWx1ZSwgdGVtcFN0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhZGRDdXN0b21WYWxpZGF0b3IgPSAoZmllbGQsIHZhbGlkYXRvckZ1bmMpID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmVudGl0aWVzLmZpbmRJbmRleCgoeCkgPT4geC5maWVsZCA9PT0gZmllbGQpO1xuICAgICAgICBjb25zdCB2YWxpZGF0b3IgPSBbeyB0eXBlOiAnY3VzdG9tJywgdmFsaWRhdG9yRnVuYyB9XTtcbiAgICAgICAgdGhpcy5lbnRpdGllc1tpbmRleF0udmFsaWRhdG9ycyA9IHZhbGlkYXRvcjtcbiAgICB9O1xuXG4gICAgLy8gU2V0IGVycm9yIG1lc3NhZ2UgdG8gZGlzcGxheSBhbmQgc2V0IGVycm9yIGluIHBlcnRpY3VsYXIgZmllbGRcbiAgICBzZXRFcnJvckZpZWxkTXNnID0gKGZpZWxkLCBtc2cpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgocHJldmlvdXNTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3RmllbGRzID0gdXBkYXRlKHByZXZpb3VzU3RhdGUsIHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7IFtmaWVsZF06IHsgZXJyb3I6IHsgJHNldDogdHJ1ZSB9IH0gfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbmV3RmllbGRzLmVycm9yTXNnID0gbXNnO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0ZpZWxkcztcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIFNldCBlcnJvciBpbiBwZXJ0aWN1bGFyIGZpZWxkXG4gICAgc2V0RXJyb3JGaWVsZCA9IChmaWVsZCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKChwcmV2aW91c1N0YXRlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlKHByZXZpb3VzU3RhdGUsIHsgZGF0YTogeyBbZmllbGRdOiB7IGVycm9yOiB7ICRzZXQ6IHRydWUgfSB9IH0gfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBDbGVhciBlcnJvciBtZXNzYWdlXG4gICAgY2xlYXJFcnJvck1zZyA9ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZXJyb3JNc2cpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZpb3VzU3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5wcmV2aW91c1N0YXRlLCBlcnJvck1zZzogJycgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIFNldCBlcnJvciBtZXNzYWdlXG4gICAgc2V0RXJyb3JNc2cgPSAobXNnKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZpb3VzU3RhdGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnByZXZpb3VzU3RhdGUsIGVycm9yTXNnOiBtc2cgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIENsZWFyIGVycm9yL3dhcm5pbmcgbWVzc2FnZSBhbmQgZXJyb3JzIGZyb20gZmllbGRzXG4gICAgY2xlYXJBbGxFcnJvck1zZyA9IChTdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBuZXdGaWVsZHMgPSBTdGF0ZSA/IHsgLi4uU3RhdGUgfSA6IHsgLi4udGhpcy5zdGF0ZSB9O1xuICAgICAgICBuZXdGaWVsZHMuZXJyb3JNc2cgPSAnJztcbiAgICAgICAgbmV3RmllbGRzLndhcm5pbmdNc2cgPSAnJztcbiAgICAgICAgY29uc3QgbmV3RGF0YSA9IFN0YXRlID8geyAuLi5TdGF0ZS5kYXRhIH0gOiB7IC4uLnRoaXMuc3RhdGUuZGF0YSB9O1xuICAgICAgICBjb25zdCB0ZW1EYXRhID0ge307XG4gICAgICAgIE9iamVjdC5rZXlzKG5ld0RhdGEpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKG5ld0RhdGFba2V5XS5lcnJvcikge1xuICAgICAgICAgICAgICAgIHRlbURhdGFba2V5XSA9IHsgLi4ubmV3RGF0YVtrZXldLCBlcnJvcjogZmFsc2UgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGVtRGF0YVtrZXldID0gbmV3RGF0YVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbmV3RmllbGRzLmRhdGEgPSB0ZW1EYXRhO1xuICAgICAgICByZXR1cm4gU3RhdGUgPyBuZXdGaWVsZHMgOiBudWxsO1xuICAgIH07XG5cbiAgICAvLyBEaXNwbGF5IGVycm9yIG1lc3NhZ2VcbiAgICBnZW5lcmF0ZUVycm9yTWVzc2FnZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZXJyb3JNc2cpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPE1lc3NhZ2UgYXBwZWFyYW5jZT1cImZpbGxcIiB0eXBlPVwiZXJyb3JcIj5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZXJyb3JNc2d9XG4gICAgICAgICAgICAgICAgPC9NZXNzYWdlPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgZ2VuZXJhdGVXYXJuaW5nTWVzc2FnZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUud2FybmluZ01zZykge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8TWVzc2FnZSBhcHBlYXJhbmNlPVwiZmlsbFwiIHR5cGU9XCJ3YXJuaW5nXCI+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLndhcm5pbmdNc2d9XG4gICAgICAgICAgICAgICAgPC9NZXNzYWdlPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gZ2VuZXJhdGVzdWJtaXRNZXNzYWdlXG4gICAgbG9hZEhvb2sgPSAobW9kdWxlLCB0eXBlLCBnbG9iYWxDb25maWcpID0+IHtcbiAgICAgICAgY29uc3QgbXlQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnZXh0ZXJuYWwnKSB7XG4gICAgICAgICAgICAgICAgaW1wb3J0KC8qIHdlYnBhY2tJZ25vcmU6IHRydWUgKi8gYCR7Z2V0QnVpbGREaXJQYXRoKCl9L2N1c3RvbS8ke21vZHVsZX0uanNgKS50aGVuKFxuICAgICAgICAgICAgICAgICAgICAoZXh0ZXJuYWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEhvb2sgPSBleHRlcm5hbC5kZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob29rID0gbmV3IEhvb2soXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsQ29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2VydmljZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51dGlsXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShIb29rKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF9fbm9uX3dlYnBhY2tfcmVxdWlyZV9fKFxuICAgICAgICAgICAgICAgICAgICBbYGFwcC8ke3RoaXMuYXBwTmFtZX0vanMvYnVpbGQvY3VzdG9tLyR7bW9kdWxlfWBdLFxuICAgICAgICAgICAgICAgICAgICAoSG9vaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob29rID0gbmV3IEhvb2soXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsQ29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2VydmljZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51dGlsXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShIb29rKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbXlQcm9taXNlO1xuICAgIH07XG5cbiAgICAvKlxuICAgICAqIEZ1bmN0aW9uIHRvIGdldCBhY2Nlc3MgdG9rZW4sIHJlZnJlc2ggdG9rZW4gYW5kIGluc3RhbmNlIHVybFxuICAgICAqIHVzaW5nIHJlc3QgY2FsbCBvbmNlIG9hdXRoIGNvZGUgcmVjZWl2ZWQgZnJvbSBjaGlsZCB3aW5kb3dcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgICBoYW5kbGVPYXV0aFRva2VuID0gKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgLy8gQ2hlY2sgbWVzc2FnZSBmb3IgZXJyb3IuIElmIGVycm9yIHNob3cgZXJyb3IgbWVzc2FnZS5cbiAgICAgICAgaWYgKCFtZXNzYWdlIHx8IChtZXNzYWdlICYmIG1lc3NhZ2UuZXJyb3IpIHx8IG1lc3NhZ2UuY29kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldEVycm9yTXNnKEVSUk9SX09DQ1VSUkVEX1RSWV9BR0FJTik7XG4gICAgICAgICAgICB0aGlzLmlzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5pc1Jlc3BvbnNlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0ZVJlc3BvbnNlID0gbWVzc2FnZS5zdGF0ZTtcblxuICAgICAgICBpZiAodGhpcy5zdGF0ZV9lbmFibGVkID09PSB0cnVlICYmIHRoaXMub2F1dGhfc3RhdGUgIT09IHN0YXRlUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RXJyb3JNc2coRVJST1JfU1RBVEVfTUlTU0lOR19UUllfQUdBSU4pO1xuICAgICAgICAgICAgdGhpcy5pc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuaXNSZXNwb25zZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb2RlID0gZGVjb2RlVVJJQ29tcG9uZW50KG1lc3NhZ2UuY29kZSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIHVybDogYGh0dHBzOi8vJHt0aGlzLmRhdGFkaWN0LmVuZHBvaW50fSR7dGhpcy5vYXV0aENvbmYuYWNjZXNzVG9rZW5FbmRwb2ludH1gLFxuICAgICAgICAgICAgZ3JhbnRfdHlwZTogJ2F1dGhvcml6YXRpb25fY29kZScsXG4gICAgICAgICAgICBjbGllbnRfaWQ6IHRoaXMuZGF0YWRpY3QuY2xpZW50X2lkLFxuICAgICAgICAgICAgY2xpZW50X3NlY3JldDogdGhpcy5kYXRhZGljdC5jbGllbnRfc2VjcmV0LFxuICAgICAgICAgICAgY29kZSxcbiAgICAgICAgICAgIHJlZGlyZWN0X3VyaTogdGhpcy5kYXRhZGljdC5yZWRpcmVjdF91cmwsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgYm9keSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBib2R5LmFwcGVuZChrZXksIGRhdGFba2V5XSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IE9BdXRoRW5kcG9pbnQgPSBgJHt0aGlzLmFwcE5hbWV9X29hdXRoL29hdXRoYDtcbiAgICAgICAgLy8gSW50ZXJuYWwgaGFuZGxlciBjYWxsIHRvIGdldCB0aGUgYWNjZXNzIHRva2VuIGFuZCBvdGhlciB2YWx1ZXNcbiAgICAgICAgYXhpb3NDYWxsV3JhcHBlcih7XG4gICAgICAgICAgICBlbmRwb2ludFVybDogT0F1dGhFbmRwb2ludCxcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICBjdXN0b21IZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyB9LFxuICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICAgICAgICBoYW5kbGVFcnJvcjogZmFsc2UsXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lbnRyeVswXS5jb250ZW50LmVycm9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSByZXNwb25zZS5kYXRhLmVudHJ5WzBdLmNvbnRlbnQuYWNjZXNzX3Rva2VuO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnN0YW5jZVVybCA9IHJlc3BvbnNlLmRhdGEuZW50cnlbMF0uY29udGVudC5pbnN0YW5jZV91cmw7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IHJlc3BvbnNlLmRhdGEuZW50cnlbMF0uY29udGVudC5yZWZyZXNoX3Rva2VuO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YWRpY3QuaW5zdGFuY2VfdXJsID0gaW5zdGFuY2VVcmw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YWRpY3QucmVmcmVzaF90b2tlbiA9IHJlZnJlc2hUb2tlbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhZGljdC5hY2Nlc3NfdG9rZW4gPSBhY2Nlc3NUb2tlbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1Jlc3BvbnNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RXJyb3JNc2cocmVzcG9uc2UuZGF0YS5lbnRyeVswXS5jb250ZW50LmVycm9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNSZXNwb25zZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRFcnJvck1zZyhFUlJPUl9PQ0NVUlJFRF9UUllfQUdBSU4pO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1Jlc3BvbnNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gRnVuY3Rpb24gdG8gd2FpdCBmb3IgYXV0aGVudGljYXRpb24gY2FsbCBiYWNrIGluIGNoaWxkIHdpbmRvdy5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgICB3YWl0Rm9yQXV0aGVudGljYXRpb24gPSBhc3luYyAoY291bnQpID0+IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGNvdW50IC09IDE7XG4gICAgICAgIC8vIENoZWNrIGlmIGNhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBpZiBjYWxsZWQgdGhlbiBleGl0IGZyb20gd2FpdFxuICAgICAgICBpZiAodGhpcy5pc0NhbGxlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgY2FsbGJhY2sgZnVuY3Rpb24gaXMgbm90IGNhbGxlZCBhbmQgY291bnQgaXMgbm90IHJlYWNoZWQgdG8gMTgwIHRoZW4gcmV0dXJuIGVycm9yIGZvciB0aW1lb3V0XG4gICAgICAgIGlmIChjb3VudCA9PT0gMCB8fCB0aGlzLmNoaWxkV2luLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5pc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlbHNlIGNhbGwgc2xlZXAgYW5kIHJlY2FsbCB0aGUgc2FtZSBmdW5jdGlvblxuICAgICAgICBhd2FpdCB0aGlzLnNsZWVwKHRoaXMud2FpdEZvckF1dGhlbnRpY2F0aW9uLCBjb3VudCk7XG4gICAgfTtcblxuICAgIC8vIEZ1bmN0aW9uIHRvIHdhaXQgZm9yIGJhY2tlbmQgY2FsbCBnZXQgcmVzcG9uc2UgZnJvbSBiYWNrZW5kXG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgICB3YWl0Rm9yQmFja2VuZFJlc3BvbnNlID0gYXN5bmMgKGNvdW50KSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICAvLyBDaGVjayBpZiBjYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgaWYgY2FsbGVkIHRoZW4gZXhpdCBmcm9tIHdhaXRcbiAgICAgICAgaWYgKHRoaXMuaXNSZXNwb25zZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgY2FsbGJhY2sgZnVuY3Rpb24gaXMgbm90IGNhbGxlZCBhbmQgY291bnQgaXMgbm90IHJlYWNoZWQgdG8gNjAgdGhlbiByZXR1cm4gZXJyb3IgZm9yIHRpbWVvdXRcbiAgICAgICAgaWYgKGNvdW50ID09PSA2MCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVsc2UgY2FsbCBzbGVlcCBhbmQgcmVjYWxsIHRoZSBzYW1lIGZ1bmN0aW9uXG4gICAgICAgIGF3YWl0IHRoaXMuc2xlZXAodGhpcy53YWl0Rm9yQmFja2VuZFJlc3BvbnNlLCBjb3VudCk7XG4gICAgfTtcblxuICAgIC8qXG4gICAgICogVGhpcyBmdW5jdGlvbiBmaXJzdCBhZGQgc2xlZXAgZm9yIDEgc2VjcyBhbmQgdGhlIGNhbGwgdGhlIGZ1bmN0aW9uIHBhc3NlZCBpbiBhcmd1bWVudFxuICAgICAqL1xuICAgIHNsZWVwID0gYXN5bmMgKGZuLCAuLi5hcmdzKSA9PiB7XG4gICAgICAgIGF3YWl0IHRoaXMudGltZW91dCgxMDAwKTtcbiAgICAgICAgcmV0dXJuIGZuKC4uLmFyZ3MpO1xuICAgIH07XG5cbiAgICAvKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gd2lsbCByZXNvbHZlIHRoZSBwcm9taXNlIG9uY2UgdGhlIHByb3ZpZGVkIHRpbWVvdXQgb2NjdXJzXG4gICAgICovXG4gICAgdGltZW91dCA9IChtcykgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcbiAgICB9O1xuXG4gICAgcmVuZGVyR3JvdXBFbGVtZW50cyA9ICgpID0+IHtcbiAgICAgICAgbGV0IGVsID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuZ3JvdXBzICYmIHRoaXMuZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgZWwgPSB0aGlzLmdyb3Vwcy5tYXAoKGdyb3VwKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sbHBzaWJsZUVsZW1lbnQgPVxuICAgICAgICAgICAgICAgICAgICBncm91cC5maWVsZHM/Lmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgICBncm91cC5maWVsZHMubWFwKChmaWVsZE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVudGl0aWVzLm1hcCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmZpZWxkID09PSBmaWVsZE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtU3RhdGUgPSB0aGlzLnN0YXRlLmRhdGFbZS5maWVsZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29udHJvbFdyYXBwZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2UuZmllbGR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbGl0eUZ1bmN0cz17dGhpcy51dGlsQ29udHJvbFdyYXBwZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RlbVN0YXRlLnZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk9e3RlbVN0YXRlLmRpc3BsYXl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I9e3RlbVN0YXRlLmVycm9yfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eT17ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZT17dGhpcy5wcm9wcy5zZXJ2aWNlTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlPXt0aGlzLnByb3BzLm1vZGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RlbVN0YXRlLmRpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtkb3duTWVzc2FnZT17dGVtU3RhdGUubWFya2Rvd25NZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY3lWYWx1ZXM9e3RlbVN0YXRlLmRlcGVuZGVuY3lWYWx1ZXMgfHwgbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwLm9wdGlvbnMuaXNFeHBhbmRhYmxlID8gKFxuICAgICAgICAgICAgICAgICAgICA8Q29sbGFwc2libGVQYW5lbFdyYXBwZXIgdGl0bGU9e2dyb3VwLmxhYmVsfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sbGFwc2libGUtZWxlbWVudFwiPntjb2xscHNpYmxlRWxlbWVudH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9Db2xsYXBzaWJsZVBhbmVsV3JhcHBlcj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEN1c3RvbUdyb3VwTGFiZWw+e2dyb3VwLmxhYmVsfTwvQ3VzdG9tR3JvdXBMYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+e2NvbGxwc2libGVFbGVtZW50fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH07XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIC8vIG9uUmVuZGVyIG1ldGhvZCBvZiBIb29rXG4gICAgICAgIGlmICh0aGlzLmZsYWcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhvb2tEZWZlcnJlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaG9va0RlZmVycmVkLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuaG9vay5vblJlbmRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvb2sub25SZW5kZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm1vZGUgPT09IE1PREVfRURJVCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhvb2tEZWZlcnJlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvb2tEZWZlcnJlZC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5ob29rLm9uRWRpdExvYWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvb2sub25FZGl0TG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZsYWcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8Zm9ybSBzdHlsZT17dGhpcy5wcm9wcy5tb2RlID09PSBNT0RFX0NPTkZJRyA/IHsgbWFyZ2luVG9wOiAnMjVweCcgfSA6IHt9fT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2VuZXJhdGVXYXJuaW5nTWVzc2FnZSgpfVxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZW5lcmF0ZUVycm9yTWVzc2FnZSgpfVxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJHcm91cEVsZW1lbnRzKCl9XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmVudGl0aWVzLm1hcCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIG51bGwgaWYgd2UgbmVlZCB0byBzaG93IGVsZW1lbnQgaW4gYSBncm91cFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuaXNHcm91cGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtU3RhdGUgPSB0aGlzLnN0YXRlLmRhdGFbZS5maWVsZF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1TdGF0ZS5wbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsgLi4uZS5vcHRpb25zLCBwbGFjZWhvbGRlcjogdGVtU3RhdGUucGxhY2Vob2xkZXIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb250cm9sV3JhcHBlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2UuZmllbGR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxpdHlGdW5jdHM9e3RoaXMudXRpbENvbnRyb2xXcmFwcGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGVtU3RhdGUudmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk9e3RlbVN0YXRlLmRpc3BsYXl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yPXt0ZW1TdGF0ZS5lcnJvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5PXtlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZT17dGhpcy5wcm9wcy5zZXJ2aWNlTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZT17dGhpcy5wcm9wcy5tb2RlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGVtU3RhdGUuZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtkb3duTWVzc2FnZT17dGVtU3RhdGUubWFya2Rvd25NZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmN5VmFsdWVzPXt0ZW1TdGF0ZS5kZXBlbmRlbmN5VmFsdWVzIHx8IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuQmFzZUZvcm1WaWV3LnByb3BUeXBlcyA9IHtcbiAgICBwYWdlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHNlcnZpY2VOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHN0YW56YU5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY3VycmVudFNlcnZpY2VTdGF0ZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBtb2RlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGhhbmRsZUZvcm1TdWJtaXQ6IFByb3BUeXBlcy5mdW5jLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgQmFzZUZvcm1WaWV3O1xuIiwiZXhwb3J0IGNvbnN0IEVSUk9SX1JFUVVFU1RfVElNRU9VVF9UUllfQUdBSU4gPSAnUmVxdWVzdCB0aW1lIG91dCB3aGlsZSBhdXRoZW50aWNhdGluZy4gUGxlYXNlIHRyeSBhZ2Fpbi4nO1xuZXhwb3J0IGNvbnN0IEVSUk9SX1JFUVVFU1RfVElNRU9VVF9BQ0NFU1NfVE9LRU5fVFJZX0FHQUlOID0gJ1JlcXVlc3QgdGltZSBvdXQgd2hpbGUgZ2V0dGluZyBhY2Nlc3N0b2tlbi4gUGxlYXNlIHRyeSBhZ2Fpbi4nO1xuZXhwb3J0IGNvbnN0IEVSUk9SX09DQ1VSUkVEX1RSWV9BR0FJTiA9IFwiRXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGF1dGhlbnRpY2F0ZS4gUGxlYXNlIHRyeSBBZ2Fpbi5cIjtcbmV4cG9ydCBjb25zdCBFUlJPUl9BVVRIX1BST0NFU1NfVEVSTUlOQVRFRF9UUllfQUdBSU4gPSBcIkF1dGhlbnRpY2F0aW9uIHByb2Nlc3MgaW50ZXJydXB0ZWQuIFBsZWFzZSB0cnkgYWdhaW4uXCI7XG5leHBvcnQgY29uc3QgRVJST1JfU1RBVEVfTUlTU0lOR19UUllfQUdBSU4gPSBcIlJlc3BvbnNlIG5vdCByZWNlaXZlZCBmcm9tIHRoZSBleHBlY3RlZCBzZW5kZXIuIFBsZWFzZSB0cnkgYWdhaW4uXCI7IiwiZXhwb3J0IGNvbnN0IFNUWUxFX1BBR0UgPSAncGFnZSc7XG5leHBvcnQgY29uc3QgU1RZTEVfTU9EQUwgPSAnbW9kYWwnO1xuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBfIH0gZnJvbSAnQHNwbHVuay91aS11dGlscy9pMThuJztcblxuaW1wb3J0IHsgZ2V0VW5pZmllZENvbmZpZ3MgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuaW1wb3J0IHsgZ2V0QnVpbGREaXJQYXRoIH0gZnJvbSAnLi4vLi4vdXRpbC9zY3JpcHQnO1xuXG5jbGFzcyBDdXN0b21UYWJsZUNvbnRyb2wgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2hvdWxkUmVuZGVyID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgY29uc3QgZ2xvYmFsQ29uZmlnID0gZ2V0VW5pZmllZENvbmZpZ3MoKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IHRydWUgfSk7XG4gICAgICAgIHRoaXMubG9hZEN1c3RvbUNvbnRyb2woKS50aGVuKChDb250cm9sKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmN1c3RvbUNvbnRyb2wgPSBuZXcgQ29udHJvbChcbiAgICAgICAgICAgICAgICBnbG9iYWxDb25maWcsXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZXJ2aWNlTmFtZSxcbiAgICAgICAgICAgICAgICB0aGlzLmVsLFxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucm93LFxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZmllbGRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogZmFsc2UgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5yb3cgIT09IG5leHRQcm9wcy5yb3cpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV4dFN0YXRlLmxvYWRpbmcgJiYgdGhpcy5zaG91bGRSZW5kZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvdWxkUmVuZGVyID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbG9hZEN1c3RvbUNvbnRyb2wgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMudHlwZSA9PT0gJ2V4dGVybmFsJykge1xuICAgICAgICAgICAgICAgIGltcG9ydChcbiAgICAgICAgICAgICAgICAgICAgLyogd2VicGFja0lnbm9yZTogdHJ1ZSAqLyBgJHtnZXRCdWlsZERpclBhdGgoKX0vY3VzdG9tLyR7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmZpbGVOYW1lXG4gICAgICAgICAgICAgICAgICAgIH0uanNgXG4gICAgICAgICAgICAgICAgKS50aGVuKChleHRlcm5hbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBDb250cm9sID0gZXh0ZXJuYWwuZGVmYXVsdDtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShDb250cm9sKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2xvYmFsQ29uZmlnID0gZ2V0VW5pZmllZENvbmZpZ3MoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhcHBOYW1lID0gZ2xvYmFsQ29uZmlnLm1ldGEubmFtZTtcbiAgICAgICAgICAgICAgICBfX25vbl93ZWJwYWNrX3JlcXVpcmVfXyhcbiAgICAgICAgICAgICAgICAgICAgW2BhcHAvJHthcHBOYW1lfS9qcy9idWlsZC9jdXN0b20vJHt0aGlzLnByb3BzLmZpbGVOYW1lfWBdLFxuICAgICAgICAgICAgICAgICAgICAoQ29udHJvbCkgPT4gcmVzb2x2ZShDb250cm9sKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5sb2FkaW5nKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tQ29udHJvbC5yZW5kZXIodGhpcy5wcm9wcy5yb3csIHRoaXMucHJvcHMuZmllbGQpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUubG9hZGluZyAmJiBfKCdMb2FkaW5nLi4uJyl9XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICA8c3BhbiAvLyBub3NlbWdyZXA6IHR5cGVzY3JpcHQucmVhY3Quc2VjdXJpdHkuYXVkaXQucmVhY3Qtbm8tcmVmcy5yZWFjdC1uby1yZWZzXG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9eyhlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWwgPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB2aXNpYmlsaXR5OiB0aGlzLnN0YXRlLmxvYWRpbmcgPyAnaGlkZGVuJyA6ICd2aXNpYmxlJyB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuQ3VzdG9tVGFibGVDb250cm9sLnByb3BUeXBlcyA9IHtcbiAgICBzZXJ2aWNlTmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIHJvdzogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGZpZWxkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGZpbGVOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgdHlwZTogUHJvcFR5cGVzLnN0cmluZyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEN1c3RvbVRhYmxlQ29udHJvbDtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgREwgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9EZWZpbml0aW9uTGlzdCc7XG5pbXBvcnQgVGFibGUgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9UYWJsZSc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IF8gfSBmcm9tICdAc3BsdW5rL3VpLXV0aWxzL2kxOG4nO1xuXG5pbXBvcnQgQ3VzdG9tVGFibGVDb250cm9sIGZyb20gJy4vQ3VzdG9tVGFibGVDb250cm9sJztcbmltcG9ydCB7IGdldFVuaWZpZWRDb25maWdzIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcblxuY29uc3QgVGFibGVDZWxsV3JhcHBlciA9IHN0eWxlZChUYWJsZS5DZWxsKWBcbiAgICBib3JkZXItdG9wOiBub25lO1xuYDtcblxuZnVuY3Rpb24gZ2V0RXhwYW5zaW9uUm93RGF0YShyb3csIG1vcmVJbmZvKSB7XG4gICAgY29uc3QgRGVmaW5pdGlvbkxpc3RzID0gW107XG5cbiAgICBpZiAobW9yZUluZm8/Lmxlbmd0aCkge1xuICAgICAgICBtb3JlSW5mby5mb3JFYWNoKCh2YWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gXyh2YWwubGFiZWwpO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGV4dHJhIHJvd3Mgd2hpY2ggYXJlIGVtcHR5IGluIG1vcmVJbmZvXG4gICAgICAgICAgICBpZiAodmFsLmZpZWxkIGluIHJvdyAmJiByb3dbdmFsLmZpZWxkXSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICBEZWZpbml0aW9uTGlzdHMucHVzaCg8REwuVGVybSBrZXk9e3ZhbC5maWVsZH0+e2xhYmVsfTwvREwuVGVybT4pO1xuICAgICAgICAgICAgICAgIERlZmluaXRpb25MaXN0cy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICA8REwuRGVzY3JpcHRpb24ga2V5PXtgJHt2YWwuZmllbGR9X2RlY3JgfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt2YWwubWFwcGluZyAmJiB2YWwubWFwcGluZ1tyb3dbdmFsLmZpZWxkXV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHZhbC5tYXBwaW5nW3Jvd1t2YWwuZmllbGRdXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogU3RyaW5nKHJvd1t2YWwuZmllbGRdKX1cbiAgICAgICAgICAgICAgICAgICAgPC9ETC5EZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIERlZmluaXRpb25MaXN0cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEV4cGFuc2lvblJvdyhjb2xTcGFuLCByb3csIG1vcmVJbmZvKSB7XG4gICAgY29uc3QgeyBjdXN0b21Sb3cgfSA9IGdldFVuaWZpZWRDb25maWdzKCkucGFnZXMuaW5wdXRzLnRhYmxlO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPFRhYmxlLlJvdyBrZXk9e2Ake3Jvdy5pZH0tZXhwYW5zaW9uYH0+XG4gICAgICAgICAgICA8VGFibGVDZWxsV3JhcHBlciBjb2xTcGFuPXtjb2xTcGFufT5cbiAgICAgICAgICAgICAgICB7Y3VzdG9tUm93ICYmIGN1c3RvbVJvdy5zcmMgPyAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICB7UmVhY3QuY3JlYXRlRWxlbWVudChDdXN0b21UYWJsZUNvbnRyb2wsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZTogcm93LnNlcnZpY2VOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZTogY3VzdG9tUm93LnNyYyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8REwgdGVybVdpZHRoPXsyNTB9PntnZXRFeHBhbnNpb25Sb3dEYXRhKHJvdywgbW9yZUluZm8pfTwvREw+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvVGFibGVDZWxsV3JhcHBlcj5cbiAgICAgICAgPC9UYWJsZS5Sb3c+XG4gICAgKTtcbn1cbiIsImltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCBXYWl0U3Bpbm5lciBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL1dhaXRTcGlubmVyJztcbmltcG9ydCBTd2l0Y2ggZnJvbSAnQHNwbHVuay9yZWFjdC11aS9Td2l0Y2gnO1xuaW1wb3J0IFRhYmxlIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvVGFibGUnO1xuaW1wb3J0IEJ1dHRvbkdyb3VwIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvQnV0dG9uR3JvdXAnO1xuaW1wb3J0IFRvb2x0aXAgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9Ub29sdGlwJztcbmltcG9ydCBQZW5jaWwgZnJvbSAnQHNwbHVuay9yZWFjdC1pY29ucy9QZW5jaWwnO1xuaW1wb3J0IENsb25lIGZyb20gJ0BzcGx1bmsvcmVhY3QtaWNvbnMvQ2xvbmUnO1xuaW1wb3J0IFRyYXNoIGZyb20gJ0BzcGx1bmsvcmVhY3QtaWNvbnMvVHJhc2gnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBfIH0gZnJvbSAnQHNwbHVuay91aS11dGlscy9pMThuJztcblxuaW1wb3J0IEN1c3RvbVRhYmxlQ29udHJvbCBmcm9tICcuL0N1c3RvbVRhYmxlQ29udHJvbCc7XG5pbXBvcnQgeyBBY3Rpb25CdXR0b25Db21wb25lbnQgfSBmcm9tICcuL0N1c3RvbVRhYmxlU3R5bGUnO1xuXG5jb25zdCBUYWJsZUNlbGxXcmFwcGVyID0gc3R5bGVkKFRhYmxlLkNlbGwpYFxuICAgIHBhZGRpbmc6IDJweDtcbmA7XG5cbmNvbnN0IFN3aXRjaFdyYXBwZXIgPSBzdHlsZWQuZGl2YFxuICAgIGRpc3BsYXk6IGZsZXg7XG5cbiAgICAudG9nZ2xlX3N3aXRjaCB7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgICB9XG5gO1xuXG5mdW5jdGlvbiBDdXN0b21UYWJsZVJvdyhwcm9wcykge1xuICAgIGNvbnN0IHtcbiAgICAgICAgcm93LFxuICAgICAgICBjb2x1bW5zLFxuICAgICAgICBoZWFkZXJNYXBwaW5nLFxuICAgICAgICBoYW5kbGVUb2dnbGVBY3Rpb25DbGljayxcbiAgICAgICAgaGFuZGxlRWRpdEFjdGlvbkNsaWNrLFxuICAgICAgICBoYW5kbGVDbG9uZUFjdGlvbkNsaWNrLFxuICAgICAgICBoYW5kbGVEZWxldGVBY3Rpb25DbGljayxcbiAgICB9ID0gcHJvcHM7XG5cbiAgICBjb25zdCBnZXRDdXN0b21DZWxsID0gKGN1c3RvbVJvdywgaGVhZGVyKSA9PiB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEN1c3RvbVRhYmxlQ29udHJvbCwge1xuICAgICAgICAgICAgc2VydmljZU5hbWU6IHJvdy5zZXJ2aWNlTmFtZSxcbiAgICAgICAgICAgIGZpZWxkOiBoZWFkZXIuZmllbGQsXG4gICAgICAgICAgICByb3c6IGN1c3RvbVJvdyxcbiAgICAgICAgICAgIGZpbGVOYW1lOiBoZWFkZXIuY3VzdG9tQ2VsbC5zcmMsXG4gICAgICAgICAgICB0eXBlOiBoZWFkZXIuY3VzdG9tQ2VsbC50eXBlLFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgcm93QWN0aW9uc1ByaW1hcnlCdXR0b24gPSB1c2VDYWxsYmFjayhcbiAgICAgICAgKHNlbGVjdGVkUm93KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxUYWJsZUNlbGxXcmFwcGVyIGRhdGEtY29sdW1uPVwiYWN0aW9uc1wiIGtleT17c2VsZWN0ZWRSb3cuaWR9PlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uR3JvdXA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VG9vbHRpcCBjb250ZW50PXtfKCdFZGl0Jyl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBY3Rpb25CdXR0b25Db21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZWFyYW5jZT1cImZsYXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXs8UGVuY2lsIHNjcmVlblJlYWRlclRleHQ9e251bGx9IHNpemU9ezF9IC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVFZGl0QWN0aW9uQ2xpY2soc2VsZWN0ZWRSb3cpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJlZGl0QnRuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRvb2x0aXAgY29udGVudD17XygnQ2xvbmUnKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFjdGlvbkJ1dHRvbkNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlYXJhbmNlPVwiZmxhdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxDbG9uZSBzY3JlZW5SZWFkZXJUZXh0PXtudWxsfSBzaXplPXsxfSAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQ2xvbmVBY3Rpb25DbGljayhzZWxlY3RlZFJvdyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb25lQnRuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRvb2x0aXAgY29udGVudD17XygnRGVsZXRlJyl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBY3Rpb25CdXR0b25Db21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZWFyYW5jZT1cImRlc3RydWN0aXZlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17PFRyYXNoIHNjcmVlblJlYWRlclRleHQ9e251bGx9IHNpemU9ezF9IC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEZWxldGVBY3Rpb25DbGljayhzZWxlY3RlZFJvdyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRlbGV0ZUJ0blwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b25Hcm91cD5cbiAgICAgICAgICAgICAgICA8L1RhYmxlQ2VsbFdyYXBwZXI+XG4gICAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICBbaGFuZGxlRWRpdEFjdGlvbkNsaWNrLCBoYW5kbGVDbG9uZUFjdGlvbkNsaWNrLCBoYW5kbGVEZWxldGVBY3Rpb25DbGlja11cbiAgICApO1xuXG4gICAgbGV0IHN0YXR1c0NvbnRlbnQgPSAnRW5hYmxlZCc7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVyc2NvcmUtZGFuZ2xlXG4gICAgaWYgKHJvdy5fX3RvZ2dsZVNob3dTcGlubmVyKSB7XG4gICAgICAgIHN0YXR1c0NvbnRlbnQgPSA8V2FpdFNwaW5uZXIgLz47XG4gICAgfSBlbHNlIGlmIChyb3cuZGlzYWJsZWQpIHtcbiAgICAgICAgc3RhdHVzQ29udGVudCA9XG4gICAgICAgICAgICBoZWFkZXJNYXBwaW5nPy5kaXNhYmxlZCAmJiBoZWFkZXJNYXBwaW5nLmRpc2FibGVkW3Jvdy5kaXNhYmxlZF1cbiAgICAgICAgICAgICAgICA/IGhlYWRlck1hcHBpbmcuZGlzYWJsZWRbcm93LmRpc2FibGVkXVxuICAgICAgICAgICAgICAgIDogJ0Rpc2FibGVkJztcbiAgICB9XG5cbiAgICAvLyBGaXggc2V0IG9mIHByb3BzIGFyZSBwYXNzZWQgdG8gVGFibGUuUm93IGVsZW1lbnRcbiAgICByZXR1cm4gKFxuICAgICAgICA8PlxuICAgICAgICAgICAgPFRhYmxlLlJvdyAvLyBub3NlbWdyZXA6IHR5cGVzY3JpcHQucmVhY3Quc2VjdXJpdHkuYXVkaXQucmVhY3QtcHJvcHMtaW5qZWN0aW9uLnJlYWN0LXByb3BzLWluamVjdGlvbiwgdHlwZXNjcmlwdC5yZWFjdC5iZXN0LXByYWN0aWNlLnJlYWN0LXByb3BzLXNwcmVhZGluZy5yZWFjdC1wcm9wcy1zcHJlYWRpbmdcbiAgICAgICAgICAgICAgICBrZXk9e3Jvdy5pZH1cbiAgICAgICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2NvbHVtbnMgJiZcbiAgICAgICAgICAgICAgICAgICAgY29sdW1ucy5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAgICAgY29sdW1ucy5tYXAoKGhlYWRlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxIVE1MID0gJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZWFkZXIuY3VzdG9tQ2VsbCAmJiBoZWFkZXIuY3VzdG9tQ2VsbC5zcmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsSFRNTCA9IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGwgZGF0YS1jb2x1bW49e2hlYWRlci5maWVsZH0ga2V5PXtoZWFkZXIuZmllbGR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2dldEN1c3RvbUNlbGwocm93LCBoZWFkZXIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLkNlbGw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaGVhZGVyLmZpZWxkID09PSAnZGlzYWJsZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbEhUTUwgPSAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsIGRhdGEtY29sdW1uPXtoZWFkZXIuZmllbGR9IGtleT17aGVhZGVyLmZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTd2l0Y2hXcmFwcGVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTd2l0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtyb3cubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3Jvdy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlVG9nZ2xlQWN0aW9uQ2xpY2socm93KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ9eyFyb3cuZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlcnNjb3JlLWRhbmdsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cm93Ll9fdG9nZ2xlU2hvd1NwaW5uZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U9XCJ0b2dnbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0b2dnbGVfc3dpdGNoXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMYWJlbD17XyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlck1hcHBpbmc/LmRpc2FibGVkPy5mYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaGVhZGVyTWFwcGluZy5kaXNhYmxlZC5mYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ0VuYWJsZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2VsZWN0ZWRMYWJlbD17XyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlck1hcHBpbmc/LmRpc2FibGVkPy50cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBoZWFkZXJNYXBwaW5nLmRpc2FibGVkLnRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdEaXNhYmxlZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGRhdGEtdGVzdD1cInN0YXR1c1wiPntzdGF0dXNDb250ZW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU3dpdGNoV3JhcHBlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZS5DZWxsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhlYWRlci5maWVsZCA9PT0gJ2FjdGlvbnMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbEhUTUwgPSByb3dBY3Rpb25zUHJpbWFyeUJ1dHRvbihyb3cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsSFRNTCA9IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGwgZGF0YS1jb2x1bW49e2hlYWRlci5maWVsZH0ga2V5PXtoZWFkZXIuZmllbGR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2hlYWRlck1hcHBpbmdbaGVhZGVyLmZpZWxkXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlck1hcHBpbmdbaGVhZGVyLmZpZWxkXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dbaGVhZGVyLmZpZWxkXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaGVhZGVyTWFwcGluZ1toZWFkZXIuZmllbGRdW3Jvd1toZWFkZXIuZmllbGRdXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcm93W2hlYWRlci5maWVsZF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGUuQ2VsbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlbGxIVE1MO1xuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvVGFibGUuUm93PlxuICAgICAgICA8Lz5cbiAgICApO1xufVxuXG5DdXN0b21UYWJsZVJvdy5wcm9wVHlwZXMgPSB7XG4gICAgcm93OiBQcm9wVHlwZXMuYW55LFxuICAgIGNvbHVtbnM6IFByb3BUeXBlcy5hcnJheSxcbiAgICBoZWFkZXJNYXBwaW5nOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGhhbmRsZVRvZ2dsZUFjdGlvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBoYW5kbGVFZGl0QWN0aW9uQ2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuICAgIGhhbmRsZUNsb25lQWN0aW9uQ2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuICAgIGhhbmRsZURlbGV0ZUFjdGlvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0Lm1lbW8oQ3VzdG9tVGFibGVSb3cpO1xuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvQnV0dG9uJztcbmltcG9ydCBNb2RhbCBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL01vZGFsJztcbmltcG9ydCBNZXNzYWdlIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvTWVzc2FnZSc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCBXYWl0U3Bpbm5lciBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL1dhaXRTcGlubmVyJztcbmltcG9ydCB1cGRhdGUgZnJvbSAnaW1tdXRhYmlsaXR5LWhlbHBlcic7XG5pbXBvcnQgeyBfIH0gZnJvbSAnQHNwbHVuay91aS11dGlscy9pMThuJztcbmltcG9ydCB7IGdlbmVyYXRlVG9hc3QgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuXG5pbXBvcnQgeyBheGlvc0NhbGxXcmFwcGVyIH0gZnJvbSAnLi4vdXRpbC9heGlvc0NhbGxXcmFwcGVyJztcbmltcG9ydCBUYWJsZUNvbnRleHQgZnJvbSAnLi4vY29udGV4dC9UYWJsZUNvbnRleHQnO1xuaW1wb3J0IHsgcGFyc2VFcnJvck1zZywgZ2V0Rm9ybWF0dGVkTWVzc2FnZSB9IGZyb20gJy4uL3V0aWwvbWVzc2FnZVV0aWwnO1xuaW1wb3J0IHsgUEFHRV9JTlBVVCB9IGZyb20gJy4uL2NvbnN0YW50cy9wYWdlcyc7XG5cbmNvbnN0IE1vZGFsV3JhcHBlciA9IHN0eWxlZChNb2RhbClgXG4gICAgd2lkdGg6IDgwMHB4O1xuYDtcblxuY2xhc3MgRGVsZXRlTW9kYWwgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBjb250ZXh0VHlwZSA9IFRhYmxlQ29udGV4dDtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHsgaXNEZWxldGluZzogZmFsc2UsIEVycm9yTXNnOiAnJyB9O1xuICAgIH1cblxuICAgIGhhbmRsZVJlcXVlc3RDbG9zZSA9ICgpID0+IHtcbiAgICAgICAgLy8gc2V0IEVycm9yTXNnIHRvIGVtcHR5IHN0cmluZyBvbiBjbG9zZSBvciBjYW5jZWxcbiAgICAgICAgLy8gc28gdGhhdCBvbiBhZ2FpbiBvcGVuIG9mIG1vZGFsIGl0IGRvZXMgbm90IHNob3cgdGhlIHNhbWUgRXJyb3JNc2dcbiAgICAgICAgdGhpcy5zdGF0ZS5FcnJvck1zZyA9ICcnO1xuICAgICAgICB0aGlzLnByb3BzLmhhbmRsZVJlcXVlc3RDbG9zZSgpO1xuICAgIH07XG5cbiAgICBoYW5kbGVEZWxldGUgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXG4gICAgICAgICAgICAocHJldlN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBpc0RlbGV0aW5nOiB0cnVlLCBFcnJvck1zZzogJycgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXhpb3NDYWxsV3JhcHBlcih7XG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lOiBgJHt0aGlzLnByb3BzLnNlcnZpY2VOYW1lfS8ke2VuY29kZVVSSUNvbXBvbmVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc3RhbnphTmFtZVxuICAgICAgICAgICAgICAgICAgICApfWAsXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbUhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnIH0sXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ2RlbGV0ZScsXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JTdWJtaXRNc2cgPSBwYXJzZUVycm9yTXNnKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgRXJyb3JNc2c6IGVycm9yU3VibWl0TXNnLCBpc0RlbGV0aW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc2V0Um93RGF0YShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUodGhpcy5jb250ZXh0LnJvd0RhdGEsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMucHJvcHMuc2VydmljZU5hbWVdOiB7ICR1bnNldDogW3RoaXMucHJvcHMuc3RhbnphTmFtZV0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0RlbGV0aW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVxdWVzdENsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZVRvYXN0KGBEZWxldGVkIFwiJHt0aGlzLnByb3BzLnN0YW56YU5hbWV9XCJgLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgLy8gRGlzcGxheSBlcnJvciBtZXNzYWdlXG4gICAgZ2VuZXJhdGVFcnJvck1lc3NhZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLkVycm9yTXNnKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxNZXNzYWdlIGFwcGVhcmFuY2U9XCJmaWxsXCIgdHlwZT1cImVycm9yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5FcnJvck1zZ31cbiAgICAgICAgICAgICAgICAgICAgPC9NZXNzYWdlPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBsZXQgZGVsZXRlTXNnO1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5wYWdlID09PSBQQUdFX0lOUFVUKSB7XG4gICAgICAgICAgICBkZWxldGVNc2cgPSBnZXRGb3JtYXR0ZWRNZXNzYWdlKDEwMywgW3RoaXMucHJvcHMuc3RhbnphTmFtZV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlTXNnID0gZ2V0Rm9ybWF0dGVkTWVzc2FnZSgxMDIsIFt0aGlzLnByb3BzLnN0YW56YU5hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPE1vZGFsV3JhcHBlciBvcGVuPXt0aGlzLnByb3BzLm9wZW59PlxuICAgICAgICAgICAgICAgIDxNb2RhbC5IZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2dldEZvcm1hdHRlZE1lc3NhZ2UoMTAxKX1cbiAgICAgICAgICAgICAgICAgICAgb25SZXF1ZXN0Q2xvc2U9e3RoaXMuaGFuZGxlUmVxdWVzdENsb3NlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPE1vZGFsLkJvZHkgY2xhc3NOYW1lPVwiZGVsZXRlUHJvbXB0XCI+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmdlbmVyYXRlRXJyb3JNZXNzYWdlKCl9XG4gICAgICAgICAgICAgICAgICAgIDxwPntkZWxldGVNc2d9PC9wPlxuICAgICAgICAgICAgICAgIDwvTW9kYWwuQm9keT5cbiAgICAgICAgICAgICAgICA8TW9kYWwuRm9vdGVyPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlYXJhbmNlPVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlUmVxdWVzdENsb3NlfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e18oJ0NhbmNlbCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNEZWxldGluZ31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZWFyYW5jZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e3RoaXMuc3RhdGUuaXNEZWxldGluZyA/IDxXYWl0U3Bpbm5lciAvPiA6IF8oJ0RlbGV0ZScpfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVEZWxldGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0RlbGV0aW5nfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvTW9kYWwuRm9vdGVyPlxuICAgICAgICAgICAgPC9Nb2RhbFdyYXBwZXI+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5EZWxldGVNb2RhbC5wcm9wVHlwZXMgPSB7XG4gICAgcGFnZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIG9wZW46IFByb3BUeXBlcy5ib29sLFxuICAgIGhhbmRsZVJlcXVlc3RDbG9zZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgc2VydmljZU5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgc3RhbnphTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IERlbGV0ZU1vZGFsO1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIG1lbW8sIHVzZVN0YXRlLCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuaW1wb3J0IFRhYmxlIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvVGFibGUnO1xuaW1wb3J0IHsgXyB9IGZyb20gJ0BzcGx1bmsvdWktdXRpbHMvaTE4bic7XG5cbmltcG9ydCB1c2VRdWVyeSBmcm9tICcuLi8uLi9ob29rcy91c2VRdWVyeSc7XG5pbXBvcnQgeyBNT0RFX0NMT05FLCBNT0RFX0VESVQgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvbW9kZXMnO1xuaW1wb3J0IHsgUEFHRV9JTlBVVCB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9wYWdlcyc7XG5pbXBvcnQgeyBnZXRVbmlmaWVkQ29uZmlncyB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyBnZXRFeHBhbnNpb25Sb3cgfSBmcm9tICcuL1RhYmxlRXhwYW5zaW9uUm93JztcbmltcG9ydCB7IFNUWUxFX01PREFMLCBTVFlMRV9QQUdFIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL2RpYWxvZ1N0eWxlcyc7XG5pbXBvcnQgQ3VzdG9tVGFibGVSb3cgZnJvbSAnLi9DdXN0b21UYWJsZVJvdyc7XG5pbXBvcnQgRW50aXR5TW9kYWwgZnJvbSAnLi4vRW50aXR5TW9kYWwnO1xuaW1wb3J0IERlbGV0ZU1vZGFsIGZyb20gJy4uL0RlbGV0ZU1vZGFsJztcbmltcG9ydCBUYWJsZUNvbnRleHQgZnJvbSAnLi4vLi4vY29udGV4dC9UYWJsZUNvbnRleHQnO1xuaW1wb3J0IHsgTm9SZWNvcmRzRGl2IH0gZnJvbSAnLi9DdXN0b21UYWJsZVN0eWxlJztcblxuZnVuY3Rpb24gQ3VzdG9tVGFibGUoe1xuICAgIHBhZ2UsXG4gICAgc2VydmljZU5hbWUsXG4gICAgZGF0YSxcbiAgICBoYW5kbGVUb2dnbGVBY3Rpb25DbGljayxcbiAgICBoYW5kbGVPcGVuUGFnZVN0eWxlRGlhbG9nLFxuICAgIGhhbmRsZVNvcnQsXG4gICAgc29ydERpcixcbiAgICBzb3J0S2V5LFxufSkge1xuICAgIGNvbnN0IHVuaWZpZWRDb25maWdzID0gZ2V0VW5pZmllZENvbmZpZ3MoKTtcbiAgICBjb25zdCBbZW50aXR5TW9kYWwsIHNldEVudGl0eU1vZGFsXSA9IHVzZVN0YXRlKHsgb3BlbjogZmFsc2UgfSk7XG4gICAgY29uc3QgW2RlbGV0ZU1vZGFsLCBzZXREZWxldGVNb2RhbF0gPSB1c2VTdGF0ZSh7IG9wZW46IGZhbHNlIH0pO1xuXG4gICAgY29uc3QgeyByb3dEYXRhIH0gPSB1c2VDb250ZXh0KFRhYmxlQ29udGV4dCk7XG5cbiAgICBjb25zdCB0YWJsZUNvbmZpZyA9XG4gICAgICAgIHBhZ2UgPT09IFBBR0VfSU5QVVRcbiAgICAgICAgICAgID8gdW5pZmllZENvbmZpZ3MucGFnZXMuaW5wdXRzLnRhYmxlXG4gICAgICAgICAgICA6IHVuaWZpZWRDb25maWdzLnBhZ2VzLmNvbmZpZ3VyYXRpb24udGFicy5maWx0ZXIoKHgpID0+IHgubmFtZSA9PT0gc2VydmljZU5hbWUpWzBdXG4gICAgICAgICAgICAgICAgICAudGFibGU7XG4gICAgY29uc3QgeyBtb3JlSW5mbywgaGVhZGVyIH0gPSB0YWJsZUNvbmZpZztcbiAgICBjb25zdCBoZWFkZXJzID0gdGFibGVDb25maWcuaGVhZGVyO1xuXG4gICAgY29uc3QgaGVhZGVyTWFwcGluZyA9IHt9O1xuICAgIGhlYWRlci5mb3JFYWNoKCh4KSA9PiB7XG4gICAgICAgIGhlYWRlck1hcHBpbmdbeC5maWVsZF0gPSB4Lm1hcHBpbmc7XG4gICAgfSk7XG5cbiAgICBjb25zdCBzZXJ2aWNlVG9TdHlsZU1hcCA9IHt9O1xuICAgIGlmIChwYWdlID09PSBQQUdFX0lOUFVUKSB7XG4gICAgICAgIHVuaWZpZWRDb25maWdzLnBhZ2VzLmlucHV0cy5zZXJ2aWNlcy5mb3JFYWNoKCh4KSA9PiB7XG4gICAgICAgICAgICBzZXJ2aWNlVG9TdHlsZU1hcFt4Lm5hbWVdID0geC5zdHlsZSA9PT0gU1RZTEVfUEFHRSA/IFNUWUxFX1BBR0UgOiBTVFlMRV9NT0RBTDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcXVlcnkgPSB1c2VRdWVyeSgpO1xuXG4gICAgLy8gUnVuIG9ubHkgb25jZSB3aGVuIGNvbXBvbmVudCBpcyBtb3VudGVkIHRvIGxvYWQgY29tcG9uZW50IGJhc2VkIG9uIGluaXRpYWwgcXVlcnkgcGFyYW1zXG4gICAgLy8gYW5kIHdoZW4gcXVlcnkgcGFyYW1zIGFyZSB1cGRhdGVkXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gT25seSBydW4gd2hlbiB0YWIgbWF0Y2hlcyBzZXJ2aWNlTmFtZSBvciBpZiBpbiBpbnB1dCBwYWdlIHdoZXJlIHNlcnZpY2VOYW1lIGlzIHVuZGVmaW5lZFxuICAgICAgICBpZiAocXVlcnkgJiYgKHF1ZXJ5LmdldCgndGFiJykgPT09IHNlcnZpY2VOYW1lIHx8IHR5cGVvZiBzZXJ2aWNlTmFtZSA9PT0gJ3VuZGVmaW5lZCcpKSB7XG4gICAgICAgICAgICAvLyBPcGVuIG1vZGFsIHdoZW4gcmVjb3JkIGlzIGF2YWlsYWJsZSBpbiBxdWVyeSBwYXJhbXMgYW5kIG1vZGFsIGlzIG5vdCBvcGVuXG4gICAgICAgICAgICBpZiAocXVlcnkuZ2V0KCdyZWNvcmQnKSAmJiAhZW50aXR5TW9kYWwub3Blbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZpY2VLZXkgPSBPYmplY3Qua2V5cyhyb3dEYXRhKS5maW5kKFxuICAgICAgICAgICAgICAgICAgICAoeCkgPT4gdHlwZW9mIHJvd0RhdGFbeF1bcXVlcnkuZ2V0KCdyZWNvcmQnKV0gIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VydmljZUtleSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByb3cgPSByb3dEYXRhW3NlcnZpY2VLZXldW3F1ZXJ5LmdldCgncmVjb3JkJyldO1xuICAgICAgICAgICAgICAgICAgICBzZXRFbnRpdHlNb2RhbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5lbnRpdHlNb2RhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZTogcm93LnNlcnZpY2VOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhbnphTmFtZTogcm93Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiBNT0RFX0VESVQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXF1ZXJ5LmdldCgncmVjb3JkJykgJiYgZW50aXR5TW9kYWwub3Blbikge1xuICAgICAgICAgICAgICAgIC8vIENsb3NlIG1vZGFsIGlmIHJlY29yZCBxdWVyeSBwYXJhbSBpcyBub3QgYXZhaWxhYmxlIGFuZCBtb2RhbCBpcyBvcGVuXG4gICAgICAgICAgICAgICAgLy8gTk9URTogVGhpcyBzaG91bGQgb25seSBiZSBleGVjdXRlZCBpbiBjYXNlIG9mIE1PREVfRURJVCB3aGljaCBpcyBoYW5kbGVkIGJ5XG4gICAgICAgICAgICAgICAgLy8gdXNlRWZmZWN0IGRlcGVuZGVuY3kgd2hpY2ggd2lsbCBvbmx5IGJlIGNoYW5nZWQgaW4gY2FzZSBvZiBlZGl0aW5nIGVudGl0eVxuICAgICAgICAgICAgICAgIHNldEVudGl0eU1vZGFsKHsgLi4uZW50aXR5TW9kYWwsIG9wZW46IGZhbHNlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICB9LCBbXSk7XG5cbiAgICBjb25zdCBoYW5kbGVFbnRpdHlDbG9zZSA9ICgpID0+IHtcbiAgICAgICAgc2V0RW50aXR5TW9kYWwoeyAuLi5lbnRpdHlNb2RhbCwgb3BlbjogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUVkaXRBY3Rpb25DbGljayA9IHVzZUNhbGxiYWNrKFxuICAgICAgICAoc2VsZWN0ZWRSb3cpID0+IHtcbiAgICAgICAgICAgIGlmIChzZXJ2aWNlVG9TdHlsZU1hcFtzZWxlY3RlZFJvdy5zZXJ2aWNlTmFtZV0gPT09ICdwYWdlJykge1xuICAgICAgICAgICAgICAgIGhhbmRsZU9wZW5QYWdlU3R5bGVEaWFsb2coc2VsZWN0ZWRSb3csIE1PREVfRURJVCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldEVudGl0eU1vZGFsKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZW50aXR5TW9kYWwsXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lOiBzZWxlY3RlZFJvdy5zZXJ2aWNlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhbnphTmFtZTogc2VsZWN0ZWRSb3cubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogTU9ERV9FRElULFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgICAgIFtlbnRpdHlNb2RhbF1cbiAgICApO1xuXG4gICAgY29uc3QgaGFuZGxlRGVsZXRlQ2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIHNldERlbGV0ZU1vZGFsKHsgLi4uZGVsZXRlTW9kYWwsIG9wZW46IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVDbG9uZUFjdGlvbkNsaWNrID0gdXNlQ2FsbGJhY2soXG4gICAgICAgIChzZWxlY3RlZFJvdykgPT4ge1xuICAgICAgICAgICAgaWYgKHNlcnZpY2VUb1N0eWxlTWFwW3NlbGVjdGVkUm93LnNlcnZpY2VOYW1lXSA9PT0gJ3BhZ2UnKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlT3BlblBhZ2VTdHlsZURpYWxvZyhzZWxlY3RlZFJvdywgTU9ERV9DTE9ORSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldEVudGl0eU1vZGFsKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZW50aXR5TW9kYWwsXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lOiBzZWxlY3RlZFJvdy5zZXJ2aWNlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhbnphTmFtZTogc2VsZWN0ZWRSb3cubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogTU9ERV9DTE9ORSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgICAgICBbZW50aXR5TW9kYWxdXG4gICAgKTtcblxuICAgIGNvbnN0IGhhbmRsZURlbGV0ZUFjdGlvbkNsaWNrID0gdXNlQ2FsbGJhY2soXG4gICAgICAgIChzZWxlY3RlZFJvdykgPT4ge1xuICAgICAgICAgICAgc2V0RGVsZXRlTW9kYWwoe1xuICAgICAgICAgICAgICAgIC4uLmRlbGV0ZU1vZGFsLFxuICAgICAgICAgICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgICAgICAgICAgc3RhbnphTmFtZTogc2VsZWN0ZWRSb3cubmFtZSxcbiAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZTogc2VsZWN0ZWRSb3cuc2VydmljZU5hbWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgW2RlbGV0ZU1vZGFsXVxuICAgICk7XG5cbiAgICBjb25zdCBnZW5lcmF0ZU1vZGFsRGlhbG9nID0gKCkgPT4ge1xuICAgICAgICBpZiAoZW50aXR5TW9kYWwub3Blbikge1xuICAgICAgICAgICAgbGV0IGxhYmVsO1xuICAgICAgICAgICAgaWYgKHBhZ2UgPT09ICdpbnB1dHMnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzZXJ2aWNlcyB9ID0gdW5pZmllZENvbmZpZ3MucGFnZXM/LmlucHV0cztcbiAgICAgICAgICAgICAgICBsYWJlbCA9IHNlcnZpY2VzLmZpbmQoKHgpID0+IHgubmFtZSA9PT0gZW50aXR5TW9kYWwuc2VydmljZU5hbWUpPy50aXRsZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0YWJzIH0gPSB1bmlmaWVkQ29uZmlncy5wYWdlcz8uY29uZmlndXJhdGlvbjtcbiAgICAgICAgICAgICAgICBsYWJlbCA9IHRhYnMuZmluZCgoeCkgPT4geC5uYW1lID09PSBlbnRpdHlNb2RhbC5zZXJ2aWNlTmFtZSk/LnRpdGxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8RW50aXR5TW9kYWxcbiAgICAgICAgICAgICAgICAgICAgcGFnZT17cGFnZX1cbiAgICAgICAgICAgICAgICAgICAgb3Blbj17ZW50aXR5TW9kYWwub3Blbn1cbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlUmVxdWVzdENsb3NlPXtoYW5kbGVFbnRpdHlDbG9zZX1cbiAgICAgICAgICAgICAgICAgICAgc2VydmljZU5hbWU9e2VudGl0eU1vZGFsLnNlcnZpY2VOYW1lfVxuICAgICAgICAgICAgICAgICAgICBzdGFuemFOYW1lPXtlbnRpdHlNb2RhbC5zdGFuemFOYW1lfVxuICAgICAgICAgICAgICAgICAgICBtb2RlPXtlbnRpdHlNb2RhbC5tb2RlfVxuICAgICAgICAgICAgICAgICAgICBmb3JtTGFiZWw9e1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5TW9kYWwubW9kZSA9PT0gTU9ERV9DTE9ORSA/IF8oYENsb25lIGApICsgbGFiZWwgOiBfKGBVcGRhdGUgYCkgKyBsYWJlbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IGdlbmVyYXRlRGVsZXRlRGlhbG9nID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPERlbGV0ZU1vZGFsXG4gICAgICAgICAgICAgICAgcGFnZT17cGFnZX1cbiAgICAgICAgICAgICAgICBvcGVuPXtkZWxldGVNb2RhbC5vcGVufVxuICAgICAgICAgICAgICAgIGhhbmRsZVJlcXVlc3RDbG9zZT17aGFuZGxlRGVsZXRlQ2xvc2V9XG4gICAgICAgICAgICAgICAgc2VydmljZU5hbWU9e2RlbGV0ZU1vZGFsLnNlcnZpY2VOYW1lfVxuICAgICAgICAgICAgICAgIHN0YW56YU5hbWU9e2RlbGV0ZU1vZGFsLnN0YW56YU5hbWV9XG4gICAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgIH07XG5cbiAgICBjb25zdCBnZW5lcmF0ZUNvbHVtbnMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbHVtbiA9IFtdO1xuICAgICAgICBpZiAoaGVhZGVycyAmJiBoZWFkZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgaGVhZGVycy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgY29sdW1uLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICAgICAgICBzb3J0S2V5OiBpdGVtLmZpZWxkIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb2x1bW4ucHVzaCh7IGxhYmVsOiAnQWN0aW9ucycsIGZpZWxkOiAnYWN0aW9ucycsIHNvcnRLZXk6ICcnIH0pO1xuICAgICAgICByZXR1cm4gY29sdW1uO1xuICAgIH07XG5cbiAgICBjb25zdCBjb2x1bW5zID0gZ2VuZXJhdGVDb2x1bW5zKCk7XG5cbiAgICBjb25zdCBnZXRUYWJsZUhlYWRlckNlbGwgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8VGFibGUuSGVhZD5cbiAgICAgICAgICAgICAgICB7Y29sdW1ucyAmJlxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5zLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5zLm1hcCgoaGVhZERhdGEpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5IZWFkQ2VsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aGVhZERhdGEuZmllbGR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Tb3J0PXtoZWFkRGF0YS5zb3J0S2V5ID8gaGFuZGxlU29ydCA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydEtleT17aGVhZERhdGEuc29ydEtleSA/IGhlYWREYXRhLnNvcnRLZXkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnREaXI9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkRGF0YS5zb3J0S2V5ICYmIGhlYWREYXRhLnNvcnRLZXkgPT09IHNvcnRLZXkgPyBzb3J0RGlyIDogJ25vbmUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtoZWFkRGF0YS5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGUuSGVhZENlbGw+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9UYWJsZS5IZWFkPlxuICAgICAgICApO1xuICAgIH0sIFtjb2x1bW5zLCBoYW5kbGVTb3J0LCBzb3J0RGlyLCBzb3J0S2V5XSk7XG5cbiAgICBjb25zdCBnZXRUYWJsZUJvZHkgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8VGFibGUuQm9keT5cbiAgICAgICAgICAgICAgICB7ZGF0YSAmJlxuICAgICAgICAgICAgICAgICAgICBkYXRhLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgICBkYXRhLm1hcCgocm93KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDdXN0b21UYWJsZVJvdyAvLyBub3NlbWdyZXA6IHR5cGVzY3JpcHQucmVhY3QuYmVzdC1wcmFjdGljZS5yZWFjdC1wcm9wcy1zcHJlYWRpbmcucmVhY3QtcHJvcHMtc3ByZWFkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17cm93LmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3c9e3Jvd31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1ucz17Y29sdW1uc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyTWFwcGluZz17aGVhZGVyTWFwcGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey4uLntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUVkaXRBY3Rpb25DbGljayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNsb25lQWN0aW9uQ2xpY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVEZWxldGVBY3Rpb25DbGljayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVG9nZ2xlQWN0aW9uQ2xpY2s9e2hhbmRsZVRvZ2dsZUFjdGlvbkNsaWNrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Li4uKG1vcmVJbmZvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGFuc2lvblJvdzogZ2V0RXhwYW5zaW9uUm93KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JlSW5mb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB7fSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC9UYWJsZS5Cb2R5PlxuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8PlxuICAgICAgICAgICAge2NvbHVtbnMgJiYgY29sdW1ucy5sZW5ndGggJiYgKFxuICAgICAgICAgICAgICAgIDxUYWJsZSAvLyBub3NlbWdyZXA6IHR5cGVzY3JpcHQucmVhY3QuYmVzdC1wcmFjdGljZS5yZWFjdC1wcm9wcy1zcHJlYWRpbmcucmVhY3QtcHJvcHMtc3ByZWFkaW5nXG4gICAgICAgICAgICAgICAgICAgIHN0cmlwZVJvd3NcbiAgICAgICAgICAgICAgICAgICAgey4uLihtb3JlSW5mbyA/IHsgcm93RXhwYW5zaW9uOiAnc2luZ2xlJyB9IDoge30pfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2dldFRhYmxlSGVhZGVyQ2VsbCgpfVxuICAgICAgICAgICAgICAgICAgICB7Z2V0VGFibGVCb2R5KCl9XG4gICAgICAgICAgICAgICAgPC9UYWJsZT5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7IWRhdGEubGVuZ3RoID8gPE5vUmVjb3Jkc0Rpdj5ObyByZWNvcmRzIGZvdW5kPC9Ob1JlY29yZHNEaXY+IDogbnVsbH1cbiAgICAgICAgICAgIHtnZW5lcmF0ZU1vZGFsRGlhbG9nKCl9XG4gICAgICAgICAgICB7Z2VuZXJhdGVEZWxldGVEaWFsb2coKX1cbiAgICAgICAgPC8+XG4gICAgKTtcbn1cblxuQ3VzdG9tVGFibGUucHJvcFR5cGVzID0ge1xuICAgIHBhZ2U6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBzZXJ2aWNlTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBkYXRhOiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZCxcbiAgICBoYW5kbGVUb2dnbGVBY3Rpb25DbGljazogUHJvcFR5cGVzLmZ1bmMsXG4gICAgaGFuZGxlT3BlblBhZ2VTdHlsZURpYWxvZzogUHJvcFR5cGVzLmZ1bmMsXG4gICAgaGFuZGxlU29ydDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgc29ydERpcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBzb3J0S2V5OiBQcm9wVHlwZXMuc3RyaW5nLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgbWVtbyhDdXN0b21UYWJsZSk7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFRleHQgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9UZXh0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmZ1bmN0aW9uIFRhYmxlRmlsdGVyKHByb3BzKSB7XG4gICAgY29uc3QgZGVib3VuY2UgPSAoZnVuYywgd2FpdCkgPT4ge1xuICAgICAgICBsZXQgdGltZW91dDtcblxuICAgICAgICAvLyBUaGlzIGlzIHRoZSBmdW5jdGlvbiB0aGF0IGlzIHJldHVybmVkIGFuZCB3aWxsIGJlIGV4ZWN1dGVkIG1hbnkgdGltZXNcbiAgICAgICAgLy8gV2Ugc3ByZWFkICguLi5hcmdzKSB0byBjYXB0dXJlIGFueSBudW1iZXIgb2YgcGFyYW1ldGVycyB3ZSB3YW50IHRvIHBhc3NcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV4ZWN1dGVkRnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgICAgICAgLy8gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIGFmdGVyXG4gICAgICAgICAgICAvLyB0aGUgZGVib3VuY2UgdGltZSBoYXMgZWxhcHNlZFxuICAgICAgICAgICAgY29uc3QgbGF0ZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gbnVsbCB0aW1lb3V0IHRvIGluZGljYXRlIHRoZSBkZWJvdW5jZSBlbmRlZFxuICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBmdW5jKC4uLmFyZ3MpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIFRoaXMgd2lsbCByZXNldCB0aGUgd2FpdGluZyBldmVyeSBmdW5jdGlvbiBleGVjdXRpb24uXG4gICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBzdGVwIHRoYXQgcHJldmVudHMgdGhlIGZ1bmN0aW9uIGZyb21cbiAgICAgICAgICAgIC8vIGJlaW5nIGV4ZWN1dGVkIGJlY2F1c2UgaXQgd2lsbCBuZXZlciByZWFjaCB0aGVcbiAgICAgICAgICAgIC8vIGluc2lkZSBvZiB0aGUgcHJldmlvdXMgc2V0VGltZW91dFxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXG4gICAgICAgICAgICAvLyBSZXN0YXJ0IHRoZSBkZWJvdW5jZSB3YWl0aW5nIHBlcmlvZC5cbiAgICAgICAgICAgIC8vIHNldFRpbWVvdXQgcmV0dXJucyBhIHRydXRoeSB2YWx1ZVxuICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8VGV4dFxuICAgICAgICAgICAgYXBwZWFyYW5jZT1cInNlYXJjaFwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cImZpbHRlclwiXG4gICAgICAgICAgICBvbkNoYW5nZT17ZGVib3VuY2UocHJvcHMuaGFuZGxlQ2hhbmdlLCAyMDApfVxuICAgICAgICAvPlxuICAgICk7XG59XG5cblRhYmxlRmlsdGVyLnByb3BUeXBlcyA9IHtcbiAgICBoYW5kbGVDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgVGFibGVGaWx0ZXI7XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgU2VsZWN0IGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvU2VsZWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnQHNwbHVuay9yZWFjdC11aS9CdXR0b24nO1xuaW1wb3J0IFBhZ2luYXRvciBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL1BhZ2luYXRvcic7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IF8gfSBmcm9tICdAc3BsdW5rL3VpLXV0aWxzL2kxOG4nO1xuXG5pbXBvcnQgVGFibGVGaWx0ZXIgZnJvbSAnLi9UYWJsZUZpbHRlcic7XG5pbXBvcnQgVGFibGVDb250ZXh0IGZyb20gJy4uLy4uL2NvbnRleHQvVGFibGVDb250ZXh0JztcbmltcG9ydCB7IFRhYmxlU2VsZWN0Qm94V3JhcHBlciB9IGZyb20gJy4vQ3VzdG9tVGFibGVTdHlsZSc7XG5pbXBvcnQgeyBQQUdFX0lOUFVUIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL3BhZ2VzJztcblxuY29uc3QgVGFibGVIZWFkZXJXcmFwcGVyID0gc3R5bGVkLmRpdmBcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2NjYztcbiAgICBwYWRkaW5nLXRvcDogNXB4O1xuICAgIG1hcmdpbi1ib3R0b206IDVweDtcbmA7XG5cbmNvbnN0IFRhYmxlRmlsdGVyV3JhcHBlciA9IHN0eWxlZC5kaXZgXG4gICAgbWF4LXdpZHRoOiAzMDBweDtcbiAgICB3aWR0aDogMTAwJTtcbmA7XG5cbmZ1bmN0aW9uIFRhYmxlSGVhZGVyKHsgcGFnZSwgc2VydmljZXMsIHRvdGFsRWxlbWVudCwgaGFuZGxlUmVxdWVzdE1vZGFsT3BlbiB9KSB7XG4gICAgY29uc3Qge1xuICAgICAgICBwYWdlU2l6ZSxcbiAgICAgICAgY3VycmVudFBhZ2UsXG4gICAgICAgIHNldEN1cnJlbnRQYWdlLFxuICAgICAgICBzZXRQYWdlU2l6ZSxcbiAgICAgICAgc2VhcmNoVHlwZSxcbiAgICAgICAgc2V0U2VhcmNoVHlwZSxcbiAgICAgICAgc2V0U2VhcmNoVGV4dCxcbiAgICB9ID0gdXNlQ29udGV4dChUYWJsZUNvbnRleHQpO1xuXG4gICAgY29uc3QgaXRlbUxhYmVsID0gcGFnZSA9PT0gUEFHRV9JTlBVVCA/ICdJbnB1dCcgOiAnSXRlbSc7XG5cbiAgICBjb25zdCBnZXRTZWFyY2hUeXBlRHJvcGRvd24gPSAoKSA9PiB7XG4gICAgICAgIGlmIChzZXJ2aWNlcy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYXJyID0gW107XG4gICAgICAgIGFyciA9IHNlcnZpY2VzLm1hcCgoc2VydmljZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDxTZWxlY3QuT3B0aW9uIGtleT17c2VydmljZS5uYW1lfSBsYWJlbD17c2VydmljZS50aXRsZX0gdmFsdWU9e3NlcnZpY2UubmFtZX0gLz47XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFyci51bnNoaWZ0KDxTZWxlY3QuT3B0aW9uIGtleT1cImFsbFwiIGxhYmVsPXtfKCdBbGwnKX0gdmFsdWU9XCJhbGxcIiAvPik7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFR5cGV9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd25JbnB1dFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlLCB7IHZhbHVlIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudFBhZ2UoMCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNlYXJjaFR5cGUodmFsdWUpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2Fycn1cbiAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8VGFibGVIZWFkZXJXcmFwcGVyPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbnB1dE51bWJlclwiPlxuICAgICAgICAgICAgICAgICAgICB7dG90YWxFbGVtZW50fVxuICAgICAgICAgICAgICAgICAgICB7dG90YWxFbGVtZW50ID4gMSA/IF8oYCAke2l0ZW1MYWJlbH1zYCkgOiBfKGAgJHtpdGVtTGFiZWx9YCl9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIHtwYWdlID09PSBQQUdFX0lOUFVUID8gKFxuICAgICAgICAgICAgICAgICAgICA8VGFibGVTZWxlY3RCb3hXcmFwcGVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwYWdlU2l6ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93blBhZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSwgeyB2YWx1ZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRQYWdlKDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYWdlU2l6ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9XCIxMFwiIGxhYmVsPXtfKCcxMCBQZXIgUGFnZScpfSB2YWx1ZT17MTB9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PVwiMjVcIiBsYWJlbD17XygnMjUgUGVyIFBhZ2UnKX0gdmFsdWU9ezI1fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT1cIjUwXCIgbGFiZWw9e18oJzUwIFBlciBQYWdlJyl9IHZhbHVlPXs1MH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAge2dldFNlYXJjaFR5cGVEcm9wZG93bigpfVxuICAgICAgICAgICAgICAgICAgICA8L1RhYmxlU2VsZWN0Qm94V3JhcHBlcj5cbiAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPFRhYmxlRmlsdGVyV3JhcHBlcj5cbiAgICAgICAgICAgICAgICA8VGFibGVGaWx0ZXJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ2hhbmdlPXsoZSwgeyB2YWx1ZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50UGFnZSgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlYXJjaFRleHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L1RhYmxlRmlsdGVyV3JhcHBlcj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPFBhZ2luYXRvclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUsIHsgcGFnZTogcGFnZU51bWJlciB9KSA9PiBzZXRDdXJyZW50UGFnZShwYWdlTnVtYmVyIC0gMSl9XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ9e2N1cnJlbnRQYWdlICsgMX1cbiAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2hvd0xhc3RQYWdlTGlua1xuICAgICAgICAgICAgICAgICAgICB0b3RhbFBhZ2VzPXtNYXRoLmNlaWwodG90YWxFbGVtZW50IC8gcGFnZVNpemUpfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAge3BhZ2UgPT09IFBBR0VfSU5QVVQgPyBudWxsIDogKFxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17XygnQWRkJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlYXJhbmNlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZXF1ZXN0TW9kYWxPcGVufVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9UYWJsZUhlYWRlcldyYXBwZXI+XG4gICAgKTtcbn1cblxuVGFibGVIZWFkZXIucHJvcFR5cGVzID0ge1xuICAgIHBhZ2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgc2VydmljZXM6IFByb3BUeXBlcy5hcnJheSxcbiAgICB0b3RhbEVsZW1lbnQ6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgaGFuZGxlUmVxdWVzdE1vZGFsT3BlbjogUHJvcFR5cGVzLmZ1bmMsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBUYWJsZUhlYWRlcjtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCBtZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVwZGF0ZSBmcm9tICdpbW11dGFiaWxpdHktaGVscGVyJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5pbXBvcnQgeyBXYWl0U3Bpbm5lcldyYXBwZXIgfSBmcm9tICcuL0N1c3RvbVRhYmxlU3R5bGUnO1xuaW1wb3J0IHsgYXhpb3NDYWxsV3JhcHBlciB9IGZyb20gJy4uLy4uL3V0aWwvYXhpb3NDYWxsV3JhcHBlcic7XG5pbXBvcnQgeyBnZXRVbmlmaWVkQ29uZmlncywgZ2VuZXJhdGVUb2FzdCB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgQ3VzdG9tVGFibGUgZnJvbSAnLi9DdXN0b21UYWJsZSc7XG5pbXBvcnQgVGFibGVIZWFkZXIgZnJvbSAnLi9UYWJsZUhlYWRlcic7XG5pbXBvcnQgVGFibGVDb250ZXh0IGZyb20gJy4uLy4uL2NvbnRleHQvVGFibGVDb250ZXh0JztcbmltcG9ydCB7IFBBR0VfSU5QVVQgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvcGFnZXMnO1xuXG5mdW5jdGlvbiBUYWJsZVdyYXBwZXIoeyBwYWdlLCBzZXJ2aWNlTmFtZSwgaGFuZGxlUmVxdWVzdE1vZGFsT3BlbiwgaGFuZGxlT3BlblBhZ2VTdHlsZURpYWxvZyB9KSB7XG4gICAgY29uc3QgW3NvcnRLZXksIHNldFNvcnRLZXldID0gdXNlU3RhdGUoJ25hbWUnKTtcbiAgICBjb25zdCBbc29ydERpciwgc2V0U29ydERpcl0gPSB1c2VTdGF0ZSgnYXNjJyk7XG4gICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcblxuICAgIGNvbnN0IHsgcm93RGF0YSwgc2V0Um93RGF0YSwgcGFnZVNpemUsIGN1cnJlbnRQYWdlLCBzZWFyY2hUZXh0LCBzZWFyY2hUeXBlIH0gPSB1c2VDb250ZXh0KFxuICAgICAgICBUYWJsZUNvbnRleHRcbiAgICApO1xuXG4gICAgY29uc3QgdW5pZmllZENvbmZpZ3MgPSBnZXRVbmlmaWVkQ29uZmlncygpO1xuICAgIGNvbnN0IHRhYmxlQ29uZmlnID1cbiAgICAgICAgcGFnZSA9PT0gUEFHRV9JTlBVVFxuICAgICAgICAgICAgPyB1bmlmaWVkQ29uZmlncy5wYWdlcy5pbnB1dHMudGFibGVcbiAgICAgICAgICAgIDogdW5pZmllZENvbmZpZ3MucGFnZXMuY29uZmlndXJhdGlvbi50YWJzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBzZXJ2aWNlTmFtZSlbMF1cbiAgICAgICAgICAgICAgICAgIC50YWJsZTtcbiAgICBjb25zdCBoZWFkZXJzID0gdGFibGVDb25maWcuaGVhZGVyO1xuICAgIGNvbnN0IHsgbW9yZUluZm8gfSA9IHRhYmxlQ29uZmlnO1xuICAgIGNvbnN0IHNlcnZpY2VzID1cbiAgICAgICAgcGFnZSA9PT0gUEFHRV9JTlBVVFxuICAgICAgICAgICAgPyB1bmlmaWVkQ29uZmlncy5wYWdlcy5pbnB1dHMuc2VydmljZXNcbiAgICAgICAgICAgIDogdW5pZmllZENvbmZpZ3MucGFnZXMuY29uZmlndXJhdGlvbi50YWJzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBzZXJ2aWNlTmFtZSk7XG5cbiAgICBjb25zdCBtb2RpZnlBUElSZXNwb25zZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBzZXJ2aWNlcy5mb3JFYWNoKChzZXJ2aWNlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKHNlcnZpY2UgJiYgc2VydmljZS5uYW1lICYmIGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0bXBPYmogPSB7fTtcbiAgICAgICAgICAgICAgICBkYXRhW2luZGV4XS5mb3JFYWNoKCh2YWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdG1wT2JqW3ZhbC5uYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnZhbC5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHZhbC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHZhbC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZU5hbWU6IHNlcnZpY2UubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvYmpbc2VydmljZS5uYW1lXSA9IHRtcE9iajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNldFJvd0RhdGEob2JqKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoSW5wdXRzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0cyA9IFtdO1xuICAgICAgICBzZXJ2aWNlcy5mb3JFYWNoKChzZXJ2aWNlKSA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0cy5wdXNoKFxuICAgICAgICAgICAgICAgIGF4aW9zQ2FsbFdyYXBwZXIoe1xuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZTogc2VydmljZS5uYW1lLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgYXhpb3NcbiAgICAgICAgICAgIC5hbGwocmVxdWVzdHMpXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSAnJztcbiAgICAgICAgICAgICAgICBsZXQgZXJyb3JDb2RlID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSByZXF1ZXN0IHdhcyBtYWRlIGFuZCB0aGUgc2VydmVyIHJlc3BvbmRlZCB3aXRoIGEgc3RhdHVzIGNvZGVcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBFcnJvciByZWNlaXZlZCBmcm9tIHNlcnZlcjogJHtlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2VzWzBdLnRleHR9YDtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JDb2RlID0gcGFnZSA9PT0gUEFHRV9JTlBVVCA/ICdFUlIwMDAxJyA6ICdFUlIwMDAyJztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHJlcXVlc3Qgd2FzIG1hZGUgYnV0IG5vIHJlc3BvbnNlIHdhcyByZWNlaXZlZFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYE5vIHJlc3BvbnNlIHJlY2VpdmVkIHdoaWxlIG1ha2luZyByZXF1ZXN0IHRvICR7cGFnZX0gc2VydmljZXNgO1xuICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGUgPSAnRVJSMDAwMyc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU29tZXRoaW5nIGhhcHBlbmVkIGluIHNldHRpbmcgdXAgdGhlIHJlcXVlc3QgdGhhdCB0cmlnZ2VyZWQgYW4gRXJyb3JcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBFcnJvciBtYWtpbmcgcmVxdWVzdCB0byAke3BhZ2V9IHNlcnZpY2VzYDtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JDb2RlID0gJ0VSUjAwMDQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICAgICAgICBlcnJvci51Y2NFcnJvckNvZGUgPSBlcnJvckNvZGU7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVUb2FzdChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBtb2RpZnlBUElSZXNwb25zZShyZXNwb25zZS5tYXAoKHJlcykgPT4gcmVzLmRhdGEuZW50cnkpKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBmZXRjaElucHV0cygpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgfSwgW10pO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcm93IHtPYmplY3R9IHJvd1xuICAgICAqL1xuICAgIGNvbnN0IGNoYW5nZVRvZ2dsZVN0YXR1cyA9IChyb3cpID0+IHtcbiAgICAgICAgc2V0Um93RGF0YSgoY3VycmVudFJvd0RhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGUoY3VycmVudFJvd0RhdGEsIHtcbiAgICAgICAgICAgICAgICBbcm93LnNlcnZpY2VOYW1lXToge1xuICAgICAgICAgICAgICAgICAgICBbcm93Lm5hbWVdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfX3RvZ2dsZVNob3dTcGlubmVyOiB7ICRzZXQ6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBib2R5ID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBib2R5LmFwcGVuZCgnZGlzYWJsZWQnLCAhcm93LmRpc2FibGVkKTtcbiAgICAgICAgYXhpb3NDYWxsV3JhcHBlcih7XG4gICAgICAgICAgICBzZXJ2aWNlTmFtZTogYCR7cm93LnNlcnZpY2VOYW1lfS8ke3Jvdy5uYW1lfWAsXG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgY3VzdG9tSGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgfSxcbiAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgICAgaGFuZGxlRXJyb3I6IHRydWUsXG4gICAgICAgICAgICBjYWxsYmFja09uRXJyb3I6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRSb3dEYXRhKChjdXJyZW50Um93RGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlKGN1cnJlbnRSb3dEYXRhLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBbcm93LnNlcnZpY2VOYW1lXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtyb3cubmFtZV06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX190b2dnbGVTaG93U3Bpbm5lcjogeyAkc2V0OiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBzZXRSb3dEYXRhKChjdXJyZW50Um93RGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGUoY3VycmVudFJvd0RhdGEsIHtcbiAgICAgICAgICAgICAgICAgICAgW3Jvdy5zZXJ2aWNlTmFtZV06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtyb3cubmFtZV06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogeyAkc2V0OiByZXNwb25zZS5kYXRhLmVudHJ5WzBdLmNvbnRlbnQuZGlzYWJsZWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX3RvZ2dsZVNob3dTcGlubmVyOiB7ICRzZXQ6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVTb3J0ID0gKGUsIHZhbCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2U29ydEtleSA9IHNvcnRLZXk7XG4gICAgICAgIGNvbnN0IHByZXZTb3J0RGlyID0gcHJldlNvcnRLZXkgPT09IHZhbC5zb3J0S2V5ID8gc29ydERpciA6ICdub25lJztcbiAgICAgICAgY29uc3QgbmV4dFNvcnREaXIgPSBwcmV2U29ydERpciA9PT0gJ2FzYycgPyAnZGVzYycgOiAnYXNjJztcbiAgICAgICAgc2V0U29ydERpcihuZXh0U29ydERpcik7XG4gICAgICAgIHNldFNvcnRLZXkodmFsLnNvcnRLZXkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGRhdGFcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgaXRlcmF0ZSBhbiBhcnJyYXkgYW5kIG1hdGNoIGVhY2gga2V5LXZhbHVlIHdpdGggdGhlIHNlYXJjaFRleHRcbiAgICAgKiBJdCB3aWxsIHJldHVybiBhIG5ldyBhcnJheSB3aGljaCB3aWxsIG1hdGNoIHdpdGggc2VhcmNoVGV4dFxuICAgICAqL1xuICAgIGNvbnN0IGZpbmRCeU1hdGNoaW5nVmFsdWUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBhcnIgPSBbXTtcbiAgICAgICAgY29uc3QgdGFibGVGaWVsZHMgPSBbXTtcblxuICAgICAgICBoZWFkZXJzLmZvckVhY2goKGhlYWREYXRhKSA9PiB7XG4gICAgICAgICAgICB0YWJsZUZpZWxkcy5wdXNoKGhlYWREYXRhLmZpZWxkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1vcmVJbmZvPy5mb3JFYWNoKChtb3JlSW5mb0RhdGEpID0+IHtcbiAgICAgICAgICAgIHRhYmxlRmllbGRzLnB1c2gobW9yZUluZm9EYXRhLmZpZWxkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhkYXRhW3ZdKS5mb3JFYWNoKCh2dikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgdGFibGVGaWVsZHMuaW5jbHVkZXModnYpICYmXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBkYXRhW3ZdW3Z2XSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgZGF0YVt2XVt2dl0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXh0LnRvTG93ZXJDYXNlKCkudHJpbSgpKSAmJlxuICAgICAgICAgICAgICAgICAgICAhZm91bmRcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goZGF0YVt2XSk7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfTtcblxuICAgIGNvbnN0IGdldFJvd0RhdGEgPSAoKSA9PiB7XG4gICAgICAgIGxldCBhcnIgPSBbXTtcbiAgICAgICAgaWYgKHNlYXJjaFR5cGUgPT09ICdhbGwnKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhyb3dEYXRhKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbmV3QXJyID0gW107XG4gICAgICAgICAgICAgICAgaWYgKHNlYXJjaFRleHQgJiYgc2VhcmNoVGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3QXJyID0gZmluZEJ5TWF0Y2hpbmdWYWx1ZShyb3dEYXRhW2tleV0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0FyciA9IE9iamVjdC5rZXlzKHJvd0RhdGFba2V5XSkubWFwKCh2YWwpID0+IHJvd0RhdGFba2V5XVt2YWxdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXJyID0gYXJyLmNvbmNhdChuZXdBcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnIgPSBmaW5kQnlNYXRjaGluZ1ZhbHVlKHJvd0RhdGFbc2VhcmNoVHlwZV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29ydCB0aGUgYXJyYXkgYmFzZWQgb24gdGhlIHNvcnQgdmFsdWVcbiAgICAgICAgY29uc3Qgc29ydGVkQXJyID0gYXJyLnNvcnQoKHJvd0EsIHJvd0IpID0+IHtcbiAgICAgICAgICAgIGlmIChzb3J0RGlyID09PSAnYXNjJykge1xuICAgICAgICAgICAgICAgIHJldHVybiByb3dBW3NvcnRLZXldID4gcm93Qltzb3J0S2V5XSA/IDEgOiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzb3J0RGlyID09PSAnZGVzYycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcm93Qltzb3J0S2V5XSA+IHJvd0Fbc29ydEtleV0gPyAxIDogLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IHVwZGF0ZWRBcnIgPSBzb3J0ZWRBcnIuc2xpY2UoY3VycmVudFBhZ2UgKiBwYWdlU2l6ZSwgKGN1cnJlbnRQYWdlICsgMSkgKiBwYWdlU2l6ZSk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlID4gMCAmJiAhdXBkYXRlZEFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHVwZGF0ZWRBcnIgPSBzb3J0ZWRBcnIuc2xpY2UoKGN1cnJlbnRQYWdlIC0gMSkgKiBwYWdlU2l6ZSwgcGFnZVNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFt1cGRhdGVkQXJyLCBhcnIubGVuZ3RoXTtcbiAgICB9O1xuXG4gICAgaWYgKGVycm9yPy51Y2NFcnJvckNvZGUpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgaWYgKGxvYWRpbmcpIHtcbiAgICAgICAgcmV0dXJuIDxXYWl0U3Bpbm5lcldyYXBwZXIgLz47XG4gICAgfVxuXG4gICAgY29uc3QgW2ZpbHRlcmVkRGF0YSwgdG90YWxFbGVtZW50XSA9IGdldFJvd0RhdGEoKTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgICA8VGFibGVIZWFkZXJcbiAgICAgICAgICAgICAgICBwYWdlPXtwYWdlfVxuICAgICAgICAgICAgICAgIHNlcnZpY2VzPXtzZXJ2aWNlc31cbiAgICAgICAgICAgICAgICB0b3RhbEVsZW1lbnQ9e3RvdGFsRWxlbWVudH1cbiAgICAgICAgICAgICAgICBoYW5kbGVSZXF1ZXN0TW9kYWxPcGVuPXtoYW5kbGVSZXF1ZXN0TW9kYWxPcGVufVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxDdXN0b21UYWJsZVxuICAgICAgICAgICAgICAgIHBhZ2U9e3BhZ2V9XG4gICAgICAgICAgICAgICAgc2VydmljZU5hbWU9e3NlcnZpY2VOYW1lfVxuICAgICAgICAgICAgICAgIGRhdGE9e2ZpbHRlcmVkRGF0YX1cbiAgICAgICAgICAgICAgICBoYW5kbGVUb2dnbGVBY3Rpb25DbGljaz17KHJvdykgPT4gY2hhbmdlVG9nZ2xlU3RhdHVzKHJvdyl9XG4gICAgICAgICAgICAgICAgaGFuZGxlU29ydD17aGFuZGxlU29ydH1cbiAgICAgICAgICAgICAgICBzb3J0RGlyPXtzb3J0RGlyfVxuICAgICAgICAgICAgICAgIHNvcnRLZXk9e3NvcnRLZXl9XG4gICAgICAgICAgICAgICAgaGFuZGxlT3BlblBhZ2VTdHlsZURpYWxvZz17aGFuZGxlT3BlblBhZ2VTdHlsZURpYWxvZ31cbiAgICAgICAgICAgIC8+XG4gICAgICAgIDwvPlxuICAgICk7XG59XG5cblRhYmxlV3JhcHBlci5wcm9wVHlwZXMgPSB7XG4gICAgcGFnZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBzZXJ2aWNlTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBoYW5kbGVSZXF1ZXN0TW9kYWxPcGVuOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBoYW5kbGVPcGVuUGFnZVN0eWxlRGlhbG9nOiBQcm9wVHlwZXMuZnVuYyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG1lbW8oVGFibGVXcmFwcGVyKTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGluayBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL0xpbmsnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgRVJSMDAwMTogKFxuICAgICAgICA8PlxuICAgICAgICAgICAgVGhpcyBpcyBub3JtYWwgb24gU3BsdW5rIHNlYXJjaCBoZWFkcyBhcyB0aGV5IGRvIG5vdCByZXF1aXJlIGFuIElucHV0IHBhZ2UuIENoZWNrIHlvdXIgaW5zdGFsbGF0aW9uIG9yIHJldHVybiB0byB0aGUgPExpbmsgdG89XCJjb25maWd1cmF0aW9uXCI+Y29uZmlndXJhdGlvbiBwYWdlPC9MaW5rPi5cbiAgICAgICAgPC8+XG4gICAgKSxcbiAgICBFUlIwMDAyOiAnQ29uZmlndXJhdGlvbiBwYWdlIGZhaWxlZCB0byBsb2FkLCB0aGUgc2VydmVyIHJlcG9ydGVkIGludGVybmFsIGVycm9ycyB3aGljaCBtYXkgaW5kaWNhdGUgeW91IGRvIG5vdCBoYXZlIGFjY2VzcyB0byB0aGlzIHBhZ2UuJyxcbiAgICBFUlIwMDAzOiAnRmFpbGVkIHRvIGxvYWQgY29udGVudCBkdWUgdG8gbm8gcmVzcG9uc2UgZnJvbSBzZXJ2ZXIhJyxcbiAgICBFUlIwMDA0OiAnRmFpbGVkIHRvIGxvYWQgY29udGVudCBkdWUgdG8gZmFpbGVkIHJlcXVlc3QgcHJvY2Vzc2luZyEnLFxuICAgIEVSUjAwMDU6ICdGYWlsZWQgdG8gbG9hZCBjdXJyZW50IHN0YXRlIGZvciBzZWxlY3RlZCBlbnRpdHkgaW4gZm9ybSEnLFxufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5pbXBvcnQgSGVhZGluZyBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL0hlYWRpbmcnO1xuaW1wb3J0IHsgXyB9IGZyb20gJ0BzcGx1bmsvdWktdXRpbHMvaTE4bic7XG5pbXBvcnQgQ2FyZCBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL0NhcmQnO1xuaW1wb3J0IFdhcm5pbmdJY29uIGZyb20gJ0BzcGx1bmsvcmVhY3QtaWNvbnMvV2FybmluZydcbmltcG9ydCBlcnJvckNvZGVzIGZyb20gJy4uL2NvbnN0YW50cy9lcnJvckNvZGVzJztcblxuY2xhc3MgRXJyb3JCb3VuZGFyeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0geyBlcnJvckNvZGU6IG51bGwsIGVycm9yOiBudWxsLCBlcnJvckluZm86IG51bGwgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBzdGF0ZSBzbyB0aGUgbmV4dCByZW5kZXIgd2lsbCBzaG93IHRoZSBmYWxsYmFjayBVSS5cbiAgICAgICAgcmV0dXJuIHsgZXJyb3JDb2RlOiBlcnJvci51Y2NFcnJvckNvZGUgfTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRDYXRjaChlcnJvciwgZXJyb3JJbmZvKSB7XG4gICAgICAgIC8vIENhdGNoIGVycm9ycyBpbiBhbnkgY29tcG9uZW50cyBiZWxvdyBhbmQgcmUtcmVuZGVyIHdpdGggZXJyb3IgbWVzc2FnZVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgZXJyb3JJbmZvLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gWW91IGNhbiBhbHNvIGxvZyBlcnJvciBtZXNzYWdlcyB0byBhbiBlcnJvciByZXBvcnRpbmcgc2VydmljZSBoZXJlXG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgICAgICAgLy8gRXJyb3IgcGF0aFxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGFsaWduPVwiY2VudGVyXCIgc3R5bGU9e3sgbWFyZ2luVG9wIDogXCIxMCVcIiB9fT5cbiAgICAgICAgICAgICAgICA8Q2FyZCBzdHlsZT17eyBib3hTaGFkb3cgOiBcIjEwcHggMTBweCA1cHggI2FhYWFhYVwiIH19ID5cbiAgICAgICAgICAgICAgICAgICAgPENhcmQuSGVhZGVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEhlYWRpbmcgc3R5bGU9e3sgdGV4dEFsaWduOlwiY2VudGVyXCIgfX0gbGV2ZWw9ezJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxXYXJuaW5nSWNvbiBzdHlsZT17eyBmb250U2l6ZTogXCIxMjBweFwiLCBjb2xvcjogXCIjZmY5OTAwXCIgfX0gLz48YnIvPjxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZXJyb3JDb2RlID09PSAnRVJSMDAwMScgPyBfKCdGYWlsZWQgdG8gbG9hZCBJbnB1dHMgUGFnZScpIDogXygnU29tZXRoaW5nIHdlbnQgd3JvbmchJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0hlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgIDwvQ2FyZC5IZWFkZXI+XG4gICAgICAgICAgICAgICAgICAgIDxDYXJkLkJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5lcnJvckNvZGUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge18oZXJyb3JDb2Rlc1t0aGlzLnN0YXRlLmVycm9yQ29kZV0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIvPjxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkZXRhaWxzIHN0eWxlPXt7IHdoaXRlU3BhY2U6ICdwcmUtd3JhcCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZXJyb3I/LnRvU3RyaW5nKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2RldGFpbHM+XG4gICAgICAgICAgICAgICAgICAgIDwvQ2FyZC5Cb2R5PlxuICAgICAgICAgICAgICAgICAgICA8Q2FyZC5Gb290ZXIgc2hvd0JvcmRlcj17ZmFsc2V9PlxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZXJyb3JDb2RlID8gdGhpcy5zdGF0ZS5lcnJvckNvZGUgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICA8L0NhcmQuRm9vdGVyPlxuICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm9ybWFsbHksIGp1c3QgcmVuZGVyIGNoaWxkcmVuXG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgIH1cbn1cblxuRXJyb3JCb3VuZGFyeS5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5ub2RlKSwgUHJvcFR5cGVzLm5vZGVdKS5pc1JlcXVpcmVkLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgRXJyb3JCb3VuZGFyeTtcbiJdLCJzb3VyY2VSb290IjoiIn0=