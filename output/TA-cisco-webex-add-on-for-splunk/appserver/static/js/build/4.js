(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{413:function(e,t,n){"use strict";n.r(t);var a=n(226),r=n.n(a),c=n(57),l=n.n(c),o=n(13),i=n.n(o),s=n(0),u=n.n(s),m=n(5),p=n(238),d=n.n(p),f=n(27),b=n.n(f),g=n(40),h=n.n(g),v=n(232),y=n.n(v),O=n(1),E=n(279),j=n.n(E),C=n(7),N=n(8),S=n(36),w=n(251),P=n(229),R=n(230),k=n(39),I=n(280),x=n(25),_=n.n(x),L=n(26),z=n.n(L),q=n(106),D=n.n(q),T=n(28),B=n.n(T),M=n(29),A=n.n(M),U=n(18),F=n.n(U),J=n(2),V=n.n(J),G=n(30);function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=F()(e);if(t){var r=F()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return A()(this,n)}}var K=function(e){B()(n,e);var t=H(n);function n(e){var a;return _()(this,n),a=t.call(this,e),r()(D()(a),"setValue",(function(e){a.props.handleChange(e)})),r()(D()(a),"loadCustomMenu",(function(){return new Promise((function(e){if("external"===a.props.type)import("".concat(Object(G.a)(),"/custom/").concat(a.props.fileName,".js")).then((function(t){var n=t.default;e(n)}));else{var t=Object(S.d)().meta.name;require(["app/".concat(t,"/js/build/custom/").concat(a.props.fileName)],(function(t){return e(t)}))}}))})),a.state={loading:!0},a.shouldRender=!0,a}return z()(n,[{key:"componentDidMount",value:function(){var e=this,t=Object(S.d)();this.setState({loading:!0}),this.loadCustomMenu().then((function(n){new n(t,e.el,e.setValue).render(),e.setState({loading:!1})}))}},{key:"shouldComponentUpdate",value:function(e,t){return!(t.loading||!this.shouldRender)&&(this.shouldRender=!1,!0)}},{key:"render",value:function(){var e=this;return u.a.createElement(u.a.Fragment,null,this.state.loading&&Object(C._)("Loading..."),u.a.createElement("span",{ref:function(t){e.el=t},style:{visibility:this.state.loading?"hidden":"visible"}}))}}]),n}(s.Component);K.propTypes={fileName:V.a.string.isRequired,type:V.a.string,handleChange:V.a.func};var Q=K,W=n(287),X=n(256),Y=n(288),Z=n(107),$=n.n(Z),ee=n(61),te=n.n(ee),ne=n(4),ae=n(259);function re(e){var t=e.handleRequestClose,n=e.serviceName,a=e.mode,r=e.stanzaName,c=e.formLabel,o=Object(s.useRef)(),i=Object(s.useState)(!1),m=l()(i,2),p=m[0],f=m[1],g=Object(C._)("Submit");a===R.c?g=Object(C._)("Add"):a===R.a?g=Object(C._)("Clone Input"):a===R.d&&(g=Object(C._)("Update"));var h={boxShadow:Object(ne.useSplunkTheme)().embossShadow,padding:"1%",backgroundColor:"white"};return u.a.createElement(d.a,{gutter:8},u.a.createElement(d.a.Row,{style:{padding:"5px 0px"}},u.a.createElement(d.a.Column,null,u.a.createElement(w.a,null,u.a.createElement($.a,{onClick:t},Object(C._)("Inputs"))," > ",Object(C._)(c)))),u.a.createElement(d.a.Row,null,u.a.createElement(d.a.Column,{span:2}),u.a.createElement(d.a.Column,{span:8,style:h},u.a.createElement(ae.a,{ref:o,page:k.b,serviceName:n,mode:a,stanzaName:r,handleFormSubmit:function(e,n){f(e),n&&t()}})),u.a.createElement(d.a.Column,{span:2})),u.a.createElement(d.a.Row,null,u.a.createElement(d.a.Column,{span:7}),u.a.createElement(d.a.Column,{span:3,style:{textAlign:"right"}},u.a.createElement(b.a,{appearance:"secondary",onClick:t,label:Object(C._)("Cancel"),disabled:p}),u.a.createElement(b.a,{appearance:"primary",label:p?u.a.createElement(te.a,null):g,onClick:function(){o.current.handleSubmit()&&t()},disabled:p})),u.a.createElement(d.a.Column,{span:2})))}re.propTypes={handleRequestClose:V.a.func,serviceName:V.a.string,mode:V.a.string,stanzaName:V.a.string,formLabel:V.a.string};var ce,le=Object(s.memo)(re),oe=n(255);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=Object(O.default)(d.a.Row)(ce||(ce=i()(["\n    padding: 5px 0px;\n\n    .dropdown {\n        text-align: right;\n    }\n\n    .input_button {\n        text-align: right;\n        margin-right: 0px;\n    }\n"])));t.default=function(){var e=Object(s.useState)({open:!1}),t=l()(e,2),n=t[0],a=t[1],r=Object(S.d)().pages.inputs,c=r.services,o=r.title,i=r.description,p=r.menu,f=u.a.createElement(b.a,{appearance:"primary",id:"addInputBtn",label:Object(C._)("Create New Input"),isMenu:!0}),g=[R.a,R.c,R.d],v=Object(m.d)(),O=Object(oe.a)(),E=function(e,t){var r=c.find((function(t){return t.name===e})).style===I.b;a(se(se({},n),{},{open:!0,serviceName:e,mode:R.c,formLabel:"Add ".concat(t),isInputPageStyle:r})),r&&(O.set("service",e),O.set("action",R.c),v.push({search:O.toString()}))},x=function(){a(se(se({},n),{},{open:!1}))},_=function(){a(se(se({},n),{},{open:!1})),O.delete("service"),O.delete("action"),v.push({search:O.toString()})};return Object(s.useEffect)((function(){var e=c.find((function(e){return e.name===O.get("service")}));O&&e&&g.includes(O.get("action"))&&!n.open?O.get("action")!==R.c&&n.stanzaName?a(se(se({},n),{},{open:!0,isInputPageStyle:!0,serviceName:O.get("service"),mode:O.get("action")})):a(se(se({},n),{},{open:!0,isInputPageStyle:!0,serviceName:O.get("service"),formLabel:"Create ".concat(null==e?void 0:e.title),mode:R.c})):O.get("service")&&O.get("action")||!n.open||!n.isInputPageStyle||a(se(se({},n),{},{open:!1}))}),[v.location.search]),u.a.createElement(Y.a,null,u.a.createElement(P.a,{value:null},n.isInputPageStyle&&n.open?u.a.createElement(le,{open:n.open,handleRequestClose:_,serviceName:n.serviceName,stanzaName:n.stanzaName,mode:n.mode,formLabel:n.formLabel}):null," ",u.a.createElement("div",{style:n.isInputPageStyle&&n.open?{display:"none"}:{display:"block"}},u.a.createElement(d.a,{gutter:8},u.a.createElement(ue,null,u.a.createElement(d.a.Column,{span:9},u.a.createElement(w.b,null,Object(C._)(o)),u.a.createElement(w.a,null,Object(C._)(i))),c&&c.length>1&&!(null!=p&&p.src)&&u.a.createElement(d.a.Column,{className:"dropdown",span:3},u.a.createElement(h.a,{toggle:f},u.a.createElement(y.a,{onClick:function(e){var t=c[c.findIndex((function(t){return t.title===e.target.innerText}))].name;E(t,e.target.innerText)}},c.map((function(e){return u.a.createElement(y.a.Item,{key:e.name},e.title)}))))),c&&1===c.length&&!(null!=p&&p.src)&&u.a.createElement(d.a.Column,{span:3,className:"input_button"},u.a.createElement(b.a,{label:Object(N.a)(100),appearance:"primary",id:"addInputBtn",onClick:function(){E(c[0].name,c[0].title)}})),(null==p?void 0:p.src)&&u.a.createElement(d.a.Column,{span:3,className:"input_button"},u.a.createElement(Q,{fileName:p.src,type:p.type,handleChange:function(e){Object.keys(e).forEach((function(t){O.set(t,e[t])})),v.push({search:O.toString()})}})))),u.a.createElement(W.a,{page:k.b,handleOpenPageStyleDialog:function(e,t){var r,l=null===(r=c.find((function(t){return t.name===e.serviceName})))||void 0===r?void 0:r.title;a(se(se({},n),{},{open:!0,isInputPageStyle:!0,serviceName:e.serviceName,stanzaName:e.name,formLabel:t===R.a?"Clone ".concat(l):"Update ".concat(l),mode:t})),O.set("service",e.serviceName),O.set("action",t),v.push({search:O.toString()})}}),u.a.createElement(j.a,{position:"top-right"}),!n.isInputPageStyle&&n.open?u.a.createElement(X.a,{page:k.b,open:n.open,handleRequestClose:x,serviceName:n.serviceName,mode:R.c,formLabel:n.formLabel}):null)))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50cy9DdXN0b21NZW51LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50cy9FbnRpdHlQYWdlLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvcGFnZXMvSW5wdXQvSW5wdXRQYWdlLmpzeCJdLCJuYW1lcyI6WyJDdXN0b21NZW51IiwicHJvcHMiLCJuZXdWYWx1ZSIsImhhbmRsZUNoYW5nZSIsIlByb21pc2UiLCJyZXNvbHZlIiwidHlwZSIsImltcG9ydCIsImdldEJ1aWxkRGlyUGF0aCIsImZpbGVOYW1lIiwidGhlbiIsImV4dGVybmFsIiwiQ29udHJvbCIsImFwcE5hbWUiLCJnZXRVbmlmaWVkQ29uZmlncyIsIm1ldGEiLCJuYW1lIiwiX19ub25fd2VicGFja19yZXF1aXJlX18iLCJzdGF0ZSIsImxvYWRpbmciLCJzaG91bGRSZW5kZXIiLCJnbG9iYWxDb25maWciLCJ0aGlzIiwic2V0U3RhdGUiLCJsb2FkQ3VzdG9tTWVudSIsImVsIiwic2V0VmFsdWUiLCJyZW5kZXIiLCJuZXh0UHJvcHMiLCJuZXh0U3RhdGUiLCJfIiwicmVmIiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwiQ29tcG9uZW50IiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwic3RyaW5nIiwiaXNSZXF1aXJlZCIsImZ1bmMiLCJFbnRpdHlQYWdlIiwiaGFuZGxlUmVxdWVzdENsb3NlIiwic2VydmljZU5hbWUiLCJtb2RlIiwic3RhbnphTmFtZSIsImZvcm1MYWJlbCIsImZvcm0iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsImlzU3VibWl0dGluZyIsInNldElzU3VibWl0dGluZyIsImJ1dHRvblRleHQiLCJNT0RFX0NSRUFURSIsIk1PREVfQ0xPTkUiLCJNT0RFX0VESVQiLCJjb2xTdHlsZSIsImJveFNoYWRvdyIsInVzZVNwbHVua1RoZW1lIiwiZW1ib3NzU2hhZG93IiwicGFkZGluZyIsImJhY2tncm91bmRDb2xvciIsImd1dHRlciIsIlJvdyIsIkNvbHVtbiIsIm9uQ2xpY2siLCJzcGFuIiwiQmFzZUZvcm1WaWV3IiwicGFnZSIsIlBBR0VfSU5QVVQiLCJoYW5kbGVGb3JtU3VibWl0Iiwic2V0IiwiY2xvc2UiLCJ0ZXh0QWxpZ24iLCJhcHBlYXJhbmNlIiwibGFiZWwiLCJkaXNhYmxlZCIsImN1cnJlbnQiLCJoYW5kbGVTdWJtaXQiLCJtZW1vIiwic3R5bGVkIiwiQ29sdW1uTGF5b3V0IiwiSW5wdXRQYWdlIiwib3BlbiIsImVudGl0eSIsInNldEVudGl0eSIsInBhZ2VzIiwiaW5wdXRzIiwic2VydmljZXMiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiY3VzdG9tTWVudUZpZWxkIiwibWVudSIsInRvZ2dsZSIsImlkIiwiaXNNZW51IiwiUEVSTUlUVEVEX01PREVTIiwiaGlzdG9yeSIsInVzZUhpc3RvcnkiLCJxdWVyeSIsInVzZVF1ZXJ5IiwiaGFuZGxlUmVxdWVzdE9wZW4iLCJzZXJ2aWNlVGl0bGUiLCJpc0lucHV0UGFnZVN0eWxlIiwiZmluZCIsIngiLCJTVFlMRV9QQUdFIiwicHVzaCIsInNlYXJjaCIsInRvU3RyaW5nIiwiaGFuZGxlTW9kYWxEaWFsb2dDbG9zZSIsImhhbmRsZVBhZ2VEaWFsb2dDbG9zZSIsInVzZUVmZmVjdCIsInNlcnZpY2UiLCJnZXQiLCJpbmNsdWRlcyIsImxvY2F0aW9uIiwiRXJyb3JCb3VuZGFyeSIsIlRhYmxlQ29udGV4dCIsInZhbHVlIiwiZGlzcGxheSIsImxlbmd0aCIsInNyYyIsImNsYXNzTmFtZSIsImV2ZW50IiwiZmluZG5hbWUiLCJmaW5kSW5kZXgiLCJ0YXJnZXQiLCJpbm5lclRleHQiLCJtYXAiLCJJdGVtIiwia2V5IiwiZ2V0Rm9ybWF0dGVkTWVzc2FnZSIsIlJlYWN0IiwiY3JlYXRlRWxlbWVudCIsInZhbCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiVGFibGVXcmFwcGVyIiwiaGFuZGxlT3BlblBhZ2VTdHlsZURpYWxvZyIsInJv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LEVBQU9ELEtBL0o1QyxrQkFBQzRELEVBQUEsRUFBRCxDQUNJM0UsS0FBTUMsSUFDTmMsS0FBTUMsRUFBT0QsS0FDYnpDLG1CQUFvQm9FLEVBQ3BCbkUsWUFBYXlDLEVBQU96QyxZQUNwQkMsS0FBTVMsSUFDTlAsVUFBV3NDLEVBQU90QyxZQXlKcUQiLCJmaWxlIjoiNC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgXyB9IGZyb20gJ0BzcGx1bmsvdWktdXRpbHMvaTE4bic7XG5pbXBvcnQgeyBnZXRVbmlmaWVkQ29uZmlncyB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyBnZXRCdWlsZERpclBhdGggfSBmcm9tICcuLi91dGlsL3NjcmlwdCc7XG5cbmNsYXNzIEN1c3RvbU1lbnUgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2hvdWxkUmVuZGVyID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgY29uc3QgZ2xvYmFsQ29uZmlnID0gZ2V0VW5pZmllZENvbmZpZ3MoKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IHRydWUgfSk7XG4gICAgICAgIHRoaXMubG9hZEN1c3RvbU1lbnUoKS50aGVuKChDb250cm9sKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXN0b21Db250cm9sID0gbmV3IENvbnRyb2woZ2xvYmFsQ29uZmlnLCB0aGlzLmVsLCB0aGlzLnNldFZhbHVlKTtcbiAgICAgICAgICAgIGN1c3RvbUNvbnRyb2wucmVuZGVyKCk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogZmFsc2UgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgICAgICBpZiAoIW5leHRTdGF0ZS5sb2FkaW5nICYmIHRoaXMuc2hvdWxkUmVuZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNob3VsZFJlbmRlciA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHNldFZhbHVlID0gKG5ld1ZhbHVlKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlQ2hhbmdlKG5ld1ZhbHVlKTtcbiAgICB9O1xuXG4gICAgbG9hZEN1c3RvbU1lbnUgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMudHlwZSA9PT0gJ2V4dGVybmFsJykge1xuICAgICAgICAgICAgICAgIGltcG9ydChcbiAgICAgICAgICAgICAgICAgICAgLyogd2VicGFja0lnbm9yZTogdHJ1ZSAqLyBgJHtnZXRCdWlsZERpclBhdGgoKX0vY3VzdG9tLyR7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmZpbGVOYW1lXG4gICAgICAgICAgICAgICAgICAgIH0uanNgXG4gICAgICAgICAgICAgICAgKS50aGVuKChleHRlcm5hbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBDb250cm9sID0gZXh0ZXJuYWwuZGVmYXVsdDtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShDb250cm9sKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2xvYmFsQ29uZmlnID0gZ2V0VW5pZmllZENvbmZpZ3MoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhcHBOYW1lID0gZ2xvYmFsQ29uZmlnLm1ldGEubmFtZTtcbiAgICAgICAgICAgICAgICBfX25vbl93ZWJwYWNrX3JlcXVpcmVfXyhcbiAgICAgICAgICAgICAgICAgICAgW2BhcHAvJHthcHBOYW1lfS9qcy9idWlsZC9jdXN0b20vJHt0aGlzLnByb3BzLmZpbGVOYW1lfWBdLFxuICAgICAgICAgICAgICAgICAgICAoQ29udHJvbCkgPT4gcmVzb2x2ZShDb250cm9sKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmxvYWRpbmcgJiYgXygnTG9hZGluZy4uLicpfVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17KGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbCA9IGVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHZpc2liaWxpdHk6IHRoaXMuc3RhdGUubG9hZGluZyA/ICdoaWRkZW4nIDogJ3Zpc2libGUnIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5DdXN0b21NZW51LnByb3BUeXBlcyA9IHtcbiAgICBmaWxlTmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIHR5cGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgaGFuZGxlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEN1c3RvbU1lbnU7XG4iLCJpbXBvcnQgUmVhY3QsIHsgbWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCBCdXR0b24gZnJvbSAnQHNwbHVuay9yZWFjdC11aS9CdXR0b24nO1xuaW1wb3J0IExpbmsgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9MaW5rJztcbmltcG9ydCBXYWl0U3Bpbm5lciBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL1dhaXRTcGlubmVyJztcbmltcG9ydCBDb2x1bW5MYXlvdXQgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9Db2x1bW5MYXlvdXQnO1xuaW1wb3J0IHsgXyB9IGZyb20gJ0BzcGx1bmsvdWktdXRpbHMvaTE4bic7XG5pbXBvcnQgeyB1c2VTcGx1bmtUaGVtZSB9IGZyb20gJ0BzcGx1bmsvdGhlbWVzJztcblxuaW1wb3J0IHsgTU9ERV9DTE9ORSwgTU9ERV9DUkVBVEUsIE1PREVfRURJVCB9IGZyb20gJy4uL2NvbnN0YW50cy9tb2Rlcyc7XG5pbXBvcnQgeyBQQUdFX0lOUFVUIH0gZnJvbSAnLi4vY29uc3RhbnRzL3BhZ2VzJztcbmltcG9ydCBCYXNlRm9ybVZpZXcgZnJvbSAnLi9CYXNlRm9ybVZpZXcnO1xuaW1wb3J0IHsgU3ViVGl0bGVDb21wb25lbnQgfSBmcm9tICcuLi9wYWdlcy9JbnB1dC9JbnB1dFBhZ2VTdHlsZSc7XG5cbmZ1bmN0aW9uIEVudGl0eVBhZ2UoeyBoYW5kbGVSZXF1ZXN0Q2xvc2UsIHNlcnZpY2VOYW1lLCBtb2RlLCBzdGFuemFOYW1lLCBmb3JtTGFiZWwgfSkge1xuICAgIC8vIFJlZiBpcyB1c2VkIGhlcmUgdG8gY2FsbCBzdWJtaXQgbWV0aG9kIG9mIGZvcm0gb25seVxuICAgIGNvbnN0IGZvcm0gPSB1c2VSZWYoKTsgLy8gbm9zZW1ncmVwOiB0eXBlc2NyaXB0LnJlYWN0LnNlY3VyaXR5LmF1ZGl0LnJlYWN0LW5vLXJlZnMucmVhY3Qtbm8tcmVmc1xuICAgIGNvbnN0IFtpc1N1Ym1pdHRpbmcsIHNldElzU3VibWl0dGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgbGV0IGJ1dHRvblRleHQgPSBfKCdTdWJtaXQnKTtcblxuICAgIGlmIChtb2RlID09PSBNT0RFX0NSRUFURSkge1xuICAgICAgICBidXR0b25UZXh0ID0gXygnQWRkJyk7XG4gICAgfSBlbHNlIGlmIChtb2RlID09PSBNT0RFX0NMT05FKSB7XG4gICAgICAgIGJ1dHRvblRleHQgPSBfKCdDbG9uZSBJbnB1dCcpO1xuICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gTU9ERV9FRElUKSB7XG4gICAgICAgIGJ1dHRvblRleHQgPSBfKCdVcGRhdGUnKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGVtYm9zc1NoYWRvdyB9ID0gdXNlU3BsdW5rVGhlbWUoKTtcbiAgICBjb25zdCBjb2xTdHlsZSA9IHtcbiAgICAgICAgYm94U2hhZG93OiBlbWJvc3NTaGFkb3csXG4gICAgICAgIHBhZGRpbmc6ICcxJScsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlU3VibWl0ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBmb3JtLmN1cnJlbnQuaGFuZGxlU3VibWl0KCk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGhhbmRsZVJlcXVlc3RDbG9zZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUZvcm1TdWJtaXQgPSAoc2V0LCBjbG9zZSkgPT4ge1xuICAgICAgICBzZXRJc1N1Ym1pdHRpbmcoc2V0KTtcbiAgICAgICAgaWYgKGNsb3NlKSB7XG4gICAgICAgICAgICBoYW5kbGVSZXF1ZXN0Q2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIChcbiAgICAgICAgPENvbHVtbkxheW91dCBndXR0ZXI9ezh9PlxuICAgICAgICAgICAgPENvbHVtbkxheW91dC5Sb3cgc3R5bGU9e3sgcGFkZGluZzogJzVweCAwcHgnIH19PlxuICAgICAgICAgICAgICAgIDxDb2x1bW5MYXlvdXQuQ29sdW1uPlxuICAgICAgICAgICAgICAgICAgICA8U3ViVGl0bGVDb21wb25lbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8TGluayBvbkNsaWNrPXtoYW5kbGVSZXF1ZXN0Q2xvc2V9PntfKCdJbnB1dHMnKX08L0xpbms+XG4gICAgICAgICAgICAgICAgICAgICAgICB7JyA+ICd9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Xyhmb3JtTGFiZWwpfVxuICAgICAgICAgICAgICAgICAgICA8L1N1YlRpdGxlQ29tcG9uZW50PlxuICAgICAgICAgICAgICAgIDwvQ29sdW1uTGF5b3V0LkNvbHVtbj5cbiAgICAgICAgICAgIDwvQ29sdW1uTGF5b3V0LlJvdz5cbiAgICAgICAgICAgIDxDb2x1bW5MYXlvdXQuUm93PlxuICAgICAgICAgICAgICAgIDxDb2x1bW5MYXlvdXQuQ29sdW1uIHNwYW49ezJ9IC8+XG4gICAgICAgICAgICAgICAgPENvbHVtbkxheW91dC5Db2x1bW4gc3Bhbj17OH0gc3R5bGU9e2NvbFN0eWxlfT5cbiAgICAgICAgICAgICAgICAgICAgPEJhc2VGb3JtVmlldyAvLyBub3NlbWdyZXA6IHR5cGVzY3JpcHQucmVhY3Quc2VjdXJpdHkuYXVkaXQucmVhY3Qtbm8tcmVmcy5yZWFjdC1uby1yZWZzXG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9e2Zvcm19XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlPXtQQUdFX0lOUFVUfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZU5hbWU9e3NlcnZpY2VOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZT17bW9kZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YW56YU5hbWU9e3N0YW56YU5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVGb3JtU3VibWl0PXtoYW5kbGVGb3JtU3VibWl0fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvQ29sdW1uTGF5b3V0LkNvbHVtbj5cbiAgICAgICAgICAgICAgICA8Q29sdW1uTGF5b3V0LkNvbHVtbiBzcGFuPXsyfSAvPlxuICAgICAgICAgICAgPC9Db2x1bW5MYXlvdXQuUm93PlxuICAgICAgICAgICAgPENvbHVtbkxheW91dC5Sb3c+XG4gICAgICAgICAgICAgICAgPENvbHVtbkxheW91dC5Db2x1bW4gc3Bhbj17N30gLz5cbiAgICAgICAgICAgICAgICA8Q29sdW1uTGF5b3V0LkNvbHVtbiBzcGFuPXszfSBzdHlsZT17eyB0ZXh0QWxpZ246ICdyaWdodCcgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmVxdWVzdENsb3NlfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e18oJ0NhbmNlbCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZWFyYW5jZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2lzU3VibWl0dGluZyA/IDxXYWl0U3Bpbm5lciAvPiA6IGJ1dHRvblRleHR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTdWJtaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvQ29sdW1uTGF5b3V0LkNvbHVtbj5cbiAgICAgICAgICAgICAgICA8Q29sdW1uTGF5b3V0LkNvbHVtbiBzcGFuPXsyfSAvPlxuICAgICAgICAgICAgPC9Db2x1bW5MYXlvdXQuUm93PlxuICAgICAgICA8L0NvbHVtbkxheW91dD5cbiAgICApO1xufVxuXG5FbnRpdHlQYWdlLnByb3BUeXBlcyA9IHtcbiAgICBoYW5kbGVSZXF1ZXN0Q2xvc2U6IFByb3BUeXBlcy5mdW5jLFxuICAgIHNlcnZpY2VOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIG1vZGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgc3RhbnphTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBmb3JtTGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBtZW1vKEVudGl0eVBhZ2UpO1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5cbmltcG9ydCBDb2x1bW5MYXlvdXQgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9Db2x1bW5MYXlvdXQnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL0J1dHRvbic7XG5pbXBvcnQgRHJvcGRvd24gZnJvbSAnQHNwbHVuay9yZWFjdC11aS9Ecm9wZG93bic7XG5pbXBvcnQgTWVudSBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL01lbnUnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgVG9hc3RNZXNzYWdlcyBmcm9tICdAc3BsdW5rL3JlYWN0LXRvYXN0LW5vdGlmaWNhdGlvbnMvVG9hc3RNZXNzYWdlcyc7XG5pbXBvcnQgeyBfIH0gZnJvbSAnQHNwbHVuay91aS11dGlscy9pMThuJztcbmltcG9ydCB7IGdldEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICcuLi8uLi91dGlsL21lc3NhZ2VVdGlsJztcbmltcG9ydCB7IGdldFVuaWZpZWRDb25maWdzIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcbmltcG9ydCB7IFRpdGxlQ29tcG9uZW50LCBTdWJUaXRsZUNvbXBvbmVudCB9IGZyb20gJy4vSW5wdXRQYWdlU3R5bGUnO1xuaW1wb3J0IHsgVGFibGVDb250ZXh0UHJvdmlkZXIgfSBmcm9tICcuLi8uLi9jb250ZXh0L1RhYmxlQ29udGV4dCc7XG5pbXBvcnQgeyBNT0RFX0NSRUFURSwgTU9ERV9DTE9ORSwgTU9ERV9FRElUIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL21vZGVzJztcbmltcG9ydCB7IFBBR0VfSU5QVVQgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvcGFnZXMnO1xuaW1wb3J0IHsgU1RZTEVfUEFHRSB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9kaWFsb2dTdHlsZXMnO1xuaW1wb3J0IEN1c3RvbU1lbnUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9DdXN0b21NZW51JztcbmltcG9ydCBUYWJsZVdyYXBwZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy90YWJsZS9UYWJsZVdyYXBwZXInO1xuaW1wb3J0IEVudGl0eU1vZGFsIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvRW50aXR5TW9kYWwnO1xuaW1wb3J0IEVycm9yQm91bmRhcnkgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9FcnJvckJvdW5kYXJ5JztcbmltcG9ydCBFbnRpdHlQYWdlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvRW50aXR5UGFnZSc7XG5pbXBvcnQgdXNlUXVlcnkgZnJvbSAnLi4vLi4vaG9va3MvdXNlUXVlcnknO1xuXG5jb25zdCBSb3cgPSBzdHlsZWQoQ29sdW1uTGF5b3V0LlJvdylgXG4gICAgcGFkZGluZzogNXB4IDBweDtcblxuICAgIC5kcm9wZG93biB7XG4gICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgIH1cblxuICAgIC5pbnB1dF9idXR0b24ge1xuICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAwcHg7XG4gICAgfVxuYDtcblxuZnVuY3Rpb24gSW5wdXRQYWdlKCkge1xuICAgIGNvbnN0IFtlbnRpdHksIHNldEVudGl0eV0gPSB1c2VTdGF0ZSh7IG9wZW46IGZhbHNlIH0pO1xuXG4gICAgY29uc3QgdW5pZmllZENvbmZpZ3MgPSBnZXRVbmlmaWVkQ29uZmlncygpO1xuICAgIGNvbnN0IHsgc2VydmljZXMsIHRpdGxlLCBkZXNjcmlwdGlvbiwgbWVudTogY3VzdG9tTWVudUZpZWxkIH0gPSB1bmlmaWVkQ29uZmlncy5wYWdlcy5pbnB1dHM7XG4gICAgY29uc3QgdG9nZ2xlID0gKFxuICAgICAgICA8QnV0dG9uIGFwcGVhcmFuY2U9XCJwcmltYXJ5XCIgaWQ9XCJhZGRJbnB1dEJ0blwiIGxhYmVsPXtfKCdDcmVhdGUgTmV3IElucHV0Jyl9IGlzTWVudSAvPlxuICAgICk7XG4gICAgY29uc3QgUEVSTUlUVEVEX01PREVTID0gW01PREVfQ0xPTkUsIE1PREVfQ1JFQVRFLCBNT0RFX0VESVRdO1xuXG4gICAgY29uc3QgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTtcbiAgICBjb25zdCBxdWVyeSA9IHVzZVF1ZXJ5KCk7XG5cbiAgICBjb25zdCBnZXRJbnB1dE1lbnUgPSAoKSA9PiB7XG4gICAgICAgIGxldCBhcnIgPSBbXTtcbiAgICAgICAgYXJyID0gc2VydmljZXMubWFwKChzZXJ2aWNlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gPE1lbnUuSXRlbSBrZXk9e3NlcnZpY2UubmFtZX0+e3NlcnZpY2UudGl0bGV9PC9NZW51Lkl0ZW0+O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9O1xuXG4gICAgLy8gaGFuZGxlIG1vZGFsL3BhZ2Ugb3BlbiByZXF1ZXN0IG9uIGNyZWF0ZS9hZGQgZW50aXR5IGJ1dHRvblxuICAgIGNvbnN0IGhhbmRsZVJlcXVlc3RPcGVuID0gKHNlcnZpY2VOYW1lLCBzZXJ2aWNlVGl0bGUpID0+IHtcbiAgICAgICAgY29uc3QgaXNJbnB1dFBhZ2VTdHlsZSA9IHNlcnZpY2VzLmZpbmQoKHgpID0+IHgubmFtZSA9PT0gc2VydmljZU5hbWUpLnN0eWxlID09PSBTVFlMRV9QQUdFO1xuXG4gICAgICAgIHNldEVudGl0eSh7XG4gICAgICAgICAgICAuLi5lbnRpdHksXG4gICAgICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICAgICAgc2VydmljZU5hbWUsXG4gICAgICAgICAgICBtb2RlOiBNT0RFX0NSRUFURSxcbiAgICAgICAgICAgIGZvcm1MYWJlbDogYEFkZCAke3NlcnZpY2VUaXRsZX1gLFxuICAgICAgICAgICAgaXNJbnB1dFBhZ2VTdHlsZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpc0lucHV0UGFnZVN0eWxlKSB7XG4gICAgICAgICAgICAvLyBzZXQgcXVlcnkgYW5kIHB1c2ggdG8gaGlzdG9yeVxuICAgICAgICAgICAgcXVlcnkuc2V0KCdzZXJ2aWNlJywgc2VydmljZU5hbWUpO1xuICAgICAgICAgICAgcXVlcnkuc2V0KCdhY3Rpb24nLCBNT0RFX0NSRUFURSk7XG4gICAgICAgICAgICBoaXN0b3J5LnB1c2goeyBzZWFyY2g6IHF1ZXJ5LnRvU3RyaW5nKCkgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gaGFuZGxlIGNsb3NlL2NhbmNlbC9iYWNrIHJlcXVlc3QgaW4gYWRkL2NyZWF0ZSBtb2RhbCBjb21wb25lbnRcbiAgICBjb25zdCBoYW5kbGVNb2RhbERpYWxvZ0Nsb3NlID0gKCkgPT4ge1xuICAgICAgICBzZXRFbnRpdHkoeyAuLi5lbnRpdHksIG9wZW46IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICAvLyBnZW5lcmF0ZSBtb2RhbCBzdHlsZSBkaWFsb2dcbiAgICBjb25zdCBnZW5lcmF0ZU1vZGFsRGlhbG9nID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPEVudGl0eU1vZGFsXG4gICAgICAgICAgICAgICAgcGFnZT17UEFHRV9JTlBVVH1cbiAgICAgICAgICAgICAgICBvcGVuPXtlbnRpdHkub3Blbn1cbiAgICAgICAgICAgICAgICBoYW5kbGVSZXF1ZXN0Q2xvc2U9e2hhbmRsZU1vZGFsRGlhbG9nQ2xvc2V9XG4gICAgICAgICAgICAgICAgc2VydmljZU5hbWU9e2VudGl0eS5zZXJ2aWNlTmFtZX1cbiAgICAgICAgICAgICAgICBtb2RlPXtNT0RFX0NSRUFURX1cbiAgICAgICAgICAgICAgICBmb3JtTGFiZWw9e2VudGl0eS5mb3JtTGFiZWx9XG4gICAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgIH07XG5cbiAgICAvLyBoYW5kbGUgY2xvbmUvZWRpdCByZXF1ZXN0IHBlciByb3cgZnJvbSB0YWJsZSBmb3IgcGFnZSBzdHlsZSBkaWFsb2dcbiAgICBjb25zdCBoYW5kbGVPcGVuUGFnZVN0eWxlRGlhbG9nID0gKHJvdywgbW9kZSkgPT4ge1xuICAgICAgICBjb25zdCBsYWJlbCA9IHNlcnZpY2VzLmZpbmQoKHgpID0+IHgubmFtZSA9PT0gcm93LnNlcnZpY2VOYW1lKT8udGl0bGU7XG4gICAgICAgIHNldEVudGl0eSh7XG4gICAgICAgICAgICAuLi5lbnRpdHksXG4gICAgICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICAgICAgaXNJbnB1dFBhZ2VTdHlsZTogdHJ1ZSxcbiAgICAgICAgICAgIHNlcnZpY2VOYW1lOiByb3cuc2VydmljZU5hbWUsXG4gICAgICAgICAgICBzdGFuemFOYW1lOiByb3cubmFtZSxcbiAgICAgICAgICAgIGZvcm1MYWJlbDogbW9kZSA9PT0gTU9ERV9DTE9ORSA/IGBDbG9uZSAke2xhYmVsfWAgOiBgVXBkYXRlICR7bGFiZWx9YCxcbiAgICAgICAgICAgIG1vZGUsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBzZXQgcXVlcnkgYW5kIHB1c2ggdG8gaGlzdG9yeVxuICAgICAgICBxdWVyeS5zZXQoJ3NlcnZpY2UnLCByb3cuc2VydmljZU5hbWUpO1xuICAgICAgICBxdWVyeS5zZXQoJ2FjdGlvbicsIG1vZGUpO1xuICAgICAgICBoaXN0b3J5LnB1c2goeyBzZWFyY2g6IHF1ZXJ5LnRvU3RyaW5nKCkgfSk7XG4gICAgfTtcblxuICAgIC8vIGhhbmRsZSBjbG9zZSByZXF1ZXN0IGZvciBwYWdlIHN0eWxlIGRpYWxvZ1xuICAgIGNvbnN0IGhhbmRsZVBhZ2VEaWFsb2dDbG9zZSA9ICgpID0+IHtcbiAgICAgICAgc2V0RW50aXR5KHsgLi4uZW50aXR5LCBvcGVuOiBmYWxzZSB9KTtcbiAgICAgICAgcXVlcnkuZGVsZXRlKCdzZXJ2aWNlJyk7XG4gICAgICAgIHF1ZXJ5LmRlbGV0ZSgnYWN0aW9uJyk7XG4gICAgICAgIGhpc3RvcnkucHVzaCh7IHNlYXJjaDogcXVlcnkudG9TdHJpbmcoKSB9KTtcbiAgICB9O1xuXG4gICAgLy8gZ2VuZXJhdGUgcGFnZSBzdHlsZSBkaWFsb2dcbiAgICBjb25zdCBnZW5lcmF0ZVBhZ2VEaWFsb2cgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8RW50aXR5UGFnZVxuICAgICAgICAgICAgICAgIG9wZW49e2VudGl0eS5vcGVufVxuICAgICAgICAgICAgICAgIGhhbmRsZVJlcXVlc3RDbG9zZT17aGFuZGxlUGFnZURpYWxvZ0Nsb3NlfVxuICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lPXtlbnRpdHkuc2VydmljZU5hbWV9XG4gICAgICAgICAgICAgICAgc3RhbnphTmFtZT17ZW50aXR5LnN0YW56YU5hbWV9XG4gICAgICAgICAgICAgICAgbW9kZT17ZW50aXR5Lm1vZGV9XG4gICAgICAgICAgICAgICAgZm9ybUxhYmVsPXtlbnRpdHkuZm9ybUxhYmVsfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VydmljZSA9IHNlcnZpY2VzLmZpbmQoKHgpID0+IHgubmFtZSA9PT0gcXVlcnkuZ2V0KCdzZXJ2aWNlJykpO1xuICAgICAgICAvLyBSdW4gb25seSB3aGVuIHNlcnZpY2UgYW5kIGFjdGlvbi9tb2RlIGlzIHZhbGlkIGFuZCBtb2RhbC9wYWdlIGlzIG5vdCBvcGVuXG4gICAgICAgIGlmIChxdWVyeSAmJiBzZXJ2aWNlICYmIFBFUk1JVFRFRF9NT0RFUy5pbmNsdWRlcyhxdWVyeS5nZXQoJ2FjdGlvbicpKSAmJiAhZW50aXR5Lm9wZW4pIHtcbiAgICAgICAgICAgIC8vIHJ1biB3aGVuIG1vZGUgaXMgbm90IGNyZWF0ZSBhbmQgcHJldmlvdXMgc3RhdGUgaW5mbyBpcyBhdmFpbGFibGVcbiAgICAgICAgICAgIGlmIChxdWVyeS5nZXQoJ2FjdGlvbicpICE9PSBNT0RFX0NSRUFURSAmJiBlbnRpdHkuc3RhbnphTmFtZSkge1xuICAgICAgICAgICAgICAgIHNldEVudGl0eSh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaXNJbnB1dFBhZ2VTdHlsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZU5hbWU6IHF1ZXJ5LmdldCgnc2VydmljZScpLFxuICAgICAgICAgICAgICAgICAgICBtb2RlOiBxdWVyeS5nZXQoJ2FjdGlvbicpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBwcmV2aW91cyBzdGF0ZSBpbmZvIGlzIG5vdCBhdmFpbGFibGUgdGhlbiBkZWZhdWx0IHRvIGNyZWF0ZSBtb2RlXG4gICAgICAgICAgICAgICAgc2V0RW50aXR5KHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBpc0lucHV0UGFnZVN0eWxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZTogcXVlcnkuZ2V0KCdzZXJ2aWNlJyksXG4gICAgICAgICAgICAgICAgICAgIGZvcm1MYWJlbDogYENyZWF0ZSAke3NlcnZpY2U/LnRpdGxlfWAsXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IE1PREVfQ1JFQVRFLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgKCFxdWVyeS5nZXQoJ3NlcnZpY2UnKSB8fCAhcXVlcnkuZ2V0KCdhY3Rpb24nKSkgJiZcbiAgICAgICAgICAgIGVudGl0eS5vcGVuICYmXG4gICAgICAgICAgICBlbnRpdHkuaXNJbnB1dFBhZ2VTdHlsZVxuICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIENsb3NlIHBhZ2Ugd2hlbiBhbnkgb2YgdGhlIHJlcXVpcmVkIHF1ZXJ5IHBhcmFtcyBhcmUgbm90IHByb3ZpZGVkXG4gICAgICAgICAgICBzZXRFbnRpdHkoeyAuLi5lbnRpdHksIG9wZW46IGZhbHNlIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICB9LCBbaGlzdG9yeS5sb2NhdGlvbi5zZWFyY2hdKTtcblxuICAgIGNvbnN0IGNoYW5nZVJvdXRlID0gKHZhbCkgPT4ge1xuICAgICAgICBPYmplY3Qua2V5cyh2YWwpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgcXVlcnkuc2V0KGtleSwgdmFsW2tleV0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaGlzdG9yeS5wdXNoKHsgc2VhcmNoOiBxdWVyeS50b1N0cmluZygpIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8RXJyb3JCb3VuZGFyeT5cbiAgICAgICAgICAgIDxUYWJsZUNvbnRleHRQcm92aWRlciB2YWx1ZT17bnVsbH0+XG4gICAgICAgICAgICAgICAge2VudGl0eS5pc0lucHV0UGFnZVN0eWxlICYmIGVudGl0eS5vcGVuID8gZ2VuZXJhdGVQYWdlRGlhbG9nKCkgOiBudWxsfXsnICd9XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkuaXNJbnB1dFBhZ2VTdHlsZSAmJiBlbnRpdHkub3BlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geyBkaXNwbGF5OiAnbm9uZScgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogeyBkaXNwbGF5OiAnYmxvY2snIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPENvbHVtbkxheW91dCBndXR0ZXI9ezh9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPFJvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29sdW1uTGF5b3V0LkNvbHVtbiBzcGFuPXs5fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRpdGxlQ29tcG9uZW50PntfKHRpdGxlKX08L1RpdGxlQ29tcG9uZW50PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3ViVGl0bGVDb21wb25lbnQ+e18oZGVzY3JpcHRpb24pfTwvU3ViVGl0bGVDb21wb25lbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2x1bW5MYXlvdXQuQ29sdW1uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZXJ2aWNlcyAmJiBzZXJ2aWNlcy5sZW5ndGggPiAxICYmICFjdXN0b21NZW51RmllbGQ/LnNyYyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb2x1bW5MYXlvdXQuQ29sdW1uIGNsYXNzTmFtZT1cImRyb3Bkb3duXCIgc3Bhbj17M30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RHJvcGRvd24gdG9nZ2xlPXt0b2dnbGV9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluZG5hbWUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VzW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlcy5maW5kSW5kZXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoeCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LnRpdGxlID09PSBldmVudC50YXJnZXQuaW5uZXJUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVSZXF1ZXN0T3BlbihmaW5kbmFtZSwgZXZlbnQudGFyZ2V0LmlubmVyVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0SW5wdXRNZW51KCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9NZW51PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Ecm9wZG93bj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2x1bW5MYXlvdXQuQ29sdW1uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlcnZpY2VzICYmIHNlcnZpY2VzLmxlbmd0aCA9PT0gMSAmJiAhY3VzdG9tTWVudUZpZWxkPy5zcmMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29sdW1uTGF5b3V0LkNvbHVtbiBzcGFuPXszfSBjbGFzc05hbWU9XCJpbnB1dF9idXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17Z2V0Rm9ybWF0dGVkTWVzc2FnZSgxMDApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cImFkZElucHV0QnRuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVJlcXVlc3RPcGVuKHNlcnZpY2VzWzBdLm5hbWUsIHNlcnZpY2VzWzBdLnRpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2x1bW5MYXlvdXQuQ29sdW1uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1c3RvbU1lbnVGaWVsZD8uc3JjICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbHVtbkxheW91dC5Db2x1bW4gc3Bhbj17M30gY2xhc3NOYW1lPVwiaW5wdXRfYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7UmVhY3QuY3JlYXRlRWxlbWVudChDdXN0b21NZW51LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IGN1c3RvbU1lbnVGaWVsZC5zcmMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogY3VzdG9tTWVudUZpZWxkLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ2hhbmdlOiBjaGFuZ2VSb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0NvbHVtbkxheW91dC5Db2x1bW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgICAgICAgICA8L0NvbHVtbkxheW91dD5cblxuICAgICAgICAgICAgICAgICAgICA8VGFibGVXcmFwcGVyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlPXtQQUdFX0lOUFVUfVxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlT3BlblBhZ2VTdHlsZURpYWxvZz17aGFuZGxlT3BlblBhZ2VTdHlsZURpYWxvZ31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPFRvYXN0TWVzc2FnZXMgcG9zaXRpb249XCJ0b3AtcmlnaHRcIiAvPlxuICAgICAgICAgICAgICAgICAgICB7IWVudGl0eS5pc0lucHV0UGFnZVN0eWxlICYmIGVudGl0eS5vcGVuID8gZ2VuZXJhdGVNb2RhbERpYWxvZygpIDogbnVsbH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvVGFibGVDb250ZXh0UHJvdmlkZXI+XG4gICAgICAgIDwvRXJyb3JCb3VuZGFyeT5cbiAgICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBJbnB1dFBhZ2U7XG4iXSwic291cmNlUm9vdCI6IiJ9