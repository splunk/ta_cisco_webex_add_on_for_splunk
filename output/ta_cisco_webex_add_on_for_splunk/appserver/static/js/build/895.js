"use strict";(self.webpackChunk_splunk_ucc_ui_lib=self.webpackChunk_splunk_ucc_ui_lib||[]).push([[895],{895:(e,n,t)=>{t.r(n),t.d(n,{default:()=>se});var r=t(67294),o=t(89250),i=t(71569),a=t.n(i),u=t(12788),l=t(41946),c=t.n(l),s=t(62672),f=t.n(s),p=t(36219),m=t(64255),d=t(71263),b=t(56057),y=t(6549),h=t(24843),v=t(99881),g=t(45697),j=t.n(g),S=t(96635),O=t.n(S),w=t(72725),x=t.n(w),P=t(27354),_=t.n(P),N=t(80720),C=t.n(N),I=t(25947),k=t(79609),T=t(74266),R=t(85893);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function A(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function q(e,n){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},q(e,n)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function M(e,n,t){return(n=L(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function L(e){var n=function(e,n){if("object"!==E(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===E(n)?n:String(n)}var Z=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&q(e,n)}(a,e);var n,t,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=D(r);if(o){var t=D(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===E(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return z(e)}(this,e)});function a(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),M(z(n=i.call(this,e)),"setValue",(function(e){n.props.handleChange(e)})),M(z(n),"loadCustomMenu",(function(){return new Promise((function(e){if("external"===n.props.type)import("".concat((0,T.a)(),"/custom/").concat(n.props.fileName,".js")).then((function(n){var t=n.default;e(t)}));else{var t=(0,m.YK)().meta.name;require(["app/".concat(t,"/js/build/custom/").concat(n.props.fileName)],(function(n){return e(n)}))}}))})),n.state={loading:!0},n.shouldRender=!0,n}return n=a,(t=[{key:"componentDidMount",value:function(){var e=this,n=(0,m.YK)(),t=n.pages.inputs,r=t.services,o=t.menu,i=t.groupsMenu;this.setState({loading:!0}),this.loadCustomMenu().then((function(t){var a=new t(n,e.el,e.setValue);r&&o&&!i&&a.render(),e.setState({loading:!1})}))}},{key:"shouldComponentUpdate",value:function(e,n){return!(n.loading||!this.shouldRender||(this.shouldRender=!1,0))}},{key:"render",value:function(){var e=this;return(0,R.jsxs)(R.Fragment,{children:[this.state.loading&&(0,p._)("Loading..."),(0,R.jsx)("span",{ref:function(n){e.el=n},style:{visibility:this.state.loading?"hidden":"visible"}})]})}}])&&A(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),a}(r.Component);Z.propTypes={fileName:j().string.isRequired,type:j().string,handleChange:j().func};const B=Z;var F,K=t(92246);function U(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,u=[],l=!0,c=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=i.call(t)).done)&&(u.push(r.value),u.length!==n);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,n)||function(e,n){if(e){if("string"==typeof e)return Y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Y(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var V,$,G=u.default.span(F||(V=["\n    color: ",";\n    font-size: ",";\n    font-weight: 500;\n"],$||($=V.slice(0)),F=Object.freeze(Object.defineProperties(V,{raw:{value:Object.freeze($)}}))),I.variables.brandColorD20,I.variables.fontSizeSmall);function H(e){var n=e.handleRequestOpen,t=U((0,r.useState)("main_panel"),2),o=t[0],i=t[1],a=U((0,r.useState)("forward"),2),u=a[0],l=a[1],c=U((0,r.useState)(!1),2),s=c[0],f=c[1],d=U((0,r.useState)(!0),2),b=d[0],y=d[1],h=(0,m.YK)().pages.inputs,v=h.services,g=h.menu,j=h.groupsMenu,S=["clickAway","escapeKey","offScreen","toggleClick"],w=(0,R.jsx)(K.Sn,{appearance:"primary",id:"addInputBtn",label:(0,p._)("Create New Input"),isMenu:!0});(0,r.useEffect)((function(){b||(f(!1),y(!0))}),[b]);var P=function(e){var n=e.reason;f(!S.includes(n))},N=function(){f(!0)},I=function(e){var t=e.service;n(t)},T=(0,r.useMemo)((function(){var e={main_panel:[]};return j?j.forEach((function(n){var t;null!=n&&n.groupServices?(e[n.groupName]=[],n.groupServices.forEach((function(t){var r;e[n.groupName].push({name:t,hasSubmenu:!1,title:v.find((function(e){return e.name===t})).title,subTitle:null===(r=v.find((function(e){return e.name===t})))||void 0===r?void 0:r.subTitle})})),e.main_panel.push({name:n.groupName,title:n.groupTitle,hasSubmenu:!0})):e.main_panel.push({name:n.groupName,title:n.groupTitle,subTitle:null===(t=v.find((function(e){return e.name===n.groupName})))||void 0===t?void 0:t.subTitle,hasSubmenu:!1})})):e.main_panel=v.map((function(e){return{name:e.name,title:e.title,subTitle:e.subTitle,hasSubmenu:!1}})),function(e){return Object.keys(e).map((function(t){return(0,R.jsx)(_().Panel,{panelId:t,children:(0,R.jsxs)(x(),{children:["main_panel"!==t&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(x().Item,{icon:(0,R.jsx)(C(),{}),onClick:function(){i("main_panel"),l("backward")},children:"Back"}),(0,R.jsx)(x().Divider,{})]}),(r=e[t],o=t,r.map((function(e){return null!=e&&e.hasSubmenu?(0,R.jsx)(x().Item,{hasSubmenu:!0,onClick:function(){i(e.name),l("forward")},children:e.title},e.name):(0,R.jsxs)(x().Item,{onClick:function(){n(e.name,o),y(!1)},children:[e.title,(0,R.jsxs)(G,{children:["Â ",e.subTitle]})]},e.name)})))]})},t);var r,o}))}(e)}),[]),E=function(){return(0,R.jsx)(O(),{toggle:w,open:s,onRequestClose:P,onRequestOpen:N,children:(0,R.jsx)(_(),{activePanelId:o,transition:u,style:{width:"210px"},children:T})})},A=function(){return(0,R.jsx)(K.Sn,{label:(0,k.P)(100),appearance:"primary",id:"addInputBtn",onClick:function(){n(v[0].name)}})};return!v||null!=g&&g.src?v&&null!=g&&g.src&&j?(0,R.jsxs)(R.Fragment,{children:[r.createElement(B,{fileName:g.src,type:g.type,handleChange:I}),1===v.length?A():E()]}):(0,R.jsx)(R.Fragment,{children:r.createElement(B,{fileName:g.src,type:g.type,handleChange:I})}):1===v.length?A():E()}H.propTypes={handleRequestOpen:j().func};const W=H;var J,Q=t(37588),X=t(5792),ee=t(5496),ne=t(63649),te=t(94893);function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function oe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ie(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?oe(Object(t),!0).forEach((function(n){ae(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ae(e,n,t){return(n=function(e){var n=function(e,n){if("object"!==re(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===re(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ue(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,u=[],l=!0,c=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=i.call(t)).done)&&(u.push(r.value),u.length!==n);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,n)||function(e,n){if(e){if("string"==typeof e)return le(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?le(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var ce=(0,u.default)(a().Row)(J||(J=function(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n    padding: 5px 0px;\n\n    .title_menu_column {\n        width: auto !important;\n    }\n\n    .page_subtitle {\n        min-height: 20px;\n    }\n\n    .dropdown {\n        text-align: right;\n    }\n"])));const se=function(){var e=ue((0,r.useState)({open:!1}),2),n=e[0],t=e[1],i=(0,m.YK)().pages.inputs,u=i.services,l=i.title,s=i.table,g=i.description,j=!s,S=ue((0,r.useState)(u[0].name),2),O=S[0],w=S[1],x=u.find((function(e){return e.name===O})),P=[y.Oh,y.jg,y.bZ],_=u.map((function(e){return e.name})),N=(0,o.s0)(),C=(0,te.Z)();(0,r.useEffect)((function(){I(),k()}),[(0,o.TH)().search]);var I=function(){var e=u.find((function(e){return e.name===C.get("service")}));C&&e&&P.includes(C.get("action"))&&!n.open?C.get("action")!==y.jg&&n.stanzaName?t(ie(ie({},n),{},{open:!0,isInputPageStyle:!0,serviceName:C.get("service"),mode:C.get("action")})):t(ie(ie({},n),{},{open:!0,isInputPageStyle:!0,serviceName:C.get("service"),formLabel:"Create ".concat(null==e?void 0:e.title),mode:y.jg})):C.get("service")&&C.get("action")||!n.open||!n.isInputPageStyle||t(ie(ie({},n),{},{open:!1}))},k=function(){C&&_.includes(C.get("service"))&&w(C.get("service"))},T=function(e,r){var o=u.find((function(n){return n.name===e})),i=o.title,a=o.style===v.G;t(ie(ie({},n),{},{open:!0,serviceName:e,mode:y.jg,formLabel:"Add ".concat(i),isInputPageStyle:a,groupName:r})),a&&(C.set("service",e),C.set("action",y.jg),N({search:C.toString()}))},E=function(e,r){var o,i=null===(o=u.find((function(n){return n.name===e.serviceName})))||void 0===o?void 0:o.title;t(ie(ie({},n),{},{open:!0,isInputPageStyle:!0,serviceName:e.serviceName,stanzaName:e.name,formLabel:r===y.Oh?"Clone ".concat(i):"Update ".concat(i),mode:r})),C.set("service",e.serviceName),C.set("action",r),N({search:C.toString()})},A=(0,r.useCallback)((function(e,n){var t=n.selectedTabId;w(t),C.delete("action"),C.set("service",t),N({search:C.toString()})}),[O]);return(0,R.jsx)(ee.Z,{children:(0,R.jsxs)(b.W,{value:null,children:[n.isInputPageStyle&&n.open?(0,R.jsx)(ne.Z,{open:n.open,handleRequestClose:function(){t(ie(ie({},n),{},{open:!1})),j||C.delete("service"),C.delete("action"),N({search:C.toString()})},serviceName:n.serviceName,stanzaName:n.stanzaName,mode:n.mode,formLabel:n.formLabel,page:h.b,groupName:n.groupName}):null," ",(0,R.jsxs)("div",{style:n.isInputPageStyle&&n.open?{display:"none"}:{display:"block"},children:[(0,R.jsx)(a(),{gutter:8,children:(0,R.jsxs)(ce,{children:[(0,R.jsxs)(a().Column,{className:j&&"title_menu_column",span:9,children:[(0,R.jsx)(d.r3,{children:j?(0,p._)(x.title):(0,p._)(l||"")}),(0,R.jsx)(d.pZ,{className:j&&"page_subtitle",children:j?(0,p._)(x.description):(0,p._)(g||"")})]}),(0,R.jsx)(a().Column,{className:j?"title_menu_column":"dropdown",span:3,children:!j&&(0,R.jsx)(W,{handleRequestOpen:T})})]})}),j?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(f(),{activeTabId:O,onChange:A,children:u.map((function(e){return(0,R.jsx)(f().Tab,{label:(0,p._)(e.title),tabId:e.name},e.name)}))}),u.map((function(e){return(0,R.jsx)("div",{style:e.name!==O?{display:"none"}:{display:"block"},id:"".concat(e.name,"Tab"),children:(0,R.jsx)(Q.Z,{page:h.b,serviceName:e.name,handleRequestModalOpen:function(){return T(e.name)},handleOpenPageStyleDialog:E})},e.name)}))]}):(0,R.jsx)(Q.Z,{page:h.b,handleOpenPageStyleDialog:E}),(0,R.jsx)(c(),{position:"top-right"}),!n.isInputPageStyle&&n.open?(0,R.jsx)(X.Z,{page:h.b,open:n.open,handleRequestClose:function(){t(ie(ie({},n),{},{open:!1}))},serviceName:n.serviceName,mode:y.jg,formLabel:n.formLabel,groupName:n.groupName}):null]})]})})}}}]);